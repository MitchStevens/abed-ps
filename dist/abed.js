(()=>{var FM=function(n){return function(r){for(var t=[],e=0,a=n.length;e<a;e++)Array.prototype.push.apply(t,r(n[e]));return t}};var LM=function(n){return function(r){for(var t=n.length,e=r.length,a=new Array(t*e),o=0,u=0;u<t;u++)for(var i=n[u],c=0;c<e;c++)a[o++]=i(r[c]);return a}};var a_={compose:function(n){return function(r){return function(t){return n(r(t))}}}},Uf=function(n){return n.compose},o_=function(n){var r=Uf(n);return function(t){return function(e){return r(e)(t)}}};var G=function(n){return n.identity},z={identity:function(n){return n},Semigroupoid0:function(){return a_}};var Vn=!0;var Ng=function(n){return function(r){return function(t){return function(e){return n(r(t))(r(e))}}}},Z=function(n){return function(r){return function(t){return n(t)(r)}}},U=function(n){return function(r){return n}};var Wg=function(n){return function(r){return r(n)}};var SM=function(n){return function(r){for(var t=r.length,e=new Array(t),a=0;a<t;a++)e[a]=n(r[a]);return e}};var Q=function(){function n(){}return n.value=new n,n}();var g=function(n){return n.map},je=function(n){var r=g(n);return function(t){return function(e){return r(e)(t)}}},Hn=function(n){return g(n)(U(void 0))},Zo=function(n){var r=g(n);return function(t){return function(e){return r(U(e))(t)}}},cl=function(n){var r=g(n);return function(t){return r(U(t))}};var ct={map:Uf(a_)},kn={map:SM};var DW=G(z);var ll={apply:function(n){return function(r){return function(t){return n(t)(r(t))}}},Functor0:function(){return ct}},u_={apply:LM,Functor0:function(){return kn}},gn=function(n){return n.apply},AM=function(n){var r=gn(n),t=g(n.Functor0());return function(e){return function(a){return r(t(U)(e))(a)}}},Bu=function(n){var r=gn(n),t=g(n.Functor0());return function(e){return function(a){return r(t(U(DW))(e))(a)}}},It=function(n){var r=gn(n),t=g(n.Functor0());return function(e){return function(a){return function(o){return r(t(e)(a))(o)}}}};var h=function(n){return n.pure},ha=function(n){var r=h(n);return function(t){return function(e){if(!t)return e;if(t)return r(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,e.constructor.name])}}},Cr=function(n){var r=h(n);return function(t){return function(e){if(t)return e;if(!t)return r(void 0);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[t.constructor.name,e.constructor.name])}}},i_=function(n){var r=gn(n.Apply0()),t=h(n);return function(e){return function(a){return r(t(e))(a)}}};var Ga={pure:function(n){return[n]},Apply0:function(){return u_}};var yW=G(z),Nn=function(n){return n.discard};var Ee={bind:FM,Apply0:function(){return u_}},b=function(n){return n.bind},fr=function(n){return Z(b(n))},f_=function(n){var r=fr(n);return function(t){return function(e){return function(a){return r(t)(e(a))}}}},Og=function(n){var r=b(n);return function(t){return function(e){return function(a){return r(t(a))(e)}}}};var Wn={discard:function(n){return b(n)}};var co=function(n){var r=b(n);return function(t){return r(t)(yW)}};var IM=function(n){return function(r){return function(t){for(var e=r,a=t.length,o=a-1;o>=0;o--)e=n(t[o])(e);return e}}},HM=function(n){return function(r){return function(t){for(var e=r,a=t.length,o=0;o<a;o++)e=n(e)(t[o]);return e}}};var PM=function(n){return function(r){return n+r}},xM=function(n){return function(r){return n.length===0?r:r.length===0?n:n.concat(r)}};var kr=function(n){return n.reflectSymbol};var c_=function(n){var r=function(t){var e;function a(o){t=o}for(;;)e=a(t);return e};return r(n)};var fe=function(n){return function(r){return r[n]}},ba=function(n){return function(r){return function(t){var e={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e[n]=r,e}}};var l_={append:PM};var ht={append:xM};var W=function(n){return n.append},Rm=function(n){var r=W(n);return{append:function(t){return function(e){return function(a){return r(t(a))(e(a))}}}}};var Rr=function(n){return n.alt};var Me=function(n){return n.empty};var RM=String.fromCharCode(65535),NM=String.fromCharCode(0),MW=Number.POSITIVE_INFINITY,wW=Number.NEGATIVE_INFINITY;var qg=function(n){return function(r){return function(t){return function(e){return function(a){return e<a?n:e===a?r:t}}}}};var WM=qg;var OM=qg,qM=qg;var Nm=function(n){return function(r){return n===r}},$M=Nm,UM=Nm;var BM=Nm,GM=Nm,kM=function(n){return function(r){return function(t){if(r.length!==t.length)return!1;for(var e=0;e<r.length;e++)if(!n(r[e])(t[e]))return!1;return!0}}};var Wm={eq:function(n){return function(r){return!0}}},ka={eq:GM},$g={eqRecord:function(n){return function(r){return function(t){return!0}}}},zM=function(n){return n.eqRecord},Ug=function(){return function(n){return{eq:zM(n)(Q.value)}}};var Wi={eq:UM},JM={eq:BM},Om={eq:$M},lo=function(n){return n.eq1},I=function(n){return n.eq},AW=I(Om),sl=function(n){return{eq:kM(I(n))}};var Bg=function(n){var r=zM(n);return function(){return function(t){var e=kr(t);return function(a){var o=I(a);return{eqRecord:function(u){return function(i){return function(c){var s=r(Q.value)(i)(c),_=e(Q.value),m=fe(_);return o(m(i))(m(c))&&s}}}}}}}},Ht=function(n){var r=I(n);return function(t){return function(e){return AW(r(t)(e))(!1)}}};var S=function(){function n(){}return n.value=new n,n}(),A=function(){function n(){}return n.value=new n,n}(),R=function(){function n(){}return n.value=new n,n}();var Gg={append:function(n){return function(r){if(n instanceof S)return S.value;if(n instanceof A)return A.value;if(n instanceof R)return r;throw new Error("Failed pattern match at Data.Ordering (line 21, column 1 - line 24, column 18): "+[n.constructor.name,r.constructor.name])}}};var _l={eq:function(n){return function(r){return n instanceof S&&r instanceof S||n instanceof A&&r instanceof A||n instanceof R&&r instanceof R}}};var VM=function(n){return function(r){return n-r|0}},QM=function(n){return function(r){return n-r}};var jM=function(n){return function(r){return n+r|0}},KM=function(n){return function(r){return n*r|0}},XM=function(n){return function(r){return n+r}},YM=function(n){return function(r){return n*r}};var ZM=function(n){return n.zeroRecord},kt=function(n){return n.zero};var kg={addRecord:function(n){return function(r){return function(t){return{}}}},mulRecord:function(n){return function(r){return function(t){return{}}}},oneRecord:function(n){return function(r){return{}}},zeroRecord:function(n){return function(r){return{}}}};var qm={add:XM,zero:0,mul:YM,one:1},Ke={add:jM,zero:0,mul:KM,one:1},n0=function(n){return n.oneRecord},Xe=function(n){return n.one},r0=function(n){return n.mulRecord},ce=function(n){return n.mul},t0=function(n){return n.addRecord},zg=function(){return function(n){return{add:t0(n)(Q.value),mul:r0(n)(Q.value),one:n0(n)(Q.value)(Q.value),zero:ZM(n)(Q.value)(Q.value)}}},Pt=function(n){return n.add};var $m=function(n){var r=kr(n);return function(){return function(t){var e=t0(t),a=r0(t),o=n0(t),u=ZM(t);return function(i){var c=Pt(i),s=ce(i),_=Xe(i),m=kt(i);return{addRecord:function(p){return function(l){return function(f){var d=e(Q.value)(l)(f),E=r(Q.value),H=ba(E),O=fe(E);return H(c(O(l))(O(f)))(d)}}},mulRecord:function(p){return function(l){return function(f){var d=a(Q.value)(l)(f),E=r(Q.value),H=ba(E),O=fe(E);return H(s(O(l))(O(f)))(d)}}},oneRecord:function(p){return function(l){var f=o(Q.value)(Q.value),d=r(Q.value),E=ba(d);return E(_)(f)}},zeroRecord:function(p){return function(l){var f=u(Q.value)(Q.value),d=r(Q.value),E=ba(d);return E(m)(f)}}}}}}};var Oi=function(n){return n.sub};var s_={sub:QM,Semiring0:function(){return qm}},e0={sub:VM,Semiring0:function(){return Ke}};var RW=Ug(),NW=Ht(_l);var zt={compare:function(n){return function(r){return R.value}},Eq0:function(){return Wm}},Sr=function(){return{compare:OM(S.value)(R.value)(A.value),Eq0:function(){return ka}}}(),__={compareRecord:function(n){return function(r){return function(t){return R.value}}},EqRecord0:function(){return $g}};var zr=function(){return{compare:WM(S.value)(R.value)(A.value),Eq0:function(){return Wi}}}(),Um=function(){return{compare:qM(S.value)(R.value)(A.value),Eq0:function(){return JM}}}();var o0=function(n){return n.compareRecord},p_=function(){return function(n){var r=RW(n.EqRecord0());return{compare:o0(n)(Q.value),Eq0:function(){return r}}}},so=function(n){return n.compare1},J=function(n){return n.compare};var pl=function(n){var r=J(n);return function(t){return function(e){var a=r(t)(e);return a instanceof A}}},u0=function(n){var r=J(n);return function(t){return function(e){var a=r(t)(e);return!(a instanceof S)}}},Gf=function(n){var r=J(n);return function(t){return function(e){var a=r(t)(e);return a instanceof S}}};var Bm=function(n){var r=J(n);return function(t){return function(e){var a=r(t)(e);return!(a instanceof A)}}};var kf=function(n){var r=o0(n),t=Bg(n.EqRecord0())();return function(){return function(e){var a=kr(e),o=t(e);return function(u){var i=J(u),c=o(u.Eq0());return{compareRecord:function(s){return function(_){return function(m){var p=a(Q.value),l=i(fe(p)(_))(fe(p)(m)),f=NW(l)(R.value);return f?l:r(Q.value)(_)(m)}}},EqRecord0:function(){return c}}}}}};var i0=function(n){var r=Gf(n),t=pl(n);return function(e){return function(a){return function(o){return!(r(o)(e)||t(o)(a))}}}};var Ca=function(n){return n.top};var Gm={top:2147483647,bottom:-2147483648,Ord0:function(){return zr}},m_={top:RM,bottom:NM,Ord0:function(){return Um}};var Ea=function(n){return n.bottom};var f0=function(n){return n.toString()},c0=function(n){var r=n.toString();return isNaN(r+".0")?r:r+".0"};var l0=function(n){var r=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,function(t,e){switch(t){case'"':case"\\":return"\\"+t;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var a=e+1,o=a<r&&n[a]>="0"&&n[a]<="9"?"\\&":"";return"\\"+t.charCodeAt(0).toString(10)+o})+'"'},s0=function(n){return function(r){for(var t=[],e=0,a=r.length;e<a;e++)t[e]=n(r[e]);return"["+t.join(",")+"]"}};var wa={show:l0};var _0=function(n){return n.showRecordFields},ru=function(){return function(){return function(n){var r=_0(n);return{show:function(t){return"{"+(r(Q.value)(t)+"}")}}}}};var Ye={show:c0},Ar={show:f0};var Vg={show:function(n){if(n)return"true";if(!n)return"false";throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): "+[n.constructor.name])}},w=function(n){return n.show},ml=function(n){return{show:s0(w(n))}},za=function(n){var r=kr(n);return function(t){var e=_0(t);return function(a){var o=w(a);return{showRecordFields:function(u){return function(i){var c=e(Q.value)(i),s=r(Q.value),_=fe(s)(i);return" "+(s+(": "+(o(_)+(","+c))))}}}}}},_o=function(n){var r=kr(n);return function(t){var e=w(t);return{showRecordFields:function(a){return function(o){var u=r(Q.value),i=fe(u)(o);return" "+(u+(": "+(e(i)+" ")))}}}}};var we=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Ir=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),vl=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var ku=function(){function n(){}return n.value=new n,n}(),p0=function(n){return n},Qg=function(n){return n},m0=function(n){return n.to};var jg=function(n){return n.from};var v0=G(z),D=function(){function n(){}return n.value=new n,n}(),v=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),km=function(n){var r=w(n);return{show:function(t){if(t instanceof v)return"(Just "+(r(t.value0)+")");if(t instanceof D)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 223, column 1 - line 225, column 28): "+[t.constructor.name])}}},d0=function(n){var r=W(n);return{append:function(t){return function(e){if(t instanceof D)return e;if(e instanceof D)return t;if(t instanceof v&&e instanceof v)return new v(r(t.value0)(e.value0));throw new Error("Failed pattern match at Data.Maybe (line 182, column 1 - line 185, column 43): "+[t.constructor.name,e.constructor.name])}}}};var zm=function(n){return function(r){return function(t){if(t instanceof D)return n(void 0);if(t instanceof v)return r(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 250, column 1 - line 250, column 62): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},on=function(n){return function(r){return function(t){if(t instanceof D)return n;if(t instanceof v)return r(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},Ze=on(!0)(U(!1)),zu=on(!1)(U(!0));var wn={map:function(n){return function(r){return r instanceof v?new v(n(r.value0)):D.value}}},BW=g(wn);var D0=function(n){return zm(n)(v0)},Kn=function(n){return on(n)(v0)},Nt=function(){return function(n){if(n instanceof v)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}};var Fe=function(n){var r=I(n);return{eq:function(t){return function(e){return t instanceof D&&e instanceof D?!0:t instanceof v&&e instanceof v?r(t.value0)(e.value0):!1}}}};var po={apply:function(n){return function(r){if(n instanceof v)return BW(n.value0)(r);if(n instanceof D)return D.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[n.constructor.name,r.constructor.name])}},Functor0:function(){return wn}};var Dr={bind:function(n){return function(r){if(n instanceof v)return r(n.value0);if(n instanceof D)return D.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[n.constructor.name,r.constructor.name])}},Apply0:function(){return po}};var Le=function(){return{pure:v.create,Apply0:function(){return po}}}();var GW={alt:function(n){return function(r){return n instanceof D?r:n}},Functor0:function(){return wn}},kW=function(){return{empty:D.value,Alt0:function(){return GW}}}(),$i={Applicative0:function(){return Le},Plus1:function(){return kW}};var Y=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),K=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var v_=function(n){return on(new Y(n))(K.create)};var Ue={map:function(n){return function(r){if(r instanceof Y)return new Y(r.value0);if(r instanceof K)return new K(n(r.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[r.constructor.name])}}},zW=g(Ue);var g0=function(n){return function(r){return r instanceof Y?r.value0:n}};var qr=function(n){return function(r){return function(t){if(t instanceof Y)return n(t.value0);if(t instanceof K)return r(t.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},Jm=function(){return qr(U(D.value))(v.create)}();var y0=qr(U(!1))(U(!0));var h0={apply:function(n){return function(r){if(n instanceof Y)return new Y(n.value0);if(n instanceof K)return zW(n.value0)(r);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,r.constructor.name])}},Functor0:function(){return Ue}};var Ju={bind:qr(function(n){return function(r){return new Y(n)}})(function(n){return function(r){return r(n)}}),Apply0:function(){return h0}};var Se=function(){return{pure:K.create,Apply0:function(){return h0}}}(),d_={Applicative0:function(){return Se},Bind1:function(){return Ju}};var D_=function(n){return n.extract};var dl=function(n){return n.defer};var T0=function(n){return function(r){return n&&r}},C0=function(n){return function(r){return n||r}},E0=function(n){return!n};var na=function(n){return n.tt};var xt=function(n){return n.not};var Qm=function(n){return n.implies};var le=function(n){return n.ff};var Fa=function(n){return n.disj},lt={ff:!1,tt:!0,implies:function(n){return function(r){return Fa(lt)(xt(lt)(n))(r)}},conj:T0,disj:C0,not:E0};var ra=function(n){return n.conj},Ui=function(n){var r=le(n),t=na(n),e=Qm(n),a=ra(n),o=Fa(n),u=xt(n);return{ff:function(i){return r},tt:function(i){return t},implies:function(i){return function(c){return function(s){return e(i(s))(c(s))}}},conj:function(i){return function(c){return function(s){return a(i(s))(c(s))}}},disj:function(i){return function(c){return function(s){return o(i(s))(c(s))}}},not:function(i){return function(c){return u(i(c))}}}};var M0=function(n){return Math.min(Math.abs(n),2147483647)},w0=function(n){return function(r){return r===0?0:r>0?Math.floor(n/r):-Math.floor(n/-r)}},F0=function(n){return function(r){if(r===0)return 0;var t=Math.abs(r);return(n%t+t)%t}};var L0={Ring0:function(){return e0}};var Vu=function(n){return n.mod};var Be={degree:M0,div:w0,mod:F0,CommutativeRing0:function(){return L0}},mo=function(n){return n.div};var XW=Vu(Be),S0=mo(Be);var se={mempty:"",Semigroup0:function(){return l_}};var Sn=function(n){return n.mempty},y_=function(n){var r=Sn(n),t=Rm(n.Semigroup0());return{mempty:function(e){return r},Semigroup0:function(){return t}}};var Xg=function(n){var r=Sn(n),t=W(n.Semigroup0());return function(e){var a=function(o){if(o<=0)return r;if(o===1)return e;if(XW(o)(2)===0){var u=a(S0(o)(2));return t(u)(u)}if(Vn){var u=a(S0(o)(2));return t(u)(t(u)(e))}throw new Error("Failed pattern match at Data.Monoid (line 88, column 3 - line 88, column 17): "+[o.constructor.name])};return a}};var y=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),eu=function(n){return function(r){return n(r.value0)(r.value1)}};var Hr=function(n){return n.value1},jm=function(n){var r=w(n);return function(t){var e=w(t);return{show:function(a){return"(Tuple "+(r(a.value0)+(" "+(e(a.value1)+")")))}}}},YW=function(n){var r=Pt(n),t=Xe(n),e=ce(n),a=kt(n);return function(o){var u=Pt(o),i=ce(o);return{add:function(c){return function(s){return new y(r(c.value0)(s.value0),u(c.value1)(s.value1))}},one:new y(t,Xe(o)),mul:function(c){return function(s){return new y(e(c.value0)(s.value0),i(c.value1)(s.value1))}},zero:new y(a,kt(o))}}};var A0=function(n){var r=Oi(n),t=YW(n.Semiring0());return function(e){var a=Oi(e),o=t(e.Semiring0());return{sub:function(u){return function(i){return new y(r(u.value0)(i.value0),a(u.value1)(i.value1))}},Semiring0:function(){return o}}}};var au={map:function(n){return function(r){return new y(r.value0,n(r.value1))}}};var st=function(n){return n.value0};var Km=function(n){var r=I(n);return function(t){var e=I(t);return{eq:function(a){return function(o){return r(a.value0)(o.value0)&&e(a.value1)(o.value1)}}}}},h_=function(n){var r=J(n),t=Km(n.Eq0());return function(e){var a=J(e),o=t(e.Eq0());return{compare:function(u){return function(i){var c=r(u.value0)(i.value0);return c instanceof S?S.value:c instanceof A?A.value:a(u.value1)(i.value1)}},Eq0:function(){return o}}}};var ZW=G(z),Jt=function(n){return n.bimap},Bi=function(n){var r=Jt(n);return function(t){return r(t)(ZW)}};var Vf={bimap:function(n){return function(r){return function(t){return new y(n(t.value0),r(t.value1))}}}},Gi={bimap:function(n){return function(r){return function(t){if(t instanceof Y)return new Y(n(t.value0));if(t instanceof K)return new K(r(t.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 32, column 1 - line 34, column 36): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}}};var Zg=function(n){return n};var oO={append:function(n){return function(r){return n instanceof v?n:r}}};var ny=function(){return{mempty:D.value,Semigroup0:function(){return oO}}}();var Dl=function(n){return n};var uO=function(n){var r=ra(n);return{append:function(t){return function(e){return r(t)(e)}}}};var Ym=function(n){var r=uO(n);return{mempty:na(n),Semigroup0:function(){return r}}};var iO=function(n){var r=Fa(n);return{append:function(t){return function(e){return r(t)(e)}}}};var C_=function(n){var r=iO(n);return{mempty:le(n),Semigroup0:function(){return r}}};var L=function(n){return n};var ou=function(){return L};var E_=ou(),ry=function(){return E_};var rr=function(){return E_};var nv=function(){return function(){return function(n){return E_}}};var hl=function(){return function(){return function(n){return E_}}};var bl=function(){return function(){return function(){return function(){return function(n){return E_}}}}};var fO=G(z);var cO=bl()()()(),cr=function(n){return n.foldr};var zn=function(n){var r=Bu(n.Apply0()),t=h(n);return function(e){var a=cr(e);return function(o){return a(function(u){return r(o(u))})(t(void 0))}}},Nr=function(n){var r=zn(n);return function(t){return Z(r(t))}};var qn=function(n){return n.foldl},H0=function(n){var r=qn(n);return function(t){var e=function(o){return function(u){if(o.elem instanceof v)return o;var i=o.pos===t;return i?{elem:new v(u),pos:o.pos}:{pos:o.pos+1|0,elem:o.elem}}},a=r(e)({elem:D.value,pos:0});return function(o){return function(u){return u.elem}(a(o))}}},Ja=function(n){var r=qn(n);return function(t){var e=W(t.Semigroup0()),a=Sn(t);return function(o){return function(u){var i=function(c){return function(s){return c.init?{init:!1,acc:s}:{init:!1,acc:e(c.acc)(e(o)(s))}}};return r(i)({init:!0,acc:a})(u).acc}}}},tv=function(n){var r=qn(n);return function(t){var e=Pt(t),a=Xe(t);return r(function(o){return function(u){return e(a)(o)}})(kt(t))}};var ev=function(n){var r=qn(n);return function(t){return r(Pt(t))(kt(t))}};var An={foldr:function(n){return function(r){return function(t){if(t instanceof D)return r;if(t instanceof v)return n(t.value0)(r);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},foldl:function(n){return function(r){return function(t){if(t instanceof D)return r;if(t instanceof v)return n(r)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},foldMap:function(n){var r=Sn(n);return function(t){return function(e){if(e instanceof D)return r;if(e instanceof v)return t(e.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name])}}}};var ju={foldr:function(n){return function(r){return function(t){if(t instanceof Y)return r;if(t instanceof K)return n(t.value0)(r);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},foldl:function(n){return function(r){return function(t){if(t instanceof Y)return r;if(t instanceof K)return n(r)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},foldMap:function(n){var r=Sn(n);return function(t){return function(e){if(e instanceof Y)return r;if(e instanceof K)return t(e.value0);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[t.constructor.name,e.constructor.name])}}}};var P0=function(n){var r=cr(n);return function(t){var e=W(t.Semigroup0()),a=Sn(t);return function(o){return r(function(u){return function(i){return e(o(u))(i)}})(a)}}},Tn={foldr:IM,foldl:HM,foldMap:function(n){return P0(Tn)(n)}};var gr=function(n){return n.foldMap};var jf=function(n){var r=gr(n);return function(t){return r(t)(fO)}};var ki=function(n){var r=qn(n);return function(t){var e=function(a){return function(o){return a instanceof D&&t(o)?new v(o):a}};return r(e)(D.value)}};var Ku=function(n){var r=gr(n);return function(t){return cO(Dl)(r(Ym(t)))}};var x0=function(n){return function(){return n}},R0=function(n){return function(r){return function(){return r(n())()}}};var oy=function(n){var r=b(n.Bind1()),t=Cr(n.Applicative0());return function(e){return function(a){return r(e)(function(o){return t(o)(a)})}}},N0=function(n){var r=b(n.Bind1()),t=ha(n.Applicative0());return function(e){return function(a){return r(e)(function(o){return t(o)(a)})}}};var _e=function(n){var r=b(n.Bind1()),t=h(n.Applicative0());return function(e){return function(a){return r(e)(function(o){return r(a)(function(u){return t(o(u))})})}}};var W0=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},Xu={Applicative0:function(){return lr},Bind1:function(){return Jr}},Jr={bind:R0,Apply0:function(){return uy(0)}},lr={pure:x0,Apply0:function(){return uy(0)}},O0=W0("functorEffect","Effect",function(){return{map:i_(lr)}}),uy=W0("applyEffect","Effect",function(){return{apply:_e(Xu),Functor0:function(){return O0(0)}}}),bn=O0(20),iy=uy(23);var Qt=function(){var n={},r="Pure",t="Throw",e="Catch",a="Sync",o="Async",u="Bind",i="Bracket",c="Fork",s="Sequential",_="Map",m="Apply",p="Alt",l="Cons",f="Resume",d="Release",E="Finalizer",H="Finalized",O="Forked",V="Fiber",X="Thunk";function x(dn,or,ot,dr){this.tag=dn,this._1=or,this._2=ot,this._3=dr}function ar(dn){var or=function(ot,dr,Cn){return new x(dn,ot,dr,Cn)};return or.tag=dn,or}function xn(dn){return new x(r,void 0)}function at(dn){try{dn()}catch(or){setTimeout(function(){throw or},0)}}function pr(dn,or,ot){try{return or(ot())}catch(dr){return dn(dr)}}function ue(dn,or,ot){try{return or(ot)()}catch(dr){return ot(dn(dr))(),xn}}var Qe=function(){var dn=1024,or=0,ot=0,dr=new Array(dn),Cn=!1;function tn(){var mr;for(Cn=!0;or!==0;)or--,mr=dr[ot],dr[ot]=void 0,ot=(ot+1)%dn,mr();Cn=!1}return{isDraining:function(){return Cn},enqueue:function(mr){var $n,Xr;or===dn&&(Xr=Cn,tn(),Cn=Xr),dr[(ot+or)%dn]=mr,or++,Cn||tn()}}}();function fo(dn){var or={},ot=0,dr=0;return{register:function(Cn){var tn=ot++;Cn.onComplete({rethrow:!0,handler:function(mr){return function(){dr--,delete or[tn]}}})(),or[tn]=Cn,dr++},isEmpty:function(){return dr===0},killAll:function(Cn,tn){return function(){if(dr===0)return tn();var mr=0,$n={};function Xr(Mr){$n[Mr]=or[Mr].kill(Cn,function(vt){return function(){delete $n[Mr],mr--,dn.isLeft(vt)&&dn.fromLeft(vt)&&setTimeout(function(){throw dn.fromLeft(vt)},0),mr===0&&tn()}})()}for(var Gt in or)or.hasOwnProperty(Gt)&&(mr++,Xr(Gt));return or={},ot=0,dr=0,function(Mr){return new x(a,function(){for(var vt in $n)$n.hasOwnProperty(vt)&&$n[vt]()})}}}}}var Ua=0,Ce=1,Im=2,Hm=3,Pm=4,ya=5,t_=6;function Rg(dn,or,ot){var dr=0,Cn=Ua,tn=ot,mr=null,$n=null,Xr=null,Gt=null,Mr=null,vt=0,$f=0,Ba=null,Ri=!0;function Ni(En){for(var Mn,jn,nr;;)switch(Mn=null,jn=null,nr=null,Cn){case Im:Cn=Ce;try{tn=Xr(tn),Gt===null?Xr=null:(Xr=Gt._1,Gt=Gt._2)}catch(ie){Cn=ya,mr=dn.left(ie),tn=null}break;case Hm:dn.isLeft(tn)?(Cn=ya,mr=tn,tn=null):Xr===null?Cn=ya:(Cn=Im,tn=dn.fromRight(tn));break;case Ce:switch(tn.tag){case u:Xr&&(Gt=new x(l,Xr,Gt)),Xr=tn._2,Cn=Ce,tn=tn._1;break;case r:Xr===null?(Cn=ya,tn=dn.right(tn._1)):(Cn=Im,tn=tn._1);break;case a:Cn=Hm,tn=pr(dn.left,dn.right,tn._1);break;case o:Cn=Pm,tn=ue(dn.left,tn._1,function(ie){return function(){dr===En&&(dr++,Qe.enqueue(function(){dr===En+1&&(Cn=Hm,tn=ie,Ni(dr))}))}});return;case t:Cn=ya,mr=dn.left(tn._1),tn=null;break;case e:Xr===null?Mr=new x(l,tn,Mr,$n):Mr=new x(l,tn,new x(l,new x(f,Xr,Gt),Mr,$n),$n),Xr=null,Gt=null,Cn=Ce,tn=tn._1;break;case i:vt++,Xr===null?Mr=new x(l,tn,Mr,$n):Mr=new x(l,tn,new x(l,new x(f,Xr,Gt),Mr,$n),$n),Xr=null,Gt=null,Cn=Ce,tn=tn._1;break;case c:Cn=Hm,Mn=Rg(dn,or,tn._2),or&&or.register(Mn),tn._1&&Mn.run(),tn=dn.right(Mn);break;case s:Cn=Ce,tn=_W(dn,or,tn._1);break}break;case ya:if(Xr=null,Gt=null,Mr===null)Cn=t_,tn=$n||mr||tn;else switch(Mn=Mr._3,nr=Mr._1,Mr=Mr._2,nr.tag){case e:$n&&$n!==Mn&&vt===0?Cn=ya:mr&&(Cn=Ce,tn=nr._2(dn.fromLeft(mr)),mr=null);break;case f:$n&&$n!==Mn&&vt===0||mr?Cn=ya:(Xr=nr._1,Gt=nr._2,Cn=Im,tn=dn.fromRight(tn));break;case i:vt--,mr===null&&(jn=dn.fromRight(tn),Mr=new x(l,new x(d,nr._2,jn),Mr,Mn),($n===Mn||vt>0)&&(Cn=Ce,tn=nr._3(jn)));break;case d:Mr=new x(l,new x(H,tn,mr),Mr,$n),Cn=Ce,$n&&$n!==Mn&&vt===0?tn=nr._1.killed(dn.fromLeft($n))(nr._2):mr?tn=nr._1.failed(dn.fromLeft(mr))(nr._2):tn=nr._1.completed(dn.fromRight(tn))(nr._2),mr=null,vt++;break;case E:vt++,Mr=new x(l,new x(H,tn,mr),Mr,$n),Cn=Ce,tn=nr._1;break;case H:vt--,Cn=ya,tn=nr._1,mr=nr._2;break}break;case t_:for(var it in Ba)Ba.hasOwnProperty(it)&&(Ri=Ri&&Ba[it].rethrow,at(Ba[it].handler(tn)));Ba=null,$n&&mr?setTimeout(function(){throw dn.fromLeft(mr)},0):dn.isLeft(tn)&&Ri&&setTimeout(function(){if(Ri)throw dn.fromLeft(tn)},0);return;case Ua:Cn=Ce;break;case Pm:return}}function ut(En){return function(){if(Cn===t_)return Ri=Ri&&En.rethrow,En.handler(tn)(),function(){};var Mn=$f++;return Ba=Ba||{},Ba[Mn]=En,function(){Ba!==null&&delete Ba[Mn]}}}function Ln(En,Mn){return function(){if(Cn===t_)return Mn(dn.right(void 0))(),function(){};var jn=ut({rethrow:!1,handler:function(){return Mn(dn.right(void 0))}})();switch(Cn){case Ua:$n=dn.left(En),Cn=t_,tn=$n,Ni(dr);break;case Pm:$n===null&&($n=dn.left(En)),vt===0&&(Cn===Pm&&(Mr=new x(l,new x(E,tn(En)),Mr,$n)),Cn=ya,tn=null,mr=null,Ni(++dr));break;default:$n===null&&($n=dn.left(En)),vt===0&&(Cn=ya,tn=null,mr=null)}return jn}}function Gn(En){return function(){var Mn=ut({rethrow:!1,handler:En})();return Cn===Ua&&Ni(dr),Mn}}return{kill:Ln,join:Gn,onComplete:ut,isSuspended:function(){return Cn===Ua},run:function(){Cn===Ua&&(Qe.isDraining()?Ni(dr):Qe.enqueue(function(){Ni(dr)}))}}}function sW(dn,or,ot,dr){var Cn=0,tn={},mr=0,$n={},Xr=new Error("[ParAff] Early exit"),Gt=null,Mr=n;function vt(ut,Ln,Gn){var En=Ln,Mn=null,jn=null,nr=0,it={},ie,e_;n:for(;;)switch(ie=null,En.tag){case O:if(En._3===n&&(ie=tn[En._1],it[nr++]=ie.kill(ut,function(pW){return function(){nr--,nr===0&&Gn(pW)()}})),Mn===null)break n;En=Mn._2,jn===null?Mn=null:(Mn=jn._1,jn=jn._2);break;case _:En=En._2;break;case m:case p:Mn&&(jn=new x(l,Mn,jn)),Mn=En,En=En._1;break}if(nr===0)Gn(dn.right(void 0))();else for(e_=0,ie=nr;e_<ie;e_++)it[e_]=it[e_]();return it}function $f(ut,Ln,Gn){var En,Mn,jn,nr,it,ie;for(dn.isLeft(ut)?(En=ut,Mn=null):(Mn=ut,En=null);;){if(jn=null,nr=null,it=null,ie=null,Gt!==null)return;if(Ln===null){dr(En||Mn)();return}if(Ln._3!==n)return;switch(Ln.tag){case _:En===null?(Ln._3=dn.right(Ln._1(dn.fromRight(Mn))),Mn=Ln._3):Ln._3=En;break;case m:if(jn=Ln._1._3,nr=Ln._2._3,En){if(Ln._3=En,it=!0,ie=mr++,$n[ie]=vt(Xr,En===jn?Ln._2:Ln._1,function(){return function(){delete $n[ie],it?it=!1:Gn===null?$f(En,null,null):$f(En,Gn._1,Gn._2)}}),it){it=!1;return}}else{if(jn===n||nr===n)return;Mn=dn.right(dn.fromRight(jn)(dn.fromRight(nr))),Ln._3=Mn}break;case p:if(jn=Ln._1._3,nr=Ln._2._3,jn===n&&dn.isLeft(nr)||nr===n&&dn.isLeft(jn))return;if(jn!==n&&dn.isLeft(jn)&&nr!==n&&dn.isLeft(nr))En=Mn===jn?nr:jn,Mn=null,Ln._3=En;else if(Ln._3=Mn,it=!0,ie=mr++,$n[ie]=vt(Xr,Mn===jn?Ln._2:Ln._1,function(){return function(){delete $n[ie],it?it=!1:Gn===null?$f(Mn,null,null):$f(Mn,Gn._1,Gn._2)}}),it){it=!1;return}break}Gn===null?Ln=null:(Ln=Gn._1,Gn=Gn._2)}}function Ba(ut){return function(Ln){return function(){delete tn[ut._1],ut._3=Ln,$f(Ln,ut._2._1,ut._2._2)}}}function Ri(){var ut=Ce,Ln=ot,Gn=null,En=null,Mn,jn;n:for(;;)switch(Mn=null,jn=null,ut){case Ce:switch(Ln.tag){case _:Gn&&(En=new x(l,Gn,En)),Gn=new x(_,Ln._1,n,n),Ln=Ln._2;break;case m:Gn&&(En=new x(l,Gn,En)),Gn=new x(m,n,Ln._2,n),Ln=Ln._1;break;case p:Gn&&(En=new x(l,Gn,En)),Gn=new x(p,n,Ln._2,n),Ln=Ln._1;break;default:jn=Cn++,ut=ya,Mn=Ln,Ln=new x(O,jn,new x(l,Gn,En),n),Mn=Rg(dn,or,Mn),Mn.onComplete({rethrow:!1,handler:Ba(Ln)})(),tn[jn]=Mn,or&&or.register(Mn)}break;case ya:if(Gn===null)break n;Gn._1===n?(Gn._1=Ln,ut=Ce,Ln=Gn._2,Gn._2=n):(Gn._2=Ln,Ln=Gn,En===null?Gn=null:(Gn=En._1,En=En._2))}for(Mr=Ln,jn=0;jn<Cn;jn++)tn[jn].run()}function Ni(ut,Ln){Gt=dn.left(ut);var Gn;for(var En in $n)if($n.hasOwnProperty(En)){Gn=$n[En];for(En in Gn)Gn.hasOwnProperty(En)&&Gn[En]()}$n=null;var Mn=vt(ut,Mr,Ln);return function(jn){return new x(o,function(nr){return function(){for(var it in Mn)Mn.hasOwnProperty(it)&&Mn[it]();return xn}})}}return Ri(),function(ut){return new x(o,function(Ln){return function(){return Ni(ut,Ln)}})}}function _W(dn,or,ot){return new x(o,function(dr){return function(){return sW(dn,or,ot,dr)}})}return x.EMPTY=n,x.Pure=ar(r),x.Throw=ar(t),x.Catch=ar(e),x.Sync=ar(a),x.Async=ar(o),x.Bind=ar(u),x.Bracket=ar(i),x.Fork=ar(c),x.Seq=ar(s),x.ParMap=ar(_),x.ParApply=ar(m),x.ParAlt=ar(p),x.Fiber=Rg,x.Supervisor=fo,x.Scheduler=Qe,x.nonCanceler=xn,x}(),q0=Qt.Pure,$0=Qt.Throw;function U0(n){return function(r){return Qt.Catch(n,r)}}function B0(n){return function(r){return r.tag===Qt.Pure.tag?Qt.Pure(n(r._1)):Qt.Bind(r,function(t){return Qt.Pure(n(t))})}}function G0(n){return function(r){return Qt.Bind(n,r)}}function fy(n){return function(r){return Qt.Fork(n,r)}}var k0=Qt.Sync;function z0(n){return function(r){return Qt.ParMap(n,r)}}function J0(n){return function(r){return Qt.ParApply(n,r)}}var Cl=Qt.Async;function av(n){return function(r){return function(t){return Qt.Bracket(n,r,t)}}}function V0(n,r){return function(){return Qt.Fiber(n,null,r)}}var Q0=function(){function n(t,e){return t===0&&typeof setImmediate<"u"?setImmediate(e):setTimeout(e,t)}function r(t,e){return t===0&&typeof clearImmediate<"u"?clearImmediate(e):clearTimeout(e)}return function(t,e){return Qt.Async(function(a){return function(){var o=n(e,a(t()));return function(){return Qt.Sync(function(){return t(r(e,o))})}}})}}(),j0=Qt.Seq;function Va(n){return new Error(n)}function zi(n){return function(){throw n}}var ov=function(n){return zi(Va(n))};var sr=function(n){return n.throwError};var cy=function(){return{throwError:Y.create,Monad0:function(){return d_}}}();var X0={catchError:function(n){return function(r){if(n instanceof Y)return r(n.value0);if(n instanceof K)return new K(n.value0);throw new Error("Failed pattern match at Control.Monad.Error.Class (line 72, column 1 - line 74, column 35): "+[n.constructor.name,r.constructor.name])}},MonadThrow0:function(){return cy}};var ly=function(n){return qr(sr(n))(h(n.Monad0().Applicative0()))},vo=function(n){return n.catchError};var sy=function(n){var r=vo(n),t=n.MonadThrow0().Monad0(),e=g(t.Bind1().Apply0().Functor0()),a=h(t.Applicative0());return function(o){return r(e(K.create)(o))(function(u){return a(Y.create(u))})}};var Do=function(n){return n};var M_={map:function(n){return function(r){return n(r)}}};var Y0={apply:function(n){return function(r){return n(r)}},Functor0:function(){return M_}},mO={bind:function(n){return function(r){return r(n)}},Apply0:function(){return Y0}},_y={pure:Do,Apply0:function(){return Y0}},Qa={Applicative0:function(){return _y},Bind1:function(){return mO}};var Z0=function(n){return function(){return{value:n}}};var _n=function(n){return function(){return n.value}},nw=function(n){return function(r){return function(){var t=n(r.value);return r.value=t.state,t.value}}},Un=function(n){return function(r){return function(){r.value=n}}};var dO=Hn(bn),ir=Z0,py=nw,rw=function(n){return py(function(r){var t=n(r);return{state:t,value:t}})},La=function(n){return function(r){return dO(rw(n)(r))}};var gO=fr(Jr),yO=g(bn),Et=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Ct=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ea=function(n){return n.tailRecM};var tw={tailRecM:function(n){return function(r){var t=function(e){if(e instanceof Ct)return e.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 137, column 30 - line 137, column 44): "+[e.constructor.name])};return function(){var a=gO(ir)(n(r))();return function(){for(;!function(){var u=_n(a)();if(u instanceof Et){var i=n(u.value0)();return Un(i)(a)(),!1}if(u instanceof Ct)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 128, column 22 - line 133, column 28): "+[u.constructor.name])}(););return{}}(),yO(t)(_n(a))()}}},Monad0:function(){return Xu}};var ew=function(n){var r=ea(n),t=cl(n.Monad0().Bind1().Apply0().Functor0());return function(e){return r(function(a){return t(new Et(a))(e)})(void 0)}};var aw=function(n){return function(r){return function(){return n(r())}}},ow=function(n){return function(){return n}},uw=function(n){return function(r){return function(){return r(n())()}}};function my(n){return function(r){return function(t){return function(){for(var e=n;e<r;e++)t(e)()}}}}var CO=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}};var w_={map:aw};var vy={Applicative0:function(){return uv},Bind1:function(){return F_}},F_={bind:uw,Apply0:function(){return sw(0)}},uv={pure:ow,Apply0:function(){return sw(0)}},sw=CO("applyST","Control.Monad.ST.Internal",function(){return{apply:_e(vy),Functor0:function(){return w_}}});var Ka=function(n){return n.ask},Ml=function(n){var r=g(n.Monad0().Bind1().Apply0().Functor0()),t=Ka(n);return function(e){return r(e)(t)}};var aa=function(n){return n.state},Xf=function(n){var r=aa(n);return function(t){return r(function(e){return new y(void 0,t)})}},Kt=function(n){var r=aa(n);return function(t){return r(function(e){return new y(void 0,t(e))})}},Yf=function(n){var r=aa(n);return function(t){return r(function(e){var a=t(e);return new y(a,a)})}},pe=function(n){var r=aa(n);return function(t){return r(function(e){return new y(t(e),e)})}},Yu=function(n){return aa(n)(function(r){return new y(r,r)})};var yr=function(n){return n.lift};var go={liftEffect:G(z),Monad0:function(){return Xu}},vn=function(n){return n.liftEffect};var Zu=function(n){return n.tell};var MO=g(Ue);var Dy=function(n){return n};var Fl=function(n){return n};var cv={lift:function(n){var r=b(n.Bind1()),t=h(n.Applicative0());return function(e){return r(e)(function(a){return t(new K(a))})}}},wO=yr(cv),lv=function(n){return function(r){return n(r)}},gy=function(n){var r=g(n);return{map:function(t){return lv(r(MO(t)))}}};var Ll=function(n){return{Applicative0:function(){return hy(n)},Bind1:function(){return yy(n)}}},yy=function(n){var r=b(n.Bind1()),t=h(n.Applicative0());return{bind:function(e){return function(a){return r(e)(qr(function(o){return t(Y.create(o))})(function(o){var u=a(o);return u}))}},Apply0:function(){return _w(n)}}},_w=function(n){var r=gy(n.Bind1().Apply0().Functor0());return{apply:_e(Ll(n)),Functor0:function(){return r}}},hy=function(n){return{pure:function(){var r=h(n.Applicative0());return function(t){return Dy(r(K.create(t)))}}(),Apply0:function(){return _w(n)}}};var pw=function(n){var r=n.Monad0(),t=wO(r),e=aa(n),a=Ll(r);return{state:function(o){return t(e(o))},Monad0:function(){return a}}};var by=function(n){var r=Ll(n);return{throwError:function(){var t=h(n.Applicative0());return function(e){return Dy(t(Y.create(e)))}}(),Monad0:function(){return r}}},sv=function(n){var r=b(n.Bind1()),t=h(n.Applicative0()),e=by(n);return{catchError:function(a){return function(o){return r(a)(qr(function(u){var i=o(u);return i})(function(u){return t(K.create(u))}))}},MonadThrow0:function(){return e}}};var mw=function(n){var r=W(n);return function(t){var e=t.Bind1(),a=b(e),o=h(t.Applicative0()),u=gy(e.Apply0().Functor0());return{alt:function(i){return function(c){return a(i)(function(s){if(s instanceof K)return o(new K(s.value0));if(s instanceof Y)return a(c)(function(_){if(_ instanceof K)return o(new K(_.value0));if(_ instanceof Y)return o(new Y(r(s.value0)(_.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[_.constructor.name])});throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[s.constructor.name])})}},Functor0:function(){return u}}}};var Dw=function(n){return n};var A_=function(n){return n};var Sl={lift:function(n){return function(r){return Dw(U(r))}}},LO=yr(Sl),Cy=function(n){return function(r){return function(t){return n(r(t))}}},pv=function(n){return{map:function(){var r=g(n);return function(t){return Cy(r(t))}}()}};var mv=function(n){var r=gn(n),t=pv(n.Functor0());return{apply:function(e){return function(a){return function(o){return r(e(o))(a(o))}}},Functor0:function(){return t}}},vv=function(n){var r=b(n),t=mv(n.Apply0());return{bind:function(e){return function(a){return function(o){return r(e(o))(function(u){var i=a(u);return i(o)})}}},Apply0:function(){return t}}};var dv=function(n){var r=mv(n.Apply0());return{pure:function(){var t=h(n);return function(e){return Dw(U(t(e)))}}(),Apply0:function(){return r}}},nc=function(n){var r=dv(n.Applicative0()),t=vv(n.Bind1());return{Applicative0:function(){return r},Bind1:function(){return t}}},Dv=function(n){var r=nc(n);return{ask:h(n.Applicative0()),Monad0:function(){return r}}};var rc=function(n){var r=n.Monad0(),t=nc(r);return{liftEffect:function(){var e=LO(r),a=vn(n);return function(o){return e(a(o))}}(),Monad0:function(){return t}}};var SO=function(n){return n};var Ey=function(n){var r=Sn(n);return{lift:function(t){var e=b(t.Bind1()),a=h(t.Applicative0());return function(o){return e(o)(function(u){return a(new y(u,r))})}}}},gw=function(n){return function(r){return n(r)}},AO=function(n){var r=g(n);return{map:function(t){return gw(r(function(e){return new y(t(e.value0),e.value1)}))}}},yw=function(n){var r=g(n);return function(t){return r(Hr)(t)}},hw=function(n){var r=W(n);return function(t){var e=gn(t),a=t.Functor0(),o=g(a),u=AO(a);return{apply:function(i){return function(c){var s=function(_){return function(m){return new y(_.value0(m.value0),r(_.value1)(m.value1))}};return e(o(s)(i))(c)}},Functor0:function(){return u}}}},My=function(n){var r=W(n),t=hw(n);return function(e){var a=b(e),o=e.Apply0(),u=g(o.Functor0()),i=t(o);return{bind:function(c){return function(s){return a(c)(function(_){var m=s(_.value0);return u(function(p){return new y(p.value0,r(_.value1)(p.value1))})(m)})}},Apply0:function(){return i}}}};var gv=function(n){var r=Sn(n),t=hw(n.Semigroup0());return function(e){var a=h(e),o=t(e.Apply0());return{pure:function(u){return a(new y(u,r))},Apply0:function(){return o}}}},wy=function(n){var r=gv(n),t=My(n.Semigroup0());return function(e){var a=r(e.Applicative0()),o=t(e.Bind1());return{Applicative0:function(){return a},Bind1:function(){return o}}}};var bw=function(n){var r=yr(Ey(n)),t=wy(n);return function(e){var a=e.Monad0(),o=r(a),u=aa(e),i=t(a);return{state:function(c){return o(u(c))},Monad0:function(){return i}}}},Tw=function(n){var r=n.Semigroup0(),t=wy(n);return function(e){var a=t(e);return{tell:function(){var o=h(e.Applicative0()),u=y.create(void 0);return function(i){return SO(o(u(i)))}}(),Semigroup0:function(){return r},Monad1:function(){return a}}}};var IO=G(z);var H_={dimap:function(n){return function(r){return function(t){return function(e){return r(t(n(e)))}}}}},Xt=function(n){return n.dimap};var Fy=function(n){var r=Xt(n);return function(t){return r(IO)(t)}};var Al=function(n){return n.sequential},Ji=function(n){return n.parallel};var ww=function(){function n(a){return[a]}function r(a){return function(o){return[a,o]}}function t(a){return function(o){return function(u){return[a,o,u]}}}function e(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(i){return function(c){function s(_,m){switch(m-_){case 0:return u([]);case 1:return o(n)(i(c[_]));case 2:return a(o(r)(i(c[_])))(i(c[_+1]));case 3:return a(a(o(t)(i(c[_])))(i(c[_+1])))(i(c[_+2]));default:var p=_+Math.floor((m-_)/4)*2;return a(o(e)(s(_,p)))(s(p,m))}}return s(0,c.length)}}}}}}();var mq=G(z),tr=function(n){return n.traverse};var Il={traverse:function(n){var r=h(n),t=g(n.Apply0().Functor0());return function(e){return function(a){if(a instanceof D)return r(D.value);if(a instanceof v)return t(v.create)(e(a.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[e.constructor.name,a.constructor.name])}}},sequence:function(n){var r=h(n),t=g(n.Apply0().Functor0());return function(e){if(e instanceof D)return r(D.value);if(e instanceof v)return t(v.create)(e.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[e.constructor.name])}},Functor0:function(){return wn},Foldable1:function(){return An}};var Rw=function(n){var r=tr(n);return function(t){return r(t)(mq)}},Aa={traverse:function(n){var r=n.Apply0();return ww(gn(r))(g(r.Functor0()))(h(n))},sequence:function(n){return Rw(Aa)(n)},Functor0:function(){return kn},Foldable1:function(){return Tn}};var tc=function(n){return function(r){var t=tr(r)(n);return function(e){return function(a){return t(a)(e)}}}};var vq=G(z),dq=function(n){var r=Al(n),t=zn(n.Applicative1()),e=Ji(n);return function(a){var o=t(a);return function(u){var i=o(function(c){return e(u(c))});return function(c){return r(i(c))}}}};var R_=function(n){var r=dq(n);return function(t){return r(t)(vq)}};var Nw=hl()();var Dq=function(n){return n};var Ww=function(n){return n};var Ow={append:function(n){return function(r){return n+r}}};var Ev=function(n){return n.fromDuration};var qw={fromDuration:Nw(Dq)(function(n){return n*1e3}),toDuration:Nw(Ww)(function(n){return n/1e3})};var N_=function(n){return n()};var $w=function(n){return n()};var Uw=function(n){throw new Error(n)};var Bw=function(){return Uw};var bq=Bw(),Tq=$w,iu=function(n){return Tq(function(){return bq(n)})};var Gw=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},Cq=h(lr),kw=Hn(bn),zw=g(bn);var Eq=function(n){return n},Jw=fy(!1);var Mq={map:z0},Ya={map:B0},wq=g(Ya),Pl=fy(!0),Fq=function(){var n=function(e){if(e instanceof K)return e.value0;if(e instanceof Y)return iu("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): "+[e.constructor.name])},r=function(e){if(e instanceof Y)return e.value0;if(e instanceof K)return iu("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): "+[e.constructor.name])},t=function(e){if(e instanceof Y)return!0;if(e instanceof K)return!1;throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): "+[e.constructor.name])};return{isLeft:t,fromLeft:r,fromRight:n,left:Y.create,right:K.create}}(),Vw=function(n){return V0(Fq,n)},Lq=function(n){return function(){var t=Vw(n)();return t.run(),t}};var ri=function(n){return Q0(K.create,n)},Sq=function(n){return function(r){return av(n)({killed:U(r),failed:U(r),completed:U(r)})}},Aq={apply:J0,Functor0:function(){return Mq}};var fu={Applicative0:function(){return dt},Bind1:function(){return Pr}},Pr={bind:G0,Apply0:function(){return Qw(0)}},dt={pure:q0,Apply0:function(){return Qw(0)}},Qw=Gw("applyAff","Effect.Aff",function(){return{apply:_e(fu),Functor0:function(){return Ya}}});var Fv=h(dt),jw=b(Pr);var Iq=fr(Pr);var Kw=function(n){return function(r){return Sq(Fv(void 0))(U(n))(U(r))}};var Dt={liftEffect:k0,Monad0:function(){return fu}},wv=vn(Dt),Lv=function(n){return Eq(U(wv(n)))},W_=function(n){return Cl(function(r){return zw(Lv)(n.join(r))})},Xw={map:function(n){return function(r){return N_(Vw(wq(n)(W_(r))))}}};var O_=function(n){return function(r){return jw(wv(r.isSuspended))(function(t){return t?wv(kw(r.kill(n,U(Cq(void 0))))):Cl(function(e){return zw(Lv)(r.kill(n,e))})})}};var q_={throwError:$0,Monad0:function(){return fu}},Yw={catchError:U0,MonadThrow0:function(){return q_}},Hq=sy(Yw);var Pq=function(n){return function(r){return Lq(Iq(function(t){return wv(n(t))})(Hq(r)))}},Sv=function(n){return function(r){return kw(Pq(n)(r))}};var ec={parallel:L,sequential:j0,Monad0:function(){return fu},Applicative1:function(){return Zw(0)}},Zw=Gw("applicativeParAff","Effect.Aff",function(){return{pure:function(){var n=Ji(ec);return function(r){return n(Fv(r))}}(),Apply0:function(){return Aq}}}),Ry=Zw(136);var Av={tailRecM:function(n){var r=function(t){return jw(n(t))(function(e){if(e instanceof Ct)return Fv(e.value0);if(e instanceof Et)return r(e.value0);throw new Error("Failed pattern match at Effect.Aff (line 104, column 7 - line 106, column 23): "+[e.constructor.name])})};return r},Monad0:function(){return fu}};var nF=U(Fv(void 0));var yo=function(n){var r=null;return function(){return n===void 0||(r=n(),n=void 0),r}},ac=function(n){return n()};var Iv={map:function(n){return function(r){return yo(function(t){return n(ac(r))})}}};var Ny=function(n){return n};var xv={lift:function(n){var r=b(n.Bind1()),t=h(n.Applicative0());return function(e){return function(a){return r(e)(function(o){return t(new y(o,a))})}}}},Wq=yr(xv);var tF=function(n){var r=g(n);return{map:function(t){return function(e){return function(a){return r(function(o){return new y(t(o.value0),o.value1)})(e(a))}}}}};var Wy=function(n){var r=g(n);return function(t){return function(e){return r(st)(t(e))}}},Rv=function(n){return{Applicative0:function(){return eF(n)},Bind1:function(){return Nv(n)}}},Nv=function(n){var r=b(n.Bind1());return{bind:function(t){return function(e){return function(a){return r(t(a))(function(o){var u=e(o.value0);return u(o.value1)})}}},Apply0:function(){return Oy(n)}}},Oy=function(n){var r=tF(n.Bind1().Apply0().Functor0());return{apply:_e(Rv(n)),Functor0:function(){return r}}},eF=function(n){var r=h(n.Applicative0());return{pure:function(t){return function(e){return r(new y(t,e))}},Apply0:function(){return Oy(n)}}};var oc=function(n){var r=h(n.Applicative0()),t=Rv(n);return{state:function(e){return function(a){return r(e(a))}},Monad0:function(){return t}}};var aF=function(n){var r=n.Monad0(),t=Wq(r),e=sr(n),a=Rv(r);return{throwError:function(o){return t(e(o))},Monad0:function(){return a}}},Wv=function(n){var r=vo(n),t=aF(n.MonadThrow0());return{catchError:function(e){return function(a){return function(o){return r(e(o))(function(u){var i=a(u);return i(o)})}}},MonadThrow0:function(){return t}}};var zq=yr(Sl);var $_={liftAff:G(z),MonadEffect0:function(){return Dt}},oa=function(n){return n.liftAff};var Ov=function(n){var r=n.MonadEffect0(),t=rc(r);return{liftAff:function(){var e=zq(r.Monad0()),a=oa(n);return function(o){return e(a(o))}}(),MonadEffect0:function(){return t}}};var qv=function(n){return function(){console.log(n)}},U_=function(n){return function(){console.warn(n)}};var Yt=function(n){var r=vn(n);return function(t){return r(qv(t))}};function qy(n){return function(r){return function(){return n.add(r)}}}function $y(n){return function(r){return function(){return n.remove(r)}}}function sF(n,r,t){return n==null?r:t(n)}function Uy(n){return n}var ai=on(null)(Uy),hr=function(n){return sF(n,D.value,v.create)};var $v=function(n){return function(r){return r[n]}},n$=$v("namespaceURI"),r$=$v("prefix"),By=$v("localName"),t$=$v("tagName");function Gy(n){return function(){return n.classList}}function ky(n){return function(){return n.clientWidth}}function Rl(n){return function(){var r=n.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}}var Uv=function(n){return function(r){return function(){return r[n]}}},a$=Uv("children"),o$=Uv("firstElementChild"),u$=Uv("lastElementChild"),i$=Uv("childElementCount");function _F(n){return function(r){return function(){return r.querySelector(n)}}}function zy(n){return function(r){return function(){return r.querySelectorAll(n)}}}var c$=g(bn);var pF=function(n){var r=c$(hr),t=_F(n);return function(e){return r(t(e))}};function vF(n,r,t,e){if(typeof window<"u"){var a=window[t];if(a!=null&&e instanceof a)return r(e)}for(var o=e;o!=null;){var u=Object.getPrototypeOf(o),i=u.constructor.name;if(i===t)return r(e);if(i==="Object")return n;o=u}return n}var an=function(n){return function(r){return vF(D.value,v.create,n,r)}};var Jy=L;var dF=an("Element"),Vy=an("Element");var ho=function(n){return function(r){return function(){return r[n]}}};function Qy(n){return n.nodeName}var p$=ho("baseURI"),m$=ho("ownerDocument"),DF=ho("parentNode"),v$=ho("parentElement");var d$=ho("childNodes"),D$=ho("firstChild"),g$=ho("lastChild"),y$=ho("previousSibling"),gF=ho("nextSibling"),h$=ho("nodeValue");var b$=ho("textContent");function jy(n){return function(r){return function(t){return function(){t.insertBefore(n,r)}}}}function Gv(n){return function(r){return function(){r.appendChild(n)}}}function Ky(n){return function(r){return function(){r.removeChild(n)}}}function Vi(n){return n.charCodeAt(0)}function yF(n){return String.fromCharCode(n)}var Qi=function(n){var r=h(n.Applicative0()),t=Me(n.Plus1());return function(e){if(e)return r(void 0);if(!e)return t;throw new Error("Failed pattern match at Control.Alternative (line 48, column 1 - line 48, column 54): "+[e.constructor.name])}};var hF=function(n){return function(r){return function(t){return function(e){return function(a){return function(o){for(var u=[],i=o;;){var c=a(i);if(n(c))return u;var s=r(c);u.push(t(s)),i=e(s)}}}}}}};var bF=function(n){return function(r){return function(t){return function(e){return function(a){return function(o){for(var u=[],i=o;;){var c=a(i);u.push(t(c));var s=e(c);if(n(s))return u;i=r(s)}}}}}}};var H$=Nt(),Nl=function(n){return n.unfoldr1};var J_={unfoldr1:bF(Ze)(H$)(st)(Hr)},CF=function(n){var r=Nl(n);return function(t){return function(e){var a=function(o){if(o<=0)return new y(e,D.value);if(Vn)return new y(e,new v(o-1|0));throw new Error("Failed pattern match at Data.Unfoldable1 (line 68, column 5 - line 68, column 39): "+[o.constructor.name])};return r(a)(t-1|0)}}};var Yy=function(n){return CF(n)(1)};var P$=Nt(),ua=function(n){return n.unfoldr};var ia={unfoldr:hF(Ze)(P$)(st)(Hr),Unfoldable10:function(){return J_}};var R$=b(Dr),N$=Zo(wn),W$=Qi($i);var EF=Ea(m_),MF=Ca(m_);var Yr=function(n){return n.toEnum},wF=function(n){return n.succ};var FF=function(n){return n.pred};var Ur=function(n){return n.fromEnum};var LF=function(n){var r=n.Ord0(),t=I(r.Eq0()),e=Gf(r),a=wF(n),o=Bm(r),u=FF(n),i=u0(r);return function(c){var s=Yy(c),_=Nl(c),m=function(p){return function(l){return function(f){return function(d){return new y(d,R$(p(d))(function(E){return N$(W$(l(E)(f)))(E)}))}}}};return function(p){return function(l){if(t(p)(l))return s(p);if(e(p)(l))return _(m(a)(o)(l))(p);if(Vn)return _(m(u)(i)(l))(p);throw new Error("Failed pattern match at Data.Enum (line 186, column 14 - line 190, column 51): "+[p.constructor.name,l.constructor.name])}}}};var ji=function(n){return function(r){return function(t){return n(r(t)+1|0)}}},Ki=function(n){return function(r){return function(t){return n(r(t)-1|0)}}};var Zy=function(n){return n>=Vi(EF)&&n<=Vi(MF)?new v(yF(n)):D.value},O$={succ:ji(Zy)(Vi),pred:Ki(Zy)(Vi),Ord0:function(){return Um}};var SF=function(){return{cardinality:Vi(MF)-Vi(EF)|0,toEnum:Zy,fromEnum:Vi,Bounded0:function(){return m_},Enum1:function(){return O$}}}();var AF=g(bn);var nh=function(){var n=AF(hr);return function(r){return n(DF(r))}}();var IF=function(){var n=AF(hr);return function(r){return n(gF(r))}}();function rh(n){return function(){return[].slice.call(n)}}var gt=function(){return window};function PF(n){return n.readyState}var V_=function(){function n(){}return n.value=new n,n}(),V$=function(){function n(){}return n.value=new n,n}(),Q$=function(){function n(){}return n.value=new n,n}();var xF=function(n){return n==="loading"?new v(V_.value):n==="interactive"?new v(V$.value):n==="complete"?new v(Q$.value):D.value};var K$=g(bn);var kv=L;var th=L,NF=L;var WF=function(n){return K$(function(){var r=Kn(V_.value);return function(t){return r(xF(t))}}())(function(){return PF(n)})};function OF(n,r,t){var e=Object.prototype.toString.call(t);return e.indexOf("[object HTML")===0&&e.indexOf("Element]")===e.length-8?r(t):n}function eh(n){return function(r){return function(){r.draggable=n}}}var qF=L;var ah=L;var Q_=function(n){return OF(D.value,v.create,n)};function oh(n){return function(){return n.hash}}function uh(n){return function(r){return function(){r.hash=n}}}function bo(n){return function(){return n.document}}function Jv(n){return function(){return n.location}}function ih(n){return function(r){return function(){return r.confirm(n)}}}function K_(n){return function(){return n.localStorage}}var Vv=L;var Q2=Nn(Wn),j2=b(Jr),GF=function(n){var r=n.MonadEffect0(),t=r.Monad0(),e=t.Bind1(),a=Q2(e),o=Yt(r),u=b(e),i=vn(r),c=t.Applicative0(),s=zn(c)(Tn),_=Nr(c)(An),m=oa(n);return function(p){return a(o("starting spotlight"))(function(){return u(i(j2(gt)(bo)))(function(l){return u(i(zy(p)(kv(l))))(function(f){return u(i(rh(f)))(s(function(d){return _(dF(d))(function(E){return a(o("spotlighting "+(Qy(d)+(" with local name "+By(E)))))(function(){return u(i(Gy(E)))(function(H){return a(i(qy(H)("spotlight")))(function(){return a(m(ri(1e3)))(function(){return i($y(H)("spotlight"))})})})})})}))})})})}};var kF=function(n,r){for(var t=n>r?-1:1,e=new Array(t*(r-n)+1),a=n,o=0;a!==r;)e[o++]=a,a+=t;return e[o]=a,e},X2=function(n,r){if(n<1)return[];var t=new Array(n);return t.fill(r)},Y2=function(n,r){for(var t=[],e=0,a=0;a<n;a++)t[e++]=r;return t},Z2=typeof Array.prototype.fill=="function"?X2:Y2,zF=function(){function n(a,o){this.head=a,this.tail=o}var r={};function t(a){return function(o){return new n(a,o)}}function e(a){for(var o=[],u=0,i=a;i!==r;)o[u++]=i.head,i=i.tail;return o}return function(a,o){return e(a(t)(r)(o))}}(),wt=function(n){return n.length},fh=function(n,r,t){return t.length===0?n({}):r(t[0])(t.slice(1))},JF=function(n,r,t,e){return e<0||e>=t.length?r:n(t[e])};var VF=function(n,r,t,e){for(var a=0,o=e.length;a<o;a++)if(t(e[a]))return n(a);return r};var QF=function(n,r,t,e){if(t<0||t>=e.length)return r;var a=e.slice();return a.splice(t,1),n(a)};var nU=function(){function n(r,t,e,a,o,u){var i,c,s,_,m,p,l;for(i=o+(u-o>>1),i-o>1&&n(r,t,a,e,o,i),u-i>1&&n(r,t,a,e,i,u),c=o,s=i,_=o;c<i&&s<u;)m=a[c],p=a[s],l=t(r(m)(p)),l>0?(e[_++]=p,++s):(e[_++]=m,++c);for(;c<i;)e[_++]=a[c++];for(;s<u;)e[_++]=a[s++]}return function(r,t,e){var a;return e.length<2?e:(a=e.slice(0),n(r,t,a,e.slice(0),0,e.length),a)}}(),jF=function(n,r,t){return t.slice(n,r)},KF=function(n,r,t){for(var e=r.length<t.length?r.length:t.length,a=new Array(e),o=0;o<e;o++)a[o]=n(r[o])(t[o]);return a};var XF=function(n,r){return n[r]};function Qv(){return[]}var YF=function(n,r){return r.push.apply(r,n)};function tU(n){return n}var ZF=tU;function eU(n){return n.slice()}var n1=eU,aU=function(){function n(r,t,e,a,o,u){var i,c,s,_,m,p,l;for(i=o+(u-o>>1),i-o>1&&n(r,t,a,e,o,i),u-i>1&&n(r,t,a,e,i,u),c=o,s=i,_=o;c<i&&s<u;)m=a[c],p=a[s],l=t(r(m)(p)),l>0?(e[_++]=p,++s):(e[_++]=m,++c);for(;c<i;)e[_++]=a[c++];for(;s<u;)e[_++]=a[s++]}return function(r,t,e){return e.length<2||n(r,t,e,e.slice(0),0,e.length),e}}();var jv=function(r){return function(t){return function(){return r(t)}}},ch=function(r){return function(t){return function(e){return function(){return r(t,e)}}}};var lU=b(F_);var Kv=jv(ZF);var sU=jv(n1),r1=function(n){return function(r){return function(){var e=sU(r)();return n(e)(),Kv(e)()}}};var t1=function(n){return lU(n)(Kv)()};var fc=function(n){return ch(YF)([n])};var cc=function(n){return function(r){return function(t){return n(r,t)}}},oi=function(n){return function(r){return function(t){return function(e){return n(r,t,e)}}}},lc=function(n){return function(r){return function(t){return function(e){return function(a){return n(r,t,e,a)}}}}};var e1=function(n){return function(r){for(var t=r.length,e=Array(t),a=0;a<t;a++)e[a]=n(a)(r[a]);return e}};var Zt=function(n){return n.mapWithIndex};var Xi={mapWithIndex:e1,Functor0:function(){return kn}};var gU=Hn(w_),yU=Ja(Tn);var hU=g(wn);var bU=Nt();var TU=jf(Tn),CU=W(ht);var a1=oi(KF);var _h=function(){return a1(y.create)}();var ph=function(){return cc(XF)},mh=ph(),X_=function(){return oi(fh)(U(D.value))(function(n){return function(r){return new v({head:n,tail:r})}})}(),vh=function(n){var r=ua(n);return function(t){var e=wt(t),a=function(o){if(o<e)return new v(new y(mh(t)(o),o+1|0));if(Vn)return D.value;throw new Error("Failed pattern match at Data.Array (line 163, column 3 - line 165, column 26): "+[o.constructor.name])};return r(a)(0)}},o1=function(){return oi(fh)(U(D.value))(function(n){return function(r){return new v(r)}})}();var Y_=function(n){return function(r){return r1(fc(r))(n)()}},dh=oi(jF);var Dh=function(n){return[n]};var sc=cc(kF);var EU=function(n){return wt(n)===0};var gh=function(n){return function(r){var t=wt(r);if(t<2)return r;if(Vn)return t1(function(){var e=function(a){return mh(r)(a)};return function(){var o=Qv();return fc(e(0))(o)(),my(1)(t)(function(u){return function(){return fc(n)(o)(),gU(fc(e(u))(o))()}})(),o}}());throw new Error("Failed pattern match at Data.Array (line 623, column 21 - line 633, column 17): "+[t.constructor.name])}},Yi=function(n){return yU(n)};var u1=function(n){if(EU(n))return D.value;if(Vn)return new v(dh(0)(wt(n)-1|0)(n));throw new Error("Failed pattern match at Data.Array (line 351, column 1 - line 351, column 45): "+[n.constructor.name])},Z_=function(){return lc(JF)(v.create)(D.value)}(),ql=function(n){return Z_(n)(wt(n)-1|0)};var lu=function(n){return Z_(n)(0)};var Zi=function(n){return cc(zF)(cr(n))};var i1=function(n){return TU(n)};var Xv=function(){return lc(VF)(v.create)(D.value)}(),np=function(n){return function(r){return hU(mh(r))(Xv(n)(r))}};var f1=function(n){var r=I(n);return function(t){return Xv(function(e){return r(e)(t)})}};var _c=function(n){var r=f1(n);return function(t){return function(e){return zu(r(t)(e))}}};var yh=function(n){return function(r){var t=n<1;return t?r:dh(n)(wt(r))(r)}};var c1=function(){return lc(QF)(v.create)(D.value)}(),hh=function(n){return function(r){return function(t){return t.length===0?[]:on(t)(function(e){return bU(c1(e)(t))})(Xv(n(r))(t))}}};var Yv=function(n){return function(r){return CU([n])(r)}};var MU=Z(b(Ee)),Zv=function(n){return MU(function(){var r=on([])(Dh);return function(t){return r(n(t))}}())};function bh(n){return function(r){return n===r}}var pc=bh;var LU=Hn(bn),SU=ou(),AU=b(Jr);var IU=W(ht),HU=zn(lr),PU=HU(Tn);var $l=function(n){return n},rd=function(n){return function(r){return n(function(t){return LU(r(t))})}};var ui=function(n){return function(r){return n(r)}};var td=SU,ii={map:function(n){return function(r){return function(t){return r(function(e){return t(n(e))})}}}};var nf=function(){var r=ir([])();return{emitter:function(t){return function(){return La(function(a){return IU(a)([t])})(r)(),La(hh(pc)(t))(r)}},listener:function(t){return AU(_n(r))(PU(function(e){return e(t)}))}}};var _1=Nn(Wn),xU=Yt(go),ed=_1(Pr),rp=vn(Dt),RU=Hn(Ya),l1=b(Pr),NU=ew(Av),WU=Nr(dt)(An),s1=oa($_),OU=Ev(qw),qU=zn(dt)(An),$U=GF($_),Th=vn(go),Ch=function(n){var r=n.Monad0().Bind1(),t=b(r),e=Ml(n),a=_1(r);return function(o){var u=vn(o);return function(i){return t(e(function(c){return c.chatServer.isRunning}))(function(c){return t(u(_n(c)))(function(s){return s?t(e(function(_){return _.chatServer.listener}))(function(_){return u(ui(_)(i))}):a(u(xU("server is not running!")))(function(){return u(ov("SERVER NOT RUNNING, CRASH THE PLANE NO SURVIVOR"))})})})}}},p1=function(n){return ed(rp(Un(!0)(n.isRunning)))(function(){return RU(Pl(l1(NU(l1(rp(_n(n.queuedMessages)))(function(r){var t=X_(r);if(t instanceof v)return ed(WU(t.value0.head.delayBy)(function(e){return s1(ri(OU(e)))}))(function(){return ed(rp(ui(n.listener)(t.value0.head)))(function(){return ed(qU($U)(t.value0.head.selector))(function(){return rp(Un(t.value0.tail)(n.queuedMessages))})})});if(t instanceof D)return s1(ri(100));throw new Error("Failed pattern match at Capability.ChatServer (line 78, column 7 - line 88, column 47): "+[t.constructor.name])})))(function(){return rp(Un(!1)(n.isRunning))})))})},m1=function(n){var r=b(n.Monad0().Bind1()),t=Ml(n);return function(e){var a=vn(e);return function(o){return r(t(function(u){return u.chatServer.queuedMessages}))(function(u){return a(Un(o)(u))})}}},v1=function(){var r=Th(nf)(),t=Th(ir([]))(),e=Th(ir(!1))();return{listener:r.listener,emitter:r.emitter,queuedMessages:t,isRunning:e}};var Ha=function(n){return n.foldrWithIndex},UU=function(n){var r=Bu(n.Apply0()),t=h(n);return function(e){var a=Ha(e);return function(o){return a(function(u){var i=o(u);return function(c){return r(i(c))}})(t(void 0))}}},tp=function(n){var r=UU(n);return function(t){return Z(r(t))}};var su=function(n){return n.foldlWithIndex};var fi=function(n){return n.foldMapWithIndex};var Eo=function(n){return n.traverseWithIndex};var Eh=function(n){return function(r){return Z(Eo(r)(n))}};var Mo=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var ad=function(n){var r=Me(n);return function(t){return new Mo(t,r)}};var nB=G(z),P=function(){function n(){}return n.value=new n,n}(),F=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Mh=function(n){return n};var rB=function(n){var r=function(t){return function(e){var a=t,o=!1,u;function i(c,s){if(s instanceof F&&s.value1 instanceof F&&s.value1.value1 instanceof F){a=new F(s,c),e=s.value1.value1.value1;return}var _=function(p){return p instanceof F&&p.value1 instanceof F&&p.value1.value1 instanceof P?new F(n(p.value0),new F(n(p.value1.value0),P.value)):p instanceof F&&p.value1 instanceof P?new F(n(p.value0),P.value):P.value},m=function(p){return function(l){var f=p,d=!1,E;function H(O,V){if(O instanceof F&&O.value0 instanceof F&&O.value0.value1 instanceof F&&O.value0.value1.value1 instanceof F){f=O.value1,l=new F(n(O.value0.value0),new F(n(O.value0.value1.value0),new F(n(O.value0.value1.value1.value0),V)));return}return d=!0,V}for(;!d;)E=H(f,l);return E}};return o=!0,m(c)(_(s))}for(;!o;)u=i(a,e);return u}};return r(P.value)},wo={map:rB},tB=g(wo);var _r={foldr:function(n){return function(r){var t=function(){var a=function(o){return function(u){var i=o,c=!1,s;function _(m,p){if(p instanceof P)return c=!0,m;if(p instanceof F){i=new F(p.value0,m),u=p.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[m.constructor.name,p.constructor.name])}for(;!c;)s=_(i,u);return s}};return a(P.value)}(),e=qn(_r)(Z(n))(r);return function(a){return e(t(a))}}},foldl:function(n){var r=function(t){return function(e){var a=t,o=!1,u;function i(c,s){if(s instanceof P)return o=!0,c;if(s instanceof F){a=n(c)(s.value0),e=s.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[s.constructor.name])}for(;!o;)u=i(a,e);return u}};return r},foldMap:function(n){var r=W(n.Semigroup0()),t=Sn(n);return function(e){return qn(_r)(function(a){var o=r(a);return function(u){return o(e(u))}})(t)}}},od=qn(_r),eB=cr(_r);var ci={append:function(n){return function(r){return eB(F.create)(r)(n)}}},wh=W(ci),ep=function(){return{mempty:P.value,Semigroup0:function(){return ci}}}();var rf={traverse:function(n){var r=n.Apply0(),t=g(r.Functor0()),e=It(r),a=h(n);return function(o){var u=t(od(Z(F.create))(P.value)),i=od(function(c){var s=e(Z(F.create))(c);return function(_){return s(o(_))}})(a(P.value));return function(c){return u(i(c))}}},sequence:function(n){return tr(rf)(n)(nB)},Functor0:function(){return wo},Foldable1:function(){return _r}};var aB={unfoldr1:function(n){return function(r){var t=function(e){return function(a){var o=e,u=!1,i;function c(s,_){var m=n(s);if(m.value1 instanceof v){o=m.value1.value0,a=new F(m.value0,_);return}if(m.value1 instanceof D)return u=!0,od(Z(F.create))(P.value)(new F(m.value0,_));throw new Error("Failed pattern match at Data.List.Types (line 135, column 22 - line 137, column 61): "+[m.constructor.name])}for(;!u;)i=c(o,a);return i}};return t(r)(P.value)}}},ap={unfoldr:function(n){return function(r){var t=function(e){return function(a){var o=e,u=!1,i;function c(s,_){var m=n(s);if(m instanceof D)return u=!0,od(Z(F.create))(P.value)(_);if(m instanceof v){o=m.value0.value1,a=new F(m.value0.value0,_);return}throw new Error("Failed pattern match at Data.List.Types (line 142, column 22 - line 144, column 52): "+[m.constructor.name])}for(;!u;)i=c(o,a);return i}};return t(r)(P.value)}},Unfoldable10:function(){return aB}};var g1={eq1:function(n){var r=I(n);return function(t){return function(e){var a=function(o){return function(u){return function(i){var c=o,s=u,_=!1,m;function p(l,f,d){if(!d)return _=!0,!1;if(l instanceof P&&f instanceof P)return _=!0,d;if(l instanceof F&&f instanceof F){c=l.value1,s=f.value1,i=d&&r(f.value0)(l.value0);return}return _=!0,!1}for(;!_;)m=p(c,s,i);return m}}};return a(t)(e)(!0)}}}},oB=lo(g1);var dc=function(n){return{eq:oB(n)}};var uB={compare1:function(n){var r=J(n);return function(t){return function(e){var a=function(o){return function(u){var i=o,c=!1,s;function _(m,p){if(m instanceof P&&p instanceof P)return c=!0,R.value;if(m instanceof P)return c=!0,S.value;if(p instanceof P)return c=!0,A.value;if(m instanceof F&&p instanceof F){var l=r(m.value0)(p.value0);if(l instanceof R){i=m.value1,u=p.value1;return}return c=!0,l}throw new Error("Failed pattern match at Data.List.Types (line 60, column 5 - line 60, column 20): "+[m.constructor.name,p.constructor.name])}for(;!c;)s=_(i,u);return s}};return a(t)(e)}}},Eq10:function(){return g1}},iB=so(uB);var op=function(n){var r=dc(n.Eq0());return{compare:iB(n),Eq0:function(){return r}}};var Fh={apply:function(n){return function(r){if(n instanceof P)return P.value;if(n instanceof F)return wh(tB(n.value0)(r))(gn(Fh)(n.value1)(r));throw new Error("Failed pattern match at Data.List.Types (line 157, column 1 - line 159, column 48): "+[n.constructor.name,r.constructor.name])}},Functor0:function(){return wo}};var Ul={bind:function(n){return function(r){if(n instanceof P)return P.value;if(n instanceof F)return wh(r(n.value0))(b(Ul)(n.value1)(r));throw new Error("Failed pattern match at Data.List.Types (line 164, column 1 - line 166, column 37): "+[n.constructor.name,r.constructor.name])}},Apply0:function(){return Fh}};var fB={alt:wh,Functor0:function(){return wo}},y1=function(){return{empty:P.value,Alt0:function(){return fB}}}();var ud=function(n){return new F(n,P.value)};var pu=function(){var n=function(r){return function(t){var e=r,a=!1,o;function u(i,c){if(c instanceof P)return a=!0,i;if(c instanceof F){e=new F(c.value0,i),t=c.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[i.constructor.name,c.constructor.name])}for(;!a;)o=u(e,t);return o}};return n(P.value)}();var C1=function(n){return n instanceof P};var E1=function(n){if(n instanceof P)return D.value;if(n instanceof F)return new v(n.value0);throw new Error("Failed pattern match at Data.List (line 230, column 1 - line 230, column 22): "+[n.constructor.name])};var mu=function(n){return cr(n)(F.create)(P.value)};var Sh=function(n){var r=function(t){return function(e){var a=t,o=!1,u;function i(c,s){if(s instanceof P)return o=!0,pu(c);if(s instanceof F){if(n(s.value0)){a=new F(s.value0,c),e=s.value1;return}if(Vn){a=c,e=s.value1;return}}throw new Error("Failed pattern match at Data.List (line 390, column 3 - line 390, column 27): "+[c.constructor.name,s.constructor.name])}for(;!o;)u=i(a,e);return u}};return r(P.value)};var M1=function(n){return function(r){return function(t){if(t instanceof P)return P.value;if(t instanceof F&&n(r)(t.value0))return t.value1;if(t instanceof F)return new F(t.value0,M1(n)(r)(t.value1));throw new Error("Failed pattern match at Data.List (line 732, column 1 - line 732, column 67): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}};var w1=function(n){return M1(I(n))};var _B=rr();var Ah=function(n){return n},kl=function(){function n(){}return n.value=new n,n}(),zl=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var ip=yo(function(n){return kl.value});var fp=function(n){return ac(_B(n))};var F1={defer:function(n){return yo(function(r){return fp(n(r))})}},L1=dl(F1);var Gl=function(n){return function(r){return yo(function(t){return new zl(n,r)})}},Bl={foldr:function(n){return function(r){return function(t){var e=qn(Bl)(Z(Gl))(ip);return qn(Bl)(Z(n))(r)(e(t))}}},foldl:function(n){var r=function(t){return function(e){var a=t,o=!1,u;function i(c,s){var _=fp(s);if(_ instanceof kl)return o=!0,c;if(_ instanceof zl){a=n(c)(_.value0),e=_.value1;return}throw new Error("Failed pattern match at Data.List.Lazy.Types (line 127, column 7 - line 129, column 40): "+[_.constructor.name])}for(;!o;)u=i(a,e);return u}};return r},foldMap:function(n){var r=W(n.Semigroup0()),t=Sn(n);return function(e){return qn(Bl)(function(a){return function(o){return r(a)(e(o))}})(t)}}};var pB={unfoldr1:function(){var n=function(r){return function(t){return L1(function(e){var a=r(t);if(a.value1 instanceof v)return Gl(a.value0)(n(r)(a.value1.value0));if(a.value1 instanceof D)return Gl(a.value0)(ip);throw new Error("Failed pattern match at Data.List.Lazy.Types (line 151, column 28 - line 153, column 33): "+[a.constructor.name])})}};return n}()},Ih={unfoldr:function(){var n=function(r){return function(t){return L1(function(e){var a=r(t);if(a instanceof D)return ip;if(a instanceof v)return Gl(a.value0.value0)(n(r)(a.value0.value1));throw new Error("Failed pattern match at Data.List.Lazy.Types (line 157, column 28 - line 159, column 39): "+[a.constructor.name])})}};return n}(),Unfoldable10:function(){return pB}};var mB=g(Iv),vB=rr();var Hh=function(n){var r=function(e){var a=!1,o;function u(i){if(i instanceof kl)return a=!0,kl.value;if(i instanceof zl){if(n(i.value0))return a=!0,new zl(i.value0,Hh(n)(i.value1));if(Vn){e=fp(i.value1);return}}throw new Error("Failed pattern match at Data.List.Lazy (line 416, column 3 - line 416, column 15): "+[i.constructor.name])}for(;!a;)o=u(e);return o},t=mB(r);return function(e){return Ah(t(vB(e)))}};var H1=G(z);var nn=function(){function n(){}return n.value=new n,n}(),ln=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),Fn=function(){function n(r,t,e,a,o,u,i){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u,this.value6=i}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return function(i){return new n(r,t,e,a,o,u,i)}}}}}}},n}(),tf=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),li=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),ef=function(){function n(r,t,e,a,o,u){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return new n(r,t,e,a,o,u)}}}}}},n}(),vu=function(){function n(r,t,e,a,o,u){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return new n(r,t,e,a,o,u)}}}}}},n}(),af=function(){function n(r,t,e,a,o,u){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return new n(r,t,e,a,o,u)}}}}}},n}(),id=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}();var Fo=function(n){return function(r){return new ln(nn.value,n,r,nn.value)}},pi=function(n){var r=ua(n);return function(t){var e=function(a){var o=!1,u;function i(c){if(c instanceof P)return o=!0,D.value;if(c instanceof F){if(c.value0 instanceof nn){a=c.value1;return}if(c.value0 instanceof ln&&c.value0.value0 instanceof nn&&c.value0.value3 instanceof nn)return o=!0,new v(new y(new y(c.value0.value1,c.value0.value2),c.value1));if(c.value0 instanceof ln&&c.value0.value0 instanceof nn)return o=!0,new v(new y(new y(c.value0.value1,c.value0.value2),new F(c.value0.value3,c.value1)));if(c.value0 instanceof ln){a=new F(c.value0.value0,new F(Fo(c.value0.value1)(c.value0.value2),new F(c.value0.value3,c.value1)));return}if(c.value0 instanceof Fn){a=new F(c.value0.value0,new F(Fo(c.value0.value1)(c.value0.value2),new F(c.value0.value3,new F(Fo(c.value0.value4)(c.value0.value5),new F(c.value0.value6,c.value1)))));return}throw new Error("Failed pattern match at Data.Map.Internal (line 624, column 18 - line 633, column 71): "+[c.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 623, column 3 - line 623, column 19): "+[c.constructor.name])}for(;!o;)u=i(a);return u};return r(e)(new F(t,P.value))}},gB=pi(Ih);var Ph=pi(ia);var Dc=function(n){var r=jm(n);return function(t){var e=w(ml(r(t)));return{show:function(a){return"(fromFoldable "+(e(Ph(a))+")")}}}};var Xn=function(n){var r=J(n);return function(t){var e=function(a){var o=!1,u;function i(c){if(c instanceof nn)return o=!0,D.value;if(c instanceof ln){var s=r(t)(c.value1);if(s instanceof R)return o=!0,new v(c.value2);if(s instanceof S){a=c.value0;return}a=c.value3;return}if(c instanceof Fn){var _=r(t)(c.value1);if(_ instanceof R)return o=!0,new v(c.value2);var m=r(t)(c.value4);if(m instanceof R)return o=!0,new v(c.value5);if(_ instanceof S){a=c.value0;return}if(m instanceof A){a=c.value6;return}a=c.value3;return}throw new Error("Failed pattern match at Data.Map.Internal (line 241, column 5 - line 241, column 22): "+[c.constructor.name])}for(;!o;)u=i(a);return u};return e}},Rh=function(n){var r=Xn(n);return function(t){return function(e){return zu(r(t)(e))}}};var gc=function(n){return n instanceof nn},de={map:function(n){return function(r){if(r instanceof nn)return nn.value;if(r instanceof ln)return new ln(g(de)(n)(r.value0),r.value1,n(r.value2),g(de)(n)(r.value3));if(r instanceof Fn)return new Fn(g(de)(n)(r.value0),r.value1,n(r.value2),g(de)(n)(r.value3),r.value4,n(r.value5),g(de)(n)(r.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 116, column 1 - line 119, column 110): "+[n.constructor.name,r.constructor.name])}}},si={mapWithIndex:function(n){return function(r){if(r instanceof nn)return nn.value;if(r instanceof ln)return new ln(Zt(si)(n)(r.value0),r.value1,n(r.value1)(r.value2),Zt(si)(n)(r.value3));if(r instanceof Fn)return new Fn(Zt(si)(n)(r.value0),r.value1,n(r.value1)(r.value2),Zt(si)(n)(r.value3),r.value4,n(r.value4)(r.value5),Zt(si)(n)(r.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 121, column 1 - line 124, column 152): "+[n.constructor.name,r.constructor.name])}},Functor0:function(){return de}},P1=function(n){return function(r){return function(t){var e=n,a=r,o=!1,u;function i(c,s,_){if(s instanceof P)return o=!0,_;if(s instanceof F){if(s.value0 instanceof tf){e=c,a=s.value1,t=new ln(_,s.value0.value0,s.value0.value1,s.value0.value2);return}if(s.value0 instanceof li){e=c,a=s.value1,t=new ln(s.value0.value0,s.value0.value1,s.value0.value2,_);return}if(s.value0 instanceof ef){e=c,a=s.value1,t=new Fn(_,s.value0.value0,s.value0.value1,s.value0.value2,s.value0.value3,s.value0.value4,s.value0.value5);return}if(s.value0 instanceof vu){e=c,a=s.value1,t=new Fn(s.value0.value0,s.value0.value1,s.value0.value2,_,s.value0.value3,s.value0.value4,s.value0.value5);return}if(s.value0 instanceof af){e=c,a=s.value1,t=new Fn(s.value0.value0,s.value0.value1,s.value0.value2,s.value0.value3,s.value0.value4,s.value0.value5,_);return}throw new Error("Failed pattern match at Data.Map.Internal (line 462, column 3 - line 467, column 88): "+[s.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 1 - line 459, column 80): "+[s.constructor.name,_.constructor.name])}for(;!o;)u=i(e,a,t);return u}}},De=function(n){var r=P1(n),t=J(n);return function(e){return function(a){var o=function(i){return function(c){var s=i,_=!1,m;function p(l,f){if(l instanceof P)return _=!0,new ln(f.value0,f.value1,f.value2,f.value3);if(l instanceof F){if(l.value0 instanceof tf)return _=!0,r(l.value1)(new Fn(f.value0,f.value1,f.value2,f.value3,l.value0.value0,l.value0.value1,l.value0.value2));if(l.value0 instanceof li)return _=!0,r(l.value1)(new Fn(l.value0.value0,l.value0.value1,l.value0.value2,f.value0,f.value1,f.value2,f.value3));if(l.value0 instanceof ef){s=l.value1,c=new id(new ln(f.value0,f.value1,f.value2,f.value3),l.value0.value0,l.value0.value1,new ln(l.value0.value2,l.value0.value3,l.value0.value4,l.value0.value5));return}if(l.value0 instanceof vu){s=l.value1,c=new id(new ln(l.value0.value0,l.value0.value1,l.value0.value2,f.value0),f.value1,f.value2,new ln(f.value3,l.value0.value3,l.value0.value4,l.value0.value5));return}if(l.value0 instanceof af){s=l.value1,c=new id(new ln(l.value0.value0,l.value0.value1,l.value0.value2,l.value0.value3),l.value0.value4,l.value0.value5,new ln(f.value0,f.value1,f.value2,f.value3));return}throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 5 - line 503, column 108): "+[l.value0.constructor.name,f.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 3 - line 495, column 56): "+[l.constructor.name,f.constructor.name])}for(;!_;)m=p(s,c);return m}},u=function(i){return function(c){var s=i,_=!1,m;function p(l,f){if(f instanceof nn)return _=!0,o(l)(new id(nn.value,e,a,nn.value));if(f instanceof ln){var d=t(e)(f.value1);if(d instanceof R)return _=!0,r(l)(new ln(f.value0,e,a,f.value3));if(d instanceof S){s=new F(new tf(f.value1,f.value2,f.value3),l),c=f.value0;return}s=new F(new li(f.value0,f.value1,f.value2),l),c=f.value3;return}if(f instanceof Fn){var d=t(e)(f.value1);if(d instanceof R)return _=!0,r(l)(new Fn(f.value0,e,a,f.value3,f.value4,f.value5,f.value6));var E=t(e)(f.value4);if(E instanceof R)return _=!0,r(l)(new Fn(f.value0,f.value1,f.value2,f.value3,e,a,f.value6));if(d instanceof S){s=new F(new ef(f.value1,f.value2,f.value3,f.value4,f.value5,f.value6),l),c=f.value0;return}if(d instanceof A&&E instanceof S){s=new F(new vu(f.value0,f.value1,f.value2,f.value4,f.value5,f.value6),l),c=f.value3;return}s=new F(new af(f.value0,f.value1,f.value2,f.value3,f.value4,f.value5),l),c=f.value6;return}throw new Error("Failed pattern match at Data.Map.Internal (line 478, column 3 - line 478, column 55): "+[l.constructor.name,f.constructor.name])}for(;!_;)m=p(s,c);return m}};return u(P.value)}}},fd=function(n){var r=P1(n),t=J(n);return function(e){var a=function(c){return function(s){var _=c,m=!1,p;function l(f,d){if(f instanceof P)return m=!0,d;if(f instanceof F){if(f.value0 instanceof tf&&f.value0.value2 instanceof nn&&d instanceof nn)return m=!0,r(f.value1)(new ln(nn.value,f.value0.value0,f.value0.value1,nn.value));if(f.value0 instanceof li&&f.value0.value0 instanceof nn&&d instanceof nn)return m=!0,r(f.value1)(new ln(nn.value,f.value0.value1,f.value0.value2,nn.value));if(f.value0 instanceof tf&&f.value0.value2 instanceof ln){_=f.value1,s=new Fn(d,f.value0.value0,f.value0.value1,f.value0.value2.value0,f.value0.value2.value1,f.value0.value2.value2,f.value0.value2.value3);return}if(f.value0 instanceof li&&f.value0.value0 instanceof ln){_=f.value1,s=new Fn(f.value0.value0.value0,f.value0.value0.value1,f.value0.value0.value2,f.value0.value0.value3,f.value0.value1,f.value0.value2,d);return}return f.value0 instanceof tf&&f.value0.value2 instanceof Fn?(m=!0,r(f.value1)(new ln(new ln(d,f.value0.value0,f.value0.value1,f.value0.value2.value0),f.value0.value2.value1,f.value0.value2.value2,new ln(f.value0.value2.value3,f.value0.value2.value4,f.value0.value2.value5,f.value0.value2.value6)))):f.value0 instanceof li&&f.value0.value0 instanceof Fn?(m=!0,r(f.value1)(new ln(new ln(f.value0.value0.value0,f.value0.value0.value1,f.value0.value0.value2,f.value0.value0.value3),f.value0.value0.value4,f.value0.value0.value5,new ln(f.value0.value0.value6,f.value0.value1,f.value0.value2,d)))):f.value0 instanceof ef&&f.value0.value2 instanceof nn&&f.value0.value5 instanceof nn&&d instanceof nn?(m=!0,r(f.value1)(new Fn(nn.value,f.value0.value0,f.value0.value1,nn.value,f.value0.value3,f.value0.value4,nn.value))):f.value0 instanceof vu&&f.value0.value0 instanceof nn&&f.value0.value5 instanceof nn&&d instanceof nn?(m=!0,r(f.value1)(new Fn(nn.value,f.value0.value1,f.value0.value2,nn.value,f.value0.value3,f.value0.value4,nn.value))):f.value0 instanceof af&&f.value0.value0 instanceof nn&&f.value0.value3 instanceof nn&&d instanceof nn?(m=!0,r(f.value1)(new Fn(nn.value,f.value0.value1,f.value0.value2,nn.value,f.value0.value4,f.value0.value5,nn.value))):f.value0 instanceof ef&&f.value0.value2 instanceof ln?(m=!0,r(f.value1)(new ln(new Fn(d,f.value0.value0,f.value0.value1,f.value0.value2.value0,f.value0.value2.value1,f.value0.value2.value2,f.value0.value2.value3),f.value0.value3,f.value0.value4,f.value0.value5))):f.value0 instanceof vu&&f.value0.value0 instanceof ln?(m=!0,r(f.value1)(new ln(new Fn(f.value0.value0.value0,f.value0.value0.value1,f.value0.value0.value2,f.value0.value0.value3,f.value0.value1,f.value0.value2,d),f.value0.value3,f.value0.value4,f.value0.value5))):f.value0 instanceof vu&&f.value0.value5 instanceof ln?(m=!0,r(f.value1)(new ln(f.value0.value0,f.value0.value1,f.value0.value2,new Fn(d,f.value0.value3,f.value0.value4,f.value0.value5.value0,f.value0.value5.value1,f.value0.value5.value2,f.value0.value5.value3)))):f.value0 instanceof af&&f.value0.value3 instanceof ln?(m=!0,r(f.value1)(new ln(f.value0.value0,f.value0.value1,f.value0.value2,new Fn(f.value0.value3.value0,f.value0.value3.value1,f.value0.value3.value2,f.value0.value3.value3,f.value0.value4,f.value0.value5,d)))):f.value0 instanceof ef&&f.value0.value2 instanceof Fn?(m=!0,r(f.value1)(new Fn(new ln(d,f.value0.value0,f.value0.value1,f.value0.value2.value0),f.value0.value2.value1,f.value0.value2.value2,new ln(f.value0.value2.value3,f.value0.value2.value4,f.value0.value2.value5,f.value0.value2.value6),f.value0.value3,f.value0.value4,f.value0.value5))):f.value0 instanceof vu&&f.value0.value0 instanceof Fn?(m=!0,r(f.value1)(new Fn(new ln(f.value0.value0.value0,f.value0.value0.value1,f.value0.value0.value2,f.value0.value0.value3),f.value0.value0.value4,f.value0.value0.value5,new ln(f.value0.value0.value6,f.value0.value1,f.value0.value2,d),f.value0.value3,f.value0.value4,f.value0.value5))):f.value0 instanceof vu&&f.value0.value5 instanceof Fn?(m=!0,r(f.value1)(new Fn(f.value0.value0,f.value0.value1,f.value0.value2,new ln(d,f.value0.value3,f.value0.value4,f.value0.value5.value0),f.value0.value5.value1,f.value0.value5.value2,new ln(f.value0.value5.value3,f.value0.value5.value4,f.value0.value5.value5,f.value0.value5.value6)))):f.value0 instanceof af&&f.value0.value3 instanceof Fn?(m=!0,r(f.value1)(new Fn(f.value0.value0,f.value0.value1,f.value0.value2,new ln(f.value0.value3.value0,f.value0.value3.value1,f.value0.value3.value2,f.value0.value3.value3),f.value0.value3.value4,f.value0.value3.value5,new ln(f.value0.value3.value6,f.value0.value4,f.value0.value5,d)))):(m=!0,iu("The impossible happened in partial function `up`."))}throw new Error("Failed pattern match at Data.Map.Internal (line 552, column 5 - line 573, column 86): "+[f.constructor.name])}for(;!m;)p=l(_,s);return p}},o=function(c){return function(s){var _=c,m=!1,p;function l(f,d){if(d instanceof ln&&d.value0 instanceof nn&&d.value3 instanceof nn)return m=!0,a(f)(nn.value);if(d instanceof ln){_=new F(new li(d.value0,d.value1,d.value2),f),s=d.value3;return}if(d instanceof Fn&&d.value0 instanceof nn&&d.value3 instanceof nn&&d.value6 instanceof nn)return m=!0,a(new F(new li(nn.value,d.value1,d.value2),f))(nn.value);if(d instanceof Fn){_=new F(new af(d.value0,d.value1,d.value2,d.value3,d.value4,d.value5),f),s=d.value6;return}return m=!0,iu("The impossible happened in partial function `removeMaxNode`.")}for(;!m;)p=l(_,s);return p}},u=function(c){var s=!1,_;function m(p){if(p instanceof ln&&p.value3 instanceof nn)return s=!0,{key:p.value1,value:p.value2};if(p instanceof ln){c=p.value3;return}if(p instanceof Fn&&p.value6 instanceof nn)return s=!0,{key:p.value4,value:p.value5};if(p instanceof Fn){c=p.value6;return}return s=!0,iu("The impossible happened in partial function `maxNode`.")}for(;!s;)_=m(c);return _},i=function(c){return function(s){var _=c,m=!1,p;function l(f,d){if(d instanceof nn)return m=!0,D.value;if(d instanceof ln){var E=t(e)(d.value1);if(d.value3 instanceof nn&&E instanceof R)return m=!0,new v(new y(d.value2,a(f)(nn.value)));if(E instanceof R){var H=u(d.value0);return m=!0,new v(new y(d.value2,o(new F(new tf(H.key,H.value,d.value3),f))(d.value0)))}if(E instanceof S){_=new F(new tf(d.value1,d.value2,d.value3),f),s=d.value0;return}_=new F(new li(d.value0,d.value1,d.value2),f),s=d.value3;return}if(d instanceof Fn){var O=function(){return d.value0 instanceof nn&&d.value3 instanceof nn&&d.value6 instanceof nn}(),E=t(e)(d.value4),V=t(e)(d.value1);if(O&&V instanceof R)return m=!0,new v(new y(d.value2,r(f)(new ln(nn.value,d.value4,d.value5,nn.value))));if(O&&E instanceof R)return m=!0,new v(new y(d.value5,r(f)(new ln(nn.value,d.value1,d.value2,nn.value))));if(V instanceof R){var H=u(d.value0);return m=!0,new v(new y(d.value2,o(new F(new ef(H.key,H.value,d.value3,d.value4,d.value5,d.value6),f))(d.value0)))}if(E instanceof R){var H=u(d.value3);return m=!0,new v(new y(d.value5,o(new F(new vu(d.value0,d.value1,d.value2,H.key,H.value,d.value6),f))(d.value3)))}if(V instanceof S){_=new F(new ef(d.value1,d.value2,d.value3,d.value4,d.value5,d.value6),f),s=d.value0;return}if(V instanceof A&&E instanceof S){_=new F(new vu(d.value0,d.value1,d.value2,d.value4,d.value5,d.value6),f),s=d.value3;return}_=new F(new af(d.value0,d.value1,d.value2,d.value3,d.value4,d.value5),f),s=d.value6;return}throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 16 - line 548, column 80): "+[d.constructor.name])}for(;!m;)p=l(_,s);return p}};return i(P.value)}},Wr={foldr:function(n){return function(r){return function(t){if(t instanceof nn)return r;if(t instanceof ln)return cr(Wr)(n)(n(t.value2)(cr(Wr)(n)(r)(t.value3)))(t.value0);if(t instanceof Fn)return cr(Wr)(n)(n(t.value2)(cr(Wr)(n)(n(t.value5)(cr(Wr)(n)(r)(t.value6)))(t.value3)))(t.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 133, column 17 - line 136, column 85): "+[t.constructor.name])}}},foldl:function(n){return function(r){return function(t){if(t instanceof nn)return r;if(t instanceof ln)return qn(Wr)(n)(n(qn(Wr)(n)(r)(t.value0))(t.value2))(t.value3);if(t instanceof Fn)return qn(Wr)(n)(n(qn(Wr)(n)(n(qn(Wr)(n)(r)(t.value0))(t.value2))(t.value3))(t.value5))(t.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 137, column 17 - line 140, column 85): "+[t.constructor.name])}}},foldMap:function(n){var r=Sn(n),t=W(n.Semigroup0());return function(e){return function(a){if(a instanceof nn)return r;if(a instanceof ln)return t(gr(Wr)(n)(e)(a.value0))(t(e(a.value2))(gr(Wr)(n)(e)(a.value3)));if(a instanceof Fn)return t(gr(Wr)(n)(e)(a.value0))(t(e(a.value2))(t(gr(Wr)(n)(e)(a.value3))(t(e(a.value5))(gr(Wr)(n)(e)(a.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 141, column 17 - line 144, column 93): "+[a.constructor.name])}}}},Qr={foldrWithIndex:function(n){return function(r){return function(t){if(t instanceof nn)return r;if(t instanceof ln)return Ha(Qr)(n)(n(t.value1)(t.value2)(Ha(Qr)(n)(r)(t.value3)))(t.value0);if(t instanceof Fn)return Ha(Qr)(n)(n(t.value1)(t.value2)(Ha(Qr)(n)(n(t.value4)(t.value5)(Ha(Qr)(n)(r)(t.value6)))(t.value3)))(t.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 26 - line 150, column 120): "+[t.constructor.name])}}},foldlWithIndex:function(n){return function(r){return function(t){if(t instanceof nn)return r;if(t instanceof ln)return su(Qr)(n)(n(t.value1)(su(Qr)(n)(r)(t.value0))(t.value2))(t.value3);if(t instanceof Fn)return su(Qr)(n)(n(t.value4)(su(Qr)(n)(n(t.value1)(su(Qr)(n)(r)(t.value0))(t.value2))(t.value3))(t.value5))(t.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 151, column 26 - line 154, column 120): "+[t.constructor.name])}}},foldMapWithIndex:function(n){var r=Sn(n),t=W(n.Semigroup0());return function(e){return function(a){if(a instanceof nn)return r;if(a instanceof ln)return t(fi(Qr)(n)(e)(a.value0))(t(e(a.value1)(a.value2))(fi(Qr)(n)(e)(a.value3)));if(a instanceof Fn)return t(fi(Qr)(n)(e)(a.value0))(t(e(a.value1)(a.value2))(t(fi(Qr)(n)(e)(a.value3))(t(e(a.value4)(a.value5))(fi(Qr)(n)(e)(a.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 155, column 26 - line 158, column 128): "+[a.constructor.name])}}},Foldable0:function(){return Wr}},x1=Ha(Qr),yB=su(Qr),R1=function(){return x1(function(n){return function(r){return function(t){return new F(n,t)}}})(P.value)}(),du={traverse:function(n){var r=h(n),t=n.Apply0(),e=gn(t),a=g(t.Functor0());return function(o){return function(u){if(u instanceof nn)return r(nn.value);if(u instanceof ln)return e(e(e(a(ln.create)(tr(du)(n)(o)(u.value0)))(r(u.value1)))(o(u.value2)))(tr(du)(n)(o)(u.value3));if(u instanceof Fn)return e(e(e(e(e(e(a(Fn.create)(tr(du)(n)(o)(u.value0)))(r(u.value1)))(o(u.value2)))(tr(du)(n)(o)(u.value3)))(r(u.value4)))(o(u.value5)))(tr(du)(n)(o)(u.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 160, column 1 - line 175, column 31): "+[o.constructor.name,u.constructor.name])}}},sequence:function(n){return tr(du)(n)(H1)},Functor0:function(){return de},Foldable1:function(){return Wr}},_i={traverseWithIndex:function(n){var r=h(n),t=n.Apply0(),e=gn(t),a=g(t.Functor0());return function(o){return function(u){if(u instanceof nn)return r(nn.value);if(u instanceof ln)return e(e(e(a(ln.create)(Eo(_i)(n)(o)(u.value0)))(r(u.value1)))(o(u.value1)(u.value2)))(Eo(_i)(n)(o)(u.value3));if(u instanceof Fn)return e(e(e(e(e(e(a(Fn.create)(Eo(_i)(n)(o)(u.value0)))(r(u.value1)))(o(u.value1)(u.value2)))(Eo(_i)(n)(o)(u.value3)))(r(u.value4)))(o(u.value4)(u.value5)))(Eo(_i)(n)(o)(u.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 177, column 1 - line 191, column 40): "+[o.constructor.name,u.constructor.name])}}},FunctorWithIndex0:function(){return si},FoldableWithIndex1:function(){return Qr},Traversable2:function(){return du}};var hB=function(n){var r=Gf(n),t=pl(n),e=Bm(n);return function(a){return function(o){return function(u){return function(i){return function(c){var s=function(){if(u instanceof v)return function(l){return r(l)(u.value0)};if(u instanceof D)return U(!1);throw new Error("Failed pattern match at Data.Map.Internal (line 363, column 7 - line 367, column 22): "+[u.constructor.name])}(),_=function(){if(i instanceof v)return function(l){return t(l)(i.value0)};if(i instanceof D)return U(!1);throw new Error("Failed pattern match at Data.Map.Internal (line 370, column 7 - line 374, column 22): "+[i.constructor.name])}(),m=function(){if(u instanceof v&&i instanceof v)return function(l){return e(u.value0)(l)&&e(l)(i.value0)};if(u instanceof v&&i instanceof D)return function(l){return e(u.value0)(l)};if(u instanceof D&&i instanceof v)return function(l){return e(l)(i.value0)};if(u instanceof D&&i instanceof D)return U(!0);throw new Error("Failed pattern match at Data.Map.Internal (line 377, column 7 - line 385, column 21): "+[u.constructor.name,i.constructor.name])}(),p=function(l){if(l instanceof nn)return o;if(l instanceof ln)return a(a(function(){var f=s(l.value1);return f?o:p(l.value0)}())(function(){var f=m(l.value1);return f?c(l.value1)(l.value2):o}()))(function(){var f=_(l.value1);return f?o:p(l.value3)}());if(l instanceof Fn)return a(a(a(a(function(){var f=s(l.value1);return f?o:p(l.value0)}())(function(){var f=m(l.value1);return f?c(l.value1)(l.value2):o}()))(function(){var f=s(l.value4)||_(l.value1);return f?o:p(l.value3)}()))(function(){var f=m(l.value4);return f?c(l.value4)(l.value5):o}()))(function(){var f=_(l.value4);return f?o:p(l.value6)}());throw new Error("Failed pattern match at Data.Map.Internal (line 403, column 10 - line 415, column 67): "+[l.constructor.name])};return p}}}}}};var of=function(n){var r=Km(n);return function(t){var e=I(sl(r(t)));return{eq:function(a){return function(o){return e(Ph(a))(Ph(o))}}}}};var Qn=function(){return nn.value}(),ge=function(n){var r=De(n);return function(t){return qn(t)(function(e){return function(a){return r(a.value0)(a.value1)(e)}})(Qn)}},Jl=function(n){var r=ge(n)(Bl);return function(t){var e=Hh(eu(t));return function(a){return r(e(gB(a)))}}},cp=function(n){var r=Jl(n);return function(t){return r(U(t))}},Nh=function(n){var r=Jl(n);return function(t){return r(function(e){return U(t(e))})}};var N1=function(n){var r=De(n);return function(t){return x1(function(e){return function(a){return function(o){return on(o)(function(u){return r(e)(u)(o)})(t(e)(a))}}})(Qn)}},Vl=function(n){var r=N1(n);return function(t){return r(U(t))}},Du=function(n){var r=fd(n);return function(t){return function(e){return on(e)(Hr)(r(t)(e))}}};var lp=function(n){return Vl(n)(H1)};var yc=function(n){var r=Xn(n),t=Du(n),e=De(n);return function(a){return function(o){return function(u){var i=a(r(o)(u));if(i instanceof D)return t(o)(u);if(i instanceof v)return e(o)(i.value0)(u);throw new Error("Failed pattern match at Data.Map.Internal (line 596, column 15 - line 598, column 25): "+[i.constructor.name])}}}};var Wh=function(n){var r=yc(n);return function(t){return function(e){return function(a){return r(function(){var o=on(a)(Z(t)(a));return function(u){return v.create(o(u))}}())(e)}}}},Oh=function(n){var r=yc(n);return function(t){return function(e){return function(a){var o=function(u){return function(i){return function(c){return r(function(){var s=on(c)(t(c));return function(_){return v.create(s(_))}}())(u)(i)}}};return yB(o)(a)(e)}}}};var qh=function(n){return Oh(n)(U)},sp=function(n){var r=hB(n),t=qh(n);return function(e){return function(a){return r(t)(Qn)(e)(a)(Fo)}}};var $h=function(n){var r=yc(n);return function(t){return function(e){return function(a){return r(on(D.value)(t))(e)(a)}}}};var W1=Ui(lt);var CB=w(Ar),EB=J(zr),MB=Vu(Be),wB=function(n){return n},cd={show:function(n){return"Rotation "+(CB(n*90|0)+"\xB0")}},Ql={eq:function(n){return function(r){return n===r}}},ld={compare:function(n){return function(r){return EB(n)(r)}},Eq0:function(){return Ql}},Rt=function(n){return MB(n)(4)},FB={bottom:Rt(0),top:Rt(3),Ord0:function(){return ld}},LB={succ:function(n){return n===3?D.value:new v(Rt(n+1|0))},pred:function(n){return n===0?D.value:new v(Rt(n-1|0))},Ord0:function(){return ld}},O1={cardinality:4,fromEnum:function(n){return n},toEnum:function(n){return v.create(wB(n))},Bounded0:function(){return FB},Enum1:function(){return LB}},_p={append:function(n){return function(r){return Rt(n+r|0)}}},pp={mempty:Rt(0),Semigroup0:function(){return _p}},q1={ginverse:function(n){return Rt(-n|0)},Monoid0:function(){return pp}};var SB=Vu(Be),AB=Ur(O1),Pn=function(){function n(){}return n.value=new n,n}(),Bn=function(){function n(){}return n.value=new n,n}(),br=function(){function n(){}return n.value=new n,n}(),pn=function(){function n(){}return n.value=new n,n}(),Pa={show:function(n){if(n instanceof Pn)return"Up";if(n instanceof Bn)return"Right";if(n instanceof br)return"Down";if(n instanceof pn)return"Left";throw new Error("Failed pattern match at Game.Direction (line 14, column 10 - line 18, column 20): "+[n.constructor.name])}},fa={eq:function(n){return function(r){return n instanceof Pn&&r instanceof Pn||n instanceof Bn&&r instanceof Bn||n instanceof br&&r instanceof br||n instanceof pn&&r instanceof pn}}},Zn={compare:function(n){return function(r){if(n instanceof Pn&&r instanceof Pn)return R.value;if(n instanceof Pn)return S.value;if(r instanceof Pn)return A.value;if(n instanceof Bn&&r instanceof Bn)return R.value;if(n instanceof Bn)return S.value;if(r instanceof Bn)return A.value;if(n instanceof br&&r instanceof br)return R.value;if(n instanceof br)return S.value;if(r instanceof br)return A.value;if(n instanceof pn&&r instanceof pn)return R.value;throw new Error("Failed pattern match at Game.Direction (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return fa}},$1={succ:function(n){if(n instanceof Pn)return new v(Bn.value);if(n instanceof Bn)return new v(br.value);if(n instanceof br)return new v(pn.value);if(n instanceof pn)return D.value;throw new Error("Failed pattern match at Game.Direction (line 21, column 10 - line 25, column 20): "+[n.constructor.name])},pred:function(n){if(n instanceof Pn)return D.value;if(n instanceof Bn)return new v(Pn.value);if(n instanceof br)return new v(Bn.value);if(n instanceof pn)return new v(br.value);throw new Error("Failed pattern match at Game.Direction (line 26, column 10 - line 30, column 22): "+[n.constructor.name])},Ord0:function(){return Zn}},IB=function(){return{bottom:Pn.value,top:pn.value,Ord0:function(){return Zn}}}(),jl={cardinality:4,fromEnum:function(n){if(n instanceof Pn)return 0;if(n instanceof Bn)return 1;if(n instanceof br)return 2;if(n instanceof pn)return 3;throw new Error("Failed pattern match at Game.Direction (line 38, column 14 - line 42, column 14): "+[n.constructor.name])},toEnum:function(n){return n===0?new v(Pn.value):n===1?new v(Bn.value):n===2?new v(br.value):n===3?new v(pn.value):D.value},Bounded0:function(){return IB},Enum1:function(){return $1}},HB=Yr(jl),Uh=Ur(jl),Lo=function(n){return function(r){return Kn(Pn.value)(HB(SB(Uh(n)+AB(r)|0)(4)))}},mp=function(n){if(n instanceof Pn)return br.value;if(n instanceof Bn)return pn.value;if(n instanceof br)return Pn.value;if(n instanceof pn)return Bn.value;throw new Error("Failed pattern match at Game.Direction (line 54, column 21 - line 58, column 17): "+[n.constructor.name])},ca=function(n){return function(r){return Rt(Uh(r)-Uh(n)|0)}},la=function(){return LF($1)(J_)(Pn.value)(pn.value)}();var U1=w(Ar),B1=J(zr);var Za={show:function(n){return"("+(U1(n.x)+(","+(U1(n.y)+")")))}},sa={eq:function(n){return function(r){return n.x===r.x&&n.y===r.y}}},PB=I(sa),Lt={compare:function(n){return function(r){var t=B1(n.x)(r.x);return t instanceof S?S.value:t instanceof A?A.value:B1(n.y)(r.y)}},Eq0:function(){return sa}};var Zr=function(n){return function(r){return{x:n,y:r}}},Kl=function(n){return function(r){if(r instanceof Pn)return Zr(n.x)(n.y-1|0);if(r instanceof Bn)return Zr(n.x+1|0)(n.y);if(r instanceof br)return Zr(n.x)(n.y+1|0);if(r instanceof pn)return Zr(n.x-1|0)(n.y);throw new Error("Failed pattern match at Game.Location (line 33, column 37 - line 37, column 38): "+[r.constructor.name])}},Bh=function(n){return function(r){return np(function(t){return PB(Kl(n)(t))(r)})(la)}};var OB=gr(_r),qB=qn(_r),$B=cr(_r);var UB=function(n){return n};var Gh=function(n){return R1(n)};var sd=function(n){var r=Rh(n);return function(t){return function(e){return r(t)(e)}}};var G1=function(n){var r=De(n);return function(t){return function(e){return r(t)(void 0)(e)}}},k1=UB,gu={foldMap:function(n){var r=OB(n);return function(t){var e=r(t);return function(a){return e(Gh(a))}}},foldl:function(n){return function(r){var t=qB(n)(r);return function(e){return t(Gh(e))}}},foldr:function(n){return function(r){var t=$B(n)(r);return function(e){return t(Gh(e))}}}};var z1=function(n){var r=I(of(n)(Wm));return{eq:function(t){return function(e){return r(t)(e)}}}};var kh=Qn,Xl=function(n){var r=qn(n);return function(t){var e=G1(t);return r(function(a){return function(o){return e(o)(a)}})(kh)}};var So=function(){var n=Hn(de);return function(r){return k1(n(r))}}();var zh=function(n){return n};var V1={dimap:function(n){return function(r){return function(t){return function(e){return t(n(e))}}}}},er={first:function(n){return function(r){return n(st(r))}},second:function(n){return function(r){return n(Hr(r))}},Profunctor0:function(){return V1}};var Zl=function(n){var r=Sn(y_(n));return{left:function(t){return qr(t)(r)},right:function(t){return qr(r)(t)},Profunctor0:function(){return V1}}};var hc=function(n){return n.right};var uf={left:function(n){return function(r){if(r instanceof Y)return new Y(n(r.value0));if(r instanceof K)return new K(r.value0);throw new Error("Failed pattern match at Data.Profunctor.Choice (line 32, column 1 - line 35, column 16): "+[n.constructor.name,r.constructor.name])}},right:g(Ue),Profunctor0:function(){return H_}};var VB=G(z),Jn={first:function(n){return function(r){return new y(n(r.value0),r.value1)}},second:g(au),Profunctor0:function(){return H_}},vp=function(n){return n.second},dp=function(n){return n.first},QB=function(n){var r=o_(n.Semigroupoid0());return function(t){var e=dp(t),a=vp(t);return function(o){return function(u){return r(e(o))(a(u))}}}},Jh=function(n){var r=G(n),t=o_(n.Semigroupoid0()),e=QB(n);return function(a){var o=Xt(a.Profunctor0()),u=e(a);return function(i){return function(c){var s=o(VB)(function(_){return new y(_,_)})(r);return t(s)(u(i)(c))}}}};var jB=bl()()()();var Q1={wander:function(n){return jB(Do)(n(_y))},Strong0:function(){return Jn},Choice1:function(){return uf}};var Vh=function(n){return n},aG={dimap:function(n){return function(r){return function(t){return r(t)}}}};var K1={left:function(n){return new Y(n)},right:function(n){return new K(n)},Profunctor0:function(){return aG}};var Z1=rr();var nL=nv()()(zh);var rL=function(n){var r=na(n);return function(t){var e=nL(t)(U(r));return function(a){return Z1(e(a))}}};var tL=function(n){var r=nL(n)(function(t){return Zg(v.create(t))});return function(t){return Z1(r(t))}};var aL=rr(),cG=G(z);var hu=function(n){return aL(n(cG))},Dp=function(n){return function(r){return hu(r)(n)}},Wt=function(n){var r=pe(n);return function(t){return r(function(e){return Dp(e)(t)})}},_d=function(n){return function(r){var t=aL(r);return function(e){return t(n(e))}}};var oL=ou();var lG=function(n){return function(r){return function(t){var e=Xt(t);return function(a){return e(n)(r)(a)}}}};var uL=function(){return function(){return function(n){return lG(oL)(oL)(n)}}};var _G=uL()(),bc=function(){return function(){return function(n){return _G(n)}}};var iL=G(z),pG=Qi($i);var fL=nv()()(Vh),jh=function(n){return function(r){return function(t){var e=t.Profunctor0(),a=Xt(e),o=hc(t),u=Fy(e);return function(i){return a(r)(qr(iL)(iL))(o(u(n)(i)))}}}},Kh=function(n){return function(r){return function(t){return jh(n)(function(e){return on(new Y(e))(K.create)(r(e))})(t)}}},mG=function(n){return function(r){return function(t){return Kh(U(n))(function(e){return pG(r(e))})(t)}}},cL=function(n){var r=I(n);return function(t){return function(e){return mG(t)(function(a){return r(a)(t)})(e)}}};var vG=function(n){return function(r){var t=Xt(r.Profunctor0()),e=dp(r);return function(a){return t(n)(function(o){return o.value1(o.value0)})(e(a))}}},Tc=function(n){return function(r){return function(t){return vG(function(e){return new y(n(e),function(a){return r(e)(a)})})(t)}}};var sL=function(n){var r=kr(n);return function(){return function(){return function(t){return function(e){return function(a){return ba(r(t))(e)(a)}}}}}};var gp=function(n){var r=kr(n);return function(){return function(t){return function(e){return fe(r(t))(e)}}}};var St=function(n){var r=gp(n)(),t=sL(n)()();return function(){return function(){return function(e){return function(a){return Tc(r(e))(Z(t(e)))(a)}}}}};var dd=function(n){return n},Ec=function(n){return function(r){return dd(n)(U(r))}};var Zh=function(n){var r=Hn(n.Monad0().Bind1().Apply0().Functor0()),t=Yf(n);return function(e){return function(a){return r(t(dd(e)(a)))}}};var no=function(n){var r=Hn(n.Monad0().Bind1().Apply0().Functor0()),t=Yf(n);return function(e){return function(a){return r(t(Ec(e)(a)))}}};var ns=function(n){var r=Zh(n);return function(t){var e=W(t);return function(a){var o=r(a),u=Z(e);return function(i){return o(u(i))}}}};var gG=w(Ar),_L=bc()(),yG=St({reflectSymbol:function(){return"portType"}})()(),hG=St({reflectSymbol:function(){return"capacity"}})()(),ye=function(){function n(){}return n.value=new n,n}(),pa=function(){function n(){}return n.value=new n,n}(),Ot=function(){function n(){}return n.value=new n,n}(),rs=function(){function n(){}return n.value=new n,n}(),ts=function(){function n(){}return n.value=new n,n}(),es=function(){function n(){}return n.value=new n,n}();var bG={show:function(n){if(n instanceof ye)return"Input";if(n instanceof pa)return"Output";throw new Error("Failed pattern match at Game.Piece.Port (line 44, column 10 - line 46, column 23): "+[n.constructor.name])}},TG=w(bG);var Dd={eq:function(n){return function(r){return n instanceof ye&&r instanceof ye||n instanceof pa&&r instanceof pa}}},CG=I(Dd),EG={eq:function(n){return function(r){return n instanceof Ot&&r instanceof Ot||n instanceof rs&&r instanceof rs||n instanceof ts&&r instanceof ts||n instanceof es&&r instanceof es}}},MG=I(EG),gd={eq:function(n){return function(r){return MG(n.capacity)(r.capacity)&&CG(n.portType)(r.portType)}}},wG=I(gd),pL=function(n){if(n instanceof Ot)return 1;if(n instanceof rs)return 2;if(n instanceof ts)return 4;if(n instanceof es)return 8;throw new Error("Failed pattern match at Game.Piece.Port (line 19, column 9 - line 23, column 16): "+[n.constructor.name])},nb={show:function(n){return"Capacity "+gG(pL(n))}},FG=w(nb),rb={show:function(n){return TG(n.portType)+(" "+FG(n.capacity))}},Mc=function(n){return{portType:pa.value,capacity:n}},mL=function(n){if(n instanceof ye)return pa.value;if(n instanceof pa)return ye.value;throw new Error("Failed pattern match at Game.Piece.Port (line 49, column 20 - line 51, column 18): "+[n.constructor.name])},sf=function(n){return{portType:ye.value,capacity:n}};var tb=function(n){var r=_L(n.Profunctor0()),t=yG(Q.value)(n);return function(e){return r(t(e))}},vL=tb(er),vi=rL(lt)(function(){var n=cL(Dd)(ye.value)(Zl(C_(lt)));return function(r){return vL(n(r))}}()),wc=function(){var n=xt(lt);return function(r){return n(vi(r))}}(),Fc=dd(tb(Jn))(mL),eb=function(n){return function(r){return wG(n)(Fc(r))}},bu=hu(vL),dL=function(n){var r=_L(n.Profunctor0()),t=hG(Q.value)(n);return function(e){return r(t(e))}},yp=hu(dL(er));var LG=J(Sr),SG=Xn(Zn);var AG=hl()(),IG=ry(),HG=rr();var as={show:function(n){return n}},Lc={eq:function(n){return function(r){return n===r}}},Tu={compare:function(n){return function(r){return LG(n)(r)}},Eq0:function(){return Lc}},hp=function(n){return n.updatePort},ab=function(n){return n.updateCapacity},ne=function(n){return n.name},_f=function(n){return n.getPorts},os=function(n){var r=_f(n);return function(t){return function(e){return SG(e)(r(t))}}};var ob=function(n){return n.getCapacity},Sc=function(n){return n.eval},bp=function(){return function(n){return function(r){return new v(AG(IG)(function(t){var e={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.capacity=n,e})(r))}}},Tp=function(){return function(n){return new v(HG(n).capacity)}};var us=I(sa),DL=I(Lc),PG=I(Ql),Cp=J(Lt),gL=J(Tu),xG=J(ld),RG=ev(Wr)(Ke),NG=ra(Ui(W1)),WG=I(Wi),OG=Pt(Ke);var is=function(){function n(){}return n.value=new n,n}(),yd=function(){function n(){}return n.value=new n,n}(),He=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),ke=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Io=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Pe=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Ho=function(){function n(){}return n.value=new n,n}(),Cu=function(){function n(){}return n.value=new n,n}(),Eu=function(){function n(){}return n.value=new n,n}(),pf=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),qt=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),hd=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var yL={eq:function(n){return function(r){return n instanceof is&&r instanceof is||n instanceof yd&&r instanceof yd}}},qG=I(yL),$G={compare:function(n){return function(r){if(n instanceof is&&r instanceof is)return R.value;if(n instanceof is)return S.value;if(r instanceof is)return A.value;if(n instanceof yd&&r instanceof yd)return R.value;throw new Error("Failed pattern match at Game.GameEvent (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return yL}},UG=J($G),ub={eq:function(n){return function(r){return n instanceof He&&r instanceof He||n instanceof ke&&r instanceof ke?us(n.value0)(r.value0)&&DL(n.value1)(r.value1):n instanceof Io&&r instanceof Io?us(n.value0)(r.value0)&&us(n.value1)(r.value1):n instanceof Pe&&r instanceof Pe?us(n.value0)(r.value0)&&PG(n.value1)(r.value1):n instanceof Ho&&r instanceof Ho||n instanceof Cu&&r instanceof Cu||n instanceof Eu&&r instanceof Eu?!0:n instanceof pf&&r instanceof pf?I(dc(ub))(n.value0)(r.value0):!1}}},BG=I(ub),GG={eq:function(n){return function(r){return n instanceof qt&&r instanceof qt?BG(n.value0)(r.value0):n instanceof hd&&r instanceof hd?qG(n.value0)(r.value0):!1}}},hL={compare:function(n){return function(r){if(n instanceof He&&r instanceof He){var t=Cp(n.value0)(r.value0);return t instanceof S?S.value:t instanceof A?A.value:gL(n.value1)(r.value1)}if(n instanceof He)return S.value;if(r instanceof He)return A.value;if(n instanceof ke&&r instanceof ke){var t=Cp(n.value0)(r.value0);return t instanceof S?S.value:t instanceof A?A.value:gL(n.value1)(r.value1)}if(n instanceof ke)return S.value;if(r instanceof ke)return A.value;if(n instanceof Io&&r instanceof Io){var t=Cp(n.value0)(r.value0);return t instanceof S?S.value:t instanceof A?A.value:Cp(n.value1)(r.value1)}if(n instanceof Io)return S.value;if(r instanceof Io)return A.value;if(n instanceof Pe&&r instanceof Pe){var t=Cp(n.value0)(r.value0);return t instanceof S?S.value:t instanceof A?A.value:xG(n.value1)(r.value1)}if(n instanceof Pe)return S.value;if(r instanceof Pe)return A.value;if(n instanceof Ho&&r instanceof Ho)return R.value;if(n instanceof Ho)return S.value;if(r instanceof Ho)return A.value;if(n instanceof Cu&&r instanceof Cu)return R.value;if(n instanceof Cu)return S.value;if(r instanceof Cu)return A.value;if(n instanceof Eu&&r instanceof Eu)return R.value;if(n instanceof Eu)return S.value;if(r instanceof Eu)return A.value;if(n instanceof pf&&r instanceof pf)return J(op(hL))(n.value0)(r.value0);throw new Error("Failed pattern match at Game.GameEvent (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return ub}},kG=J(hL),bL={compare:function(n){return function(r){if(n instanceof qt&&r instanceof qt)return kG(n.value0)(r.value0);if(n instanceof qt)return S.value;if(r instanceof qt)return A.value;if(n instanceof hd&&r instanceof hd)return UG(n.value0)(r.value0);throw new Error("Failed pattern match at Game.GameEvent (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return GG}},zG=Nh(bL),JG=Wh(bL);var TL=function(n){return function(r){return r instanceof qt&&r.value0 instanceof Io?us(n)(r.value0.value1):!1}};var CL=function(n){return n instanceof qt&&n.value0 instanceof He};var VG=function(n){return function(r){return on(!1)(n)(E1(r.gameEventHistory))}},EL=function(){return{gameEventHistory:P.value,allGameEvents:Qn}}(),QG=function(n){return function(r){return function(t){return function(e){return n(RG(zG(t)(e.allGameEvents)))(r)}}}},ib=NG(VG)(QG(WG)(1));var ML=function(n){return function(r){return{gameEventHistory:new F(n,r.gameEventHistory),allGameEvents:JG(OG)(n)(1)(r.allGameEvents)}}};var fb=L,wL=L;var KG=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var LL=function(n){return function(r){return fb(function(t){return n(t.value0)(t.value1)})(r)}};var SL=function(n){return function(r){return wL(new KG(n,r))}},cb={map:function(n){return function(r){return fb(function(t){return SL(function(e){return n(t.value0(e))})(t.value1)})(r)}}};var AL=SL(G(z));var YG=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}();var bd=function(n){return YG.create(I(n.Eq0()))(J(n))},ZG={eq:function(n){return function(r){return n.value0(n.value2)(r.value2)}}},IL={compare:function(n){return function(r){return n.value1(n.value2)(r.value2)}},Eq0:function(){return ZG}};var sb=h_(Sr)(IL);var r3=fd(sb),t3=Xn(sb),e3=De(sb);var HL=function(){return function(n){var r=kr(n);return function(t){var e=bd(t);return function(a){return function(o){return function(u){return r3(new y(r(a),e(o)))(u)}}}}}},Mp=function(){return function(n){var r=kr(n);return function(t){var e=bd(t);return function(a){return function(o){return function(u){return t3(new y(r(a),e(o)))(u)}}}}}},PL=function(){return function(n){var r=kr(n);return function(t){var e=bd(t);return function(a){return function(o){return function(u){return function(i){return e3(new y(r(a),e(o)))(u)(i)}}}}}}},xL=function(n){var r=zn(n)(Wr);return function(t){return function(e){return r(function(a){return e(a)})(t)}}},fs=Qn;var cs=function(n){return function(r){return r.split(n)}},Td=function(n){return n.toLowerCase()},ls=function(n){return n.toUpperCase()};var ro=function(n){return function(r){return r.join(n)}};var ss=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),di=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var _b={map:function(n){return function(r){if(r instanceof ss)return new ss(r.value0,r.value1);if(r instanceof di)return new di(n(r.value0));throw new Error("Failed pattern match at Halogen.Query.Input (line 0, column 0 - line 0, column 0): "+[r.constructor.name])}}};var nt=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),Lp=L,ma=function(n,r){return n.value2(n.value1,r)},rt=L,va=function(n){return n.value3(n.value1)},be=Lp(function(n){return n.value0});var RL=g(kn),E3=g(au);var eo=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Po=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),Mu=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),wu=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),da=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),NL=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),WL=function(n){return function(r){return n(r)}};var OL=L;var M3={bimap:function(n){return function(r){return WL(function(t){return OL(new NL(function(e){return n(t.value0(e))},function(e){return r(t.value1(e))},t.value2))})}}},qL=Jt(M3),$L={bimap:function(n){return function(r){return function(t){return t instanceof eo?new eo(t.value0):t instanceof da?new da(qL(n)(r)(t.value0)):new da(OL(new NL(n,r,t)))}}}},Di=WL(function(n){var r=function(t){if(t instanceof eo)return new eo(t.value0);if(t instanceof Po)return new Po(t.value0,t.value1,n.value0(t.value2),RL(r)(t.value3));if(t instanceof Mu)return new Mu(t.value0,t.value1,n.value0(t.value2),RL(E3(r))(t.value3));if(t instanceof wu)return new wu(n.value1(t.value0));if(t instanceof da)return new da(qL(n.value0)(n.value1)(t.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): "+[t.constructor.name])};return r(n.value2)});function Ac(n,r){return r[n]}function pb(n,r){return r.hasOwnProperty(n)}function gi(n,r,t){t[n]=r}function mb(n,r){for(var t=[],e=0;e<n.length;e++)t.push(r(e,n[e]));return t}function vb(n,r){for(var t=0;t<n.length;t++)r(n[t])}function db(n,r){for(var t=Object.keys(n),e=0;e<t.length;e++){var a=t[e];r(a,n[a])}}function Db(n,r,t,e,a){for(var o=[],u=n.length,i=r.length,c=0;;){if(c<u)c<i?o.push(t(c,n[c],r[c])):e(c,n[c]);else if(c<i)o.push(a(c,r[c]));else break;c++}return o}function Sp(n,r,t){for(var e={},a=0;a<n.length;a++){var o=n[a],u=r(o);e[u]=t(u,a,o)}return e}function Ap(n,r,t,e,a,o){for(var u={},i=0;i<r.length;i++){var c=r[i],s=t(c);n.hasOwnProperty(s)?u[s]=e(s,i,n[s],c):u[s]=o(s,i,c)}for(var s in n)s in u||a(s,n[s]);return u}function Ic(n,r){return n===r}function gb(n,r){return r.createTextNode(n)}function yb(n,r){r.textContent=n}function Md(n,r,t){return n!=null?t.createElementNS(n,r):t.createElement(r)}function mf(n,r,t){var e=t.childNodes.item(n)||null;e!==r&&t.insertBefore(r,e)}function Ip(n,r){r&&n.parentNode===r&&r.removeChild(n)}function Hp(n){return n.parentNode}function wd(n,r,t,e){n!=null?e.setAttributeNS(n,r,t):e.setAttribute(r,t)}function Fd(n,r,t){n!=null?t.removeAttributeNS(n,r):t.removeAttribute(r)}function hb(n,r,t){return n!=null?t.hasAttributeNS(n,r):t.hasAttribute(r)}function bb(n,r,t){t.addEventListener(n,r,!1)}function Tb(n,r,t){t.removeEventListener(n,r,!1)}var Cb=void 0;var Ld=function(){return{}};var Eb=Ac,Mb=L,wb=gi,Fb=Ld;var Pp=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}};var Sb=function(n){return va(n.widget)},Ab=Pp("patchWidget","Halogen.VDom.DOM",function(){return function(n,r){if(r instanceof da)return Ab(291)(n,Di(r.value0));if(r instanceof wu){var t=ma(n.widget,r.value0),e=Lp(function(a){return rt(new nt(a.value0,{build:n.build,widget:t},Ab(296),Sb))})(t);return e}return Sb(n),n.build(r)}}),I3=Ab(286),Sd=function(n){var r=Hp(n.node);return Ip(n.node,r)},Ad=Pp("patchText","Halogen.VDom.DOM",function(){return function(n,r){if(r instanceof da)return Ad(82)(n,Di(r.value0));if(r instanceof eo){if(n.value===r.value0)return rt(new nt(n.node,n,Ad(85),Sd));if(Vn){var t={build:n.build,node:n.node,value:r.value0};return yb(r.value0,n.node),rt(new nt(n.node,t,Ad(89),Sd))}}return Sd(n),n.build(r)}}),H3=Ad(77),Id=function(n){var r=Hp(n.node);return Ip(n.node,r),db(n.children,function(t,e){return va(e)}),va(n.attrs)},Hd=function(n){var r=Hp(n.node);return Ip(n.node,r),vb(n.children,va),va(n.attrs)},BL=function(n,r,t,e){var a=r===e;return a?n instanceof v&&t instanceof v&&n.value0===t.value0||n instanceof D&&t instanceof D:!1},Pd=Pp("patchElem","Halogen.VDom.DOM",function(){return function(n,r){if(r instanceof da)return Pd(135)(n,Di(r.value0));if(r instanceof Po&&BL(n.ns,n.name,r.value0,r.value1)){var t=wt(r.value3),e=wt(n.children);if(e===0&&t===0){var c=ma(n.attrs,r.value2),s={build:n.build,node:n.node,attrs:c,ns:r.value0,name:r.value1,children:n.children};return rt(new nt(n.node,s,Pd(149),Hd))}var a=function(_,m){return va(m)},o=function(_,m,p){var l=ma(m,p);return mf(_,be(l),n.node),l},u=function(_,m){var p=n.build(m);return mf(_,be(p),n.node),p},i=Db(n.children,r.value3,o,a,u),c=ma(n.attrs,r.value2),s={build:n.build,node:n.node,attrs:c,ns:r.value0,name:r.value1,children:i};return rt(new nt(n.node,s,Pd(172),Hd))}return Hd(n),n.build(r)}}),P3=Pd(130),xd=Pp("patchKeyed","Halogen.VDom.DOM",function(){return function(n,r){if(r instanceof da)return xd(222)(n,Di(r.value0));if(r instanceof Mu&&BL(n.ns,n.name,r.value0,r.value1)){var t=wt(r.value3);if(n.length===0&&t===0){var i=ma(n.attrs,r.value2),c={build:n.build,node:n.node,attrs:i,ns:r.value0,name:r.value1,children:n.children,length:0};return rt(new nt(n.node,c,xd(237),Id))}var e=function(s,_){return va(_)},a=function(s,_,m,p){var l=ma(m,p.value1);return mf(_,be(l),n.node),l},o=function(s,_,m){var p=n.build(m.value1);return mf(_,be(p),n.node),p},u=Ap(n.children,r.value3,st,a,e,o),i=ma(n.attrs,r.value2),c={build:n.build,node:n.node,attrs:i,ns:r.value0,name:r.value1,children:u,length:t};return rt(new nt(n.node,c,xd(261),Id))}return Id(n),n.build(r)}}),x3=xd(217),R3=function(n,r,t){var e=n.buildWidget(n)(t),a=Lp(function(o){return rt(new nt(o.value0,{build:r,widget:e},I3,Sb))})(e);return a},N3=function(n,r,t){var e=gb(t,n.document),a={build:r,node:e,value:t};return rt(new nt(e,a,H3,Sd))},W3=function(n,r,t,e,a,o){var u=Md(ai(t),e,n.document),i=Jy(u),c=function(p,l,f){var d=r(f.value1);return mf(l,be(d),i),d},s=Sp(o,st,c),_=n.buildAttributes(u)(a),m={build:r,node:i,attrs:_,ns:t,name:e,children:s,length:wt(o)};return rt(new nt(i,m,x3,Id))},O3=function(n,r,t,e,a,o){var u=Md(ai(t),e,n.document),i=Jy(u),c=function(p,l){var f=r(l);return mf(p,be(f),i),f},s=mb(o,c),_=n.buildAttributes(u)(a),m={build:r,node:i,attrs:_,ns:t,name:e,children:s};return rt(new nt(i,m,P3,Hd))},xp=function(n){var r=Pp("build","Halogen.VDom.DOM",function(){return function(e){if(e instanceof eo)return N3(n,r(59),e.value0);if(e instanceof Po)return O3(n,r(60),e.value0,e.value1,e.value2,e.value3);if(e instanceof Mu)return W3(n,r(61),e.value0,e.value1,e.value2,e.value3);if(e instanceof wu)return R3(n,r(62),e.value0);if(e instanceof da)return r(63)(Di(e.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): "+[e.constructor.name])}}),t=r(58);return t};function Rd(n){return typeof n}var kL=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};var zL=function(n){return function(r){return function(t){return(t|0)===t?n(t):r}}},re=function(n){return n};var Nd=function(n){return function(r){return r.toString(n)}};var Wd=isFinite;var Pb=function(n){return function(r){return Math.atan2(n,r)}};var xb=Math.round;var VL=3.141592653589793;var QL=Ca(Gm),jL=Ea(Gm);var Rb=function(n){return(n&1)!==0};var Nb=16;var Wb=function(){return zL(v.create)(D.value)}(),z3=function(n){if(!Wd(n))return 0;if(n>=re(QL))return QL;if(n<=re(jL))return jL;if(Vn)return Kn(0)(Wb(n));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[n.constructor.name])},KL=function(n){return z3(xb(n))};var XL=function(n){return(n&1)===0};var Ob=function(){var n=ad(y1);return function(r){return Mh(n(r))}}();var YL=function(n){return function(r){return new Mo(n,new F(r.value0,r.value1))}};var qb=function(n){return n.split("")},qd=function(n){return n};var Fu=function(n){return n.length};var nS=function(n){return function(r){return function(t){return function(e){var a=e.indexOf(t);return a===-1?r:n(a)}}}};var Rp=function(n){return function(r){return r.substr(0,n)}},Hc=function(n){return function(r){return r.substring(n)}};var $b=function(n){return function(r){return{before:r.substring(0,n),after:r.substring(n)}}};var vf=function(n){return function(r){if(n>=0&&n<r.length)return r.charAt(n);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var $d=function(n){return function(r){var t=$b(Fu(n))(r),e=t.before===n;return e?new v(t.after):D.value}};var Ub=function(){return nS(v.create)(D.value)}();function aS(n,r,t,e){return t in e?r(e[t]):n}function Ud(n){return function(r){var t=[];for(var e in r)hasOwnProperty.call(r,e)&&t.push(n(e)(r[e]));return t}}var Z3=Object.keys||Ud(function(n){return function(){return n}});var Bd=function(n){var r=vh(n),t=Ud(y.create);return function(e){return r(t(e))}};var Pc=function(){return lc(aS)(D.value)(v.create)}();var ps=function(){return L};function yi(n){return function(){return function(r){return n(r)()}}}function xc(n){return function(r){return function(t){return function(e){return function(){return e.addEventListener(n,r,t)}}}}}function Rc(n){return function(r){return function(t){return function(e){return function(){return e.removeEventListener(n,r,t)}}}}}var ok=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},oS=g(ct),uS=g(wn),kb=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),zb=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),hi=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),Df=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Lu=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),bi=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),uk=Ac,Gb=gi,ik=function(n,r){var t=hb(null,n,r);if(t)return Fd(null,n,r);var e=Rd(Ac(n,r));return e==="string"?gi(n,"",r):n==="rowSpan"?gi(n,1,r):n==="colSpan"?gi(n,1,r):gi(n,Cb,r)},iS=function(n){if(n instanceof hi&&n.value0 instanceof v)return"attr/"+(n.value0.value0+(":"+n.value1));if(n instanceof hi)return"attr/:"+n.value1;if(n instanceof Df)return"prop/"+n.value0;if(n instanceof Lu)return"handler/"+n.value0;if(n instanceof bi)return"ref";throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): "+[n.constructor.name])},fS=L;var cS=L,lS=L,Jb={map:function(n){return function(r){return r instanceof Lu?new Lu(r.value0,oS(uS(n))(r.value1)):r instanceof bi?new bi(oS(uS(n))(r.value0)):r}}};var sS=function(n){return function(r){var t=function(_){return function(m,p){if(p instanceof hi)return Fd(ai(p.value0),p.value1,r);if(p instanceof Df)return ik(p.value0,r);if(p instanceof Lu){var l=Eb(p.value0,_);return Tb(p.value0,st(l),r)}if(p instanceof bi)return void 0;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): "+[p.constructor.name])}},e=function(_){return _ instanceof v?n(_.value0)():void 0},a=function(_){var m=Pc("ref")(_.props);return m instanceof v&&m.value0 instanceof bi?e(m.value0.value0(new zb(r))):void 0},o=function(_,m){return function(p,l,f,d){if(f instanceof hi&&d instanceof hi){var E=f.value2===d.value2;return E||wd(ai(d.value0),d.value1,d.value2,r),d}if(f instanceof Df&&d instanceof Df){var H=Ic(f.value1,d.value1);if(H)return d;if(d.value0==="value"){var O=uk("value",r),V=Ic(O,d.value1);return V||Gb(d.value0,d.value1,r),d}return Gb(d.value0,d.value1,r),d}if(f instanceof Lu&&d instanceof Lu){var X=Eb(d.value0,_);return Un(d.value1)(Hr(X))(),wb(d.value0,X,m),d}return d}},u=function(_){return function(m,p,l){if(l instanceof hi)return wd(ai(l.value0),l.value1,l.value2,r),l;if(l instanceof Df)return Gb(l.value0,l.value1,r),l;if(l instanceof Lu){var f=Ac(l.value0,_);if(pb(l.value0,_))return Un(l.value1)(Hr(f))(),l;var d=ir(l.value1)(),E=yi(function(H){return function(){var V=_n(d)();return e(V(H))}})();return wb(l.value0,new y(E,d),_),bb(l.value0,E,r),l}if(l instanceof bi)return e(l.value0(new kb(r))),l;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): "+[l.constructor.name])}},i=ok("patchProp","Halogen.VDom.DOM.Prop",function(){return function(_,m){var p=Fb(),l=t(_.events),f=o(_.events,p),d=u(p),E=Ap(_.props,m,iS,f,l,d),H={events:Mb(p),props:E};return rt(new nt(void 0,H,i(100),a))}}),c=i(87),s=function(_){var m=Fb(),p=Sp(_,iS,u(m)),l={events:Mb(m),props:p};return rt(new nt(void 0,l,c,a))};return s}};var fk=g(kn),ck=g(Jb),lk=g(_b);var sk=Jt($L),jb=function(n){return n},Kb=function(n){return jb(wu.create(n))},_k=function(n){return n.toPropValue},Dn=function(n){return jb(eo.create(n))},mS=function(n){return new bi(function(r){return n(function(t){if(t instanceof kb)return new v(t.value0);if(t instanceof zb)return D.value;throw new Error("Failed pattern match at Halogen.HTML.Core (line 109, column 21 - line 111, column 23): "+[t.constructor.name])}(r))})},vS=function(n){var r=_k(n);return function(t){var e=Df.create(t);return function(a){return e(r(a))}}};var kd={toPropValue:fS};var dS={toPropValue:cS};var DS={toPropValue:lS};var Xb=function(){return Lu.create}(),Yb=function(n){return function(r){return function(t){return function(e){return new Po(n,r,t,e)}}}},Np={bimap:function(n){return function(r){return function(t){return sk(fk(ck(lk(r))))(n)(t)}}}};var gS=function(n){return function(r){return hi.create(n)(r)}};var pk=G(z);var zd=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Zb=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),nT=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),yS=function(n){return function(r){return new nT(n,r)}},rT=function(){return Zb.create}(),hS=function(n){var r=h(n);return function(t){return function(e){return function(a){return function(o){return function(u){if(o instanceof zd)return new y(new F({func:r(o.value0),count:u},t),e);if(o instanceof Zb)return new y(new F({func:a(o.value0),count:u},t),e);if(o instanceof nT)return hS(n)(t)(YL(o.value1)(e))(a)(o.value0)(u+1|0);throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): "+[o.constructor.name])}}}}}},bS=function(n){var r=gn(n.Apply0());return function(t){return function(e){return function(a){if(t instanceof P)return new Y(a);if(t instanceof F){var o=r(t.value0.func)(a),u=t.value0.count===1;if(u)return t.value1 instanceof P?new Y(o):bS(n)(t.value1)(e)(o);if(e instanceof P)return new Y(o);if(e instanceof F)return new K(new y(new F({func:o,count:t.value0.count-1|0},t.value1),new Mo(e.value0,e.value1)));throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): "+[e.constructor.name])}throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): "+[t.constructor.name])}}}},tT={map:function(n){return function(r){return yS(new zd(n))(r)}}},TS=function(n){var r=bS(n),t=h(n),e=hS(n);return function(a){return function(o){var u=function(i){var c=!1,s;function _(m){if(m.value1.value0 instanceof zd){var p=r(m.value0)(m.value1.value1)(t(m.value1.value0.value0));if(p instanceof Y)return c=!0,p.value0;if(p instanceof K){i=p.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): "+[p.constructor.name])}if(m.value1.value0 instanceof Zb){var p=r(m.value0)(m.value1.value1)(a(m.value1.value0.value0));if(p instanceof Y)return c=!0,p.value0;if(p instanceof K){i=p.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): "+[p.constructor.name])}if(m.value1.value0 instanceof nT){var l=new Mo(m.value1.value0.value1,m.value1.value1);i=e(m.value0)(l)(a)(m.value1.value0.value0)(1);return}throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): "+[m.value1.value0.constructor.name])}for(;!c;)s=_(i);return s};return u(new y(P.value,Ob(o)))}}},CS=function(n){return TS(n)(pk)},eT={apply:function(n){return function(r){return yS(n)(r)}},Functor0:function(){return tT}},aT=function(){return{pure:zd.create,Apply0:function(){return eT}}}(),mk=TS(aT),Jd=function(n){return mk(function(r){return rT(n(r))})};var Vd=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var ES=function(n){var r=!1,t;function e(a){if(a.value0 instanceof P&&a.value1 instanceof P)return r=!0,D.value;if(a.value0 instanceof P){n=new Vd(pu(a.value1),P.value);return}if(a.value0 instanceof F)return r=!0,new v(new y(a.value0.value0,new Vd(a.value0.value1,a.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[a.constructor.name])}for(;!r;)t=e(n);return t},MS=function(n){return function(r){return new Vd(n.value0,new F(r,n.value1))}};var wS=function(n){return n.value0 instanceof P&&n.value1 instanceof P};var FS=function(){return new Vd(P.value,P.value)}();var ms=function(){function n(){}return n.value=new n,n}(),Qd=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var LS=function(n){return function(r){if(n instanceof ms)return r;if(r instanceof ms)return n;if(n instanceof Qd)return new Qd(n.value0,MS(n.value1)(r));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[n.constructor.name,r.constructor.name])}},dk=function(n){return function(r){return function(t){var e=function(o){return function(u){return function(i){var c=o,s=u,_=!1,m;function p(l,f,d){if(d instanceof P)return _=!0,f;if(d instanceof F){c=l,s=l(f)(d.value0),i=d.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[l.constructor.name,f.constructor.name,d.constructor.name])}for(;!_;)m=p(c,s,i);return m}}},a=function(o){return function(u){var i=o,c=!1,s;function _(m,p){var l=ES(m);if(l instanceof D)return c=!0,e(function(f){return function(d){return d(f)}})(r)(p);if(l instanceof v){i=l.value0.value1,u=new F(n(l.value0.value0),p);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[l.constructor.name])}for(;!c;)s=_(i,u);return s}};return a(t)(P.value)}}},SS=function(n){if(n instanceof ms)return D.value;if(n instanceof Qd)return new v(new y(n.value0,function(){var r=wS(n.value1);return r?ms.value:dk(LS)(ms.value)(n.value1)}()));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[n.constructor.name])};var AS=function(){return ms.value}(),IS=LS;var HS={append:IS};var PS=function(n){return function(r){return IS(n)(new Qd(r,FS))}};var gk=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},yk=W(HS),hk=g(ct);var uT=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Wp=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Op=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),xS=function(n){var r=!1,t;function e(a){var o=function(c){return c},u=function(c){return function(s){return new uT(c.value0,yk(c.value1)(s))}};if(a.value0 instanceof Wp){var i=SS(a.value1);if(i instanceof D)return r=!0,new Wp(a.value0.value0);if(i instanceof v){n=u(o(i.value0.value0)(a.value0.value0))(i.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(a.value0 instanceof Op)return r=!0,new Op(a.value0.value0,function(c){return u(a.value0.value1(c))(a.value1)});throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[a.value0.constructor.name])}for(;!r;)t=e(n);return t};var RS=function(n){return new uT(n,AS)};var jd={Applicative0:function(){return ds},Bind1:function(){return vs}},Kd={map:function(n){return function(r){return fr(vs)(function(){var t=h(ds);return function(e){return t(n(e))}}())(r)}}},vs={bind:function(n){return function(r){return new uT(n.value0,PS(n.value1)(r))}},Apply0:function(){return NS(0)}},ds={pure:function(n){return RS(Wp.create(n))},Apply0:function(){return NS(0)}},NS=gk("freeApply","Control.Monad.Free",function(){return{apply:_e(jd),Functor0:function(){return Kd}}});var bk=b(vs),WS=h(ds);var ao=function(n){return RS(new Op(n,function(r){return WS(r)}))};var Tk=function(n){var r=function(t){var e=xS(t);if(e instanceof Wp)return WS(e.value0);if(e instanceof Op)return bk(n(e.value0))(hk(r)(e.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 168, column 10 - line 170, column 33): "+[e.constructor.name])};return r},OS=function(n){return Tk(function(r){return ao(n(r))})};var qS=function(n){var r=n.Monad0(),t=g(r.Bind1().Apply0().Functor0()),e=h(r.Applicative0()),a=ea(n);return function(o){var u=function(i){var c=xS(i);if(c instanceof Wp)return t(Ct.create)(e(c.value0));if(c instanceof Op)return t(function(s){return Et.create(c.value1(s))})(o(c.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[c.constructor.name])};return a(u)}};var fT=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),$S=L,cT=L;var sT=G(z);var Lk=Mp(),Sk=hl()();var US=function(n){return n},BS=function(n){return n},Nc=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Wc=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Ds=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Su=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Oc=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),qc=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),gs=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ys=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),hs=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),bs=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),$c=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Ak=function(n){return n},Ts=function(n){return n};var xo=function(n){return ao(new Wc(function(r){return n},sT))};var At=function(n){return ao(new qc(n,void 0))};var Yd=function(){return function(n){var r=Lk(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return ao(new Oc(cT(new fT(function(i){var c=h(i);return function(s){var _=on(c(D.value))(s),m=e(a)(o);return function(p){return _(m(p))}}},u,sT))))}}}}}},_T=zr,Zd=zr;var GS={lift:function(n){return function(r){return Ts(ao(Su.create(r)))}}},pT=jd,Br={state:function(n){return Ts(ao(Nc.create(n)))},Monad0:function(){return pT}};var _t=function(n){return{liftEffect:function(){var r=vn(n);return function(t){return Ts(ao(Su.create(r(t))))}}(),Monad0:function(){return pT}}},nD=function(n){return{ask:ao(new Su(Ka(n))),Monad0:function(){return pT}}},rD=function(n){var r=_t(n.MonadEffect0());return{liftAff:function(){var t=oa(n);return function(e){return Ts(ao(Su.create(t(e))))}}(),MonadEffect0:function(){return r}}};var Xd=function(n){return function(r){return function(t){var e=function(a){if(a instanceof Nc)return new Nc(a.value0);if(a instanceof Wc)return new Wc(a.value0,a.value1);if(a instanceof Ds)return new Ds(a.value0,a.value1);if(a instanceof Su)return new Su(r(a.value0));if(a instanceof Oc)return new Oc(a.value0);if(a instanceof qc)return new qc(a.value0,a.value1);if(a instanceof gs)return new gs(Sk(Ak)(Jd(Xd(n)(r)))(a.value0));if(a instanceof ys)return new ys(Xd(n)(r)(a.value0),a.value1);if(a instanceof hs)return new hs(a.value0,a.value1);if(a instanceof bs)return new bs(a.value0,a.value1);if(a instanceof $c)return new $c(a.value0,a.value1);throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 312, column 8 - line 323, column 29): "+[a.constructor.name])};return OS(e)(t)}}},Cs=function(n){return ao(new $c(n,sT))},xe=Kd;var jr=vs;var wr=ds;var Es=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Ms=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ws=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Fs=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Ls=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var Ik=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},Hk=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}();var Pk=function(n,r){return Ic(n.value0,r.value0)&&Ic(n.value1,r.value1)&&n.value1(n.value3,r.value3)};var kS=function(n){return n.value2(n.value3)},vT=function(n){return function(r){return new Hk(r.value0,r.value1,function(t){return n(r.value2(t))},r.value3)}},zS=vT;var JS=function(n){var r=function(o){return va(o.vdom)},t=Ik("patchThunk","Halogen.VDom.Thunk",function(){return function(o,u){var i=Pk(o.thunk,u);if(i)return rt(new nt(be(o.vdom),o,t(112),r));var c=ma(o.vdom,n(kS(u)));return rt(new nt(be(c),{vdom:c,thunk:u},t(115),r))}}),e=t(108),a=function(o){return function(u){var i=xp(o)(n(kS(u)));return rt(new nt(be(i),{thunk:u,vdom:i},e,r))}};return a};var tD=Zo(xe),DT=zn(wr)(An),xk=g(xe),QS=Bi(Np),Rk=g(ct),Nk=g(wn),Wk=Jt(Np),VS=h(wr),Ok=Mp(),qk=HL(),$k=PL(),Au=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),gf=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),qp=L,eD=L,pt=function(n){return function(r){if(r instanceof Es)return tD(DT(n.handleAction)(n.initialize))(r.value0);if(r instanceof Ms)return tD(DT(n.handleAction)(n.finalize))(r.value0);if(r instanceof ws)return tD(DT(n.handleAction)(n.receive(r.value0)))(r.value1);if(r instanceof Fs)return tD(n.handleAction(r.value0))(r.value1);if(r instanceof Ls)return LL(function(t){var e=xk(on(r.value1(void 0))(t));return function(a){return e(n.handleQuery(a))}})(r.value0);throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 71): "+[r.constructor.name])}},gT=L,tt=L,jS=function(n){return function(r){return function(t){if(t instanceof Au)return qp(function(e){return new Au(gT({get:e.get,pop:e.pop,set:e.set,component:Ss(n)(r)(e.component),input:e.input,output:e.output}))})(t.value0);if(t instanceof gf)return new gf(zS(QS(jS(n)(r)))(t.value0));throw new Error("Failed pattern match at Halogen.Component (line 279, column 17 - line 284, column 53): "+[t.constructor.name])}}},Ss=function(n){var r=Xd(n);return function(t){return eD(function(e){return tt({initialState:e.initialState,render:function(){var a=QS(jS(n)(t));return function(o){return a(e.render(o))}}(),eval:function(){var a=r(t);return function(o){return a(e.eval(o))}}()})})}},Uk={map:function(n){return qp(function(r){return gT({get:r.get,pop:r.pop,set:r.set,component:r.component,input:r.input,output:Rk(Nk(n))(r.output)})})}},Bk=g(Uk),yT={map:function(n){return function(r){if(r instanceof Au)return new Au(Bk(n)(r.value0));if(r instanceof gf)return new gf(vT(Wk(g(yT)(n))(n))(r.value0));throw new Error("Failed pattern match at Halogen.Component (line 209, column 11 - line 211, column 74): "+[r.constructor.name])}}},$t=function(){return{handleAction:U(VS(void 0)),handleQuery:U(VS(D.value)),receive:U(D.value),initialize:D.value,finalize:D.value}}(),hT=function(){return function(n){var r=Ok(n),t=qk(n),e=$k(n);return function(a){var o=r(a),u=t(a),i=e(a);return function(c){return function(s){return function(_){return function(m){return function(p){return gT({get:o(c)(s),pop:u(c)(s),set:i(c)(s),component:_,input:m,output:p})}}}}}}}};var aD={suspend:Jw,fork:Pl,join:W_,Monad0:function(){return fu},Functor1:function(){return Xw}};var oD=function(n){return n.fork};var r5=Hn(xe);var XS=Yd(),t5=G(z),e5=fr(Dr);var $p=function(){return function(n){var r=XS(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return r5(e(a)(o)(u(void 0)))}}}}}};var TT=function(){return function(n){var r=XS(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return e(a)(o)(u(t5))}}}}}};var CT=function(){var n=g(xe)(function(r){return e5(Q_)(r)});return function(r){return n(Cs(r))}}();var i5=ha(lr);var YS=function(n){return function(r){return td(function(t){return function(){var a=ir(D.value)(),o=rd(r)(function(u){return function(){var c=_n(a)(),s=n.select(u),_=on(!1)(n.eq(s))(c);return i5(_)(function(){return Un(new v(s))(a)(),t(s)()})()}})();return $l(o)}})}};var c5=b(Pr),l5=vn(Dt),s5=h(dt),_5=g(Ya),p5=yr(GS);var m5=yr(Sl);var ZS=function(n){return nc(n)};var nA=function(n){return rc(n)},rA=function(n){var r=n.Monad0(),t=b(vv(r.Bind1())),e=Ka(Dv(r)),a=vn(rc(n)),o=h(r.Applicative0()),u=nA(n);return{getStore:t(e)(function(i){return a(_n(i.value))}),updateStore:function(i){return t(e)(function(c){return a(function(){var _=_n(c.value)(),m=c.reducer(_)(i);return Un(m)(c.value)(),ui(c.listener)(m)()})})},emitSelected:function(i){var c=YS(i);return function(s){return o(c(function(_){return _.emitter}(s)))}},MonadEffect0:function(){return u}}};var tA=function(n){return Ov(n)},eA=function(n){return pv(n)};var iD=function(n){return n.updateStore},v5=function(n){var r=Ss(n.Bind1().Apply0().Functor0());return function(t){return function(e){return function(a){return c5(l5(function(){var u=ir(t)(),i=nf();return{value:u,emitter:i.emitter,listener:i.listener,reducer:e}}))(function(o){return s5({emitter:o.emitter,component:r(function(u){return A_(u)(o)})(a)})})}}}},aA=function(n){var r=v5(n);return function(t){return function(e){return function(a){return _5(function(o){return o.component})(r(t)(e)(a))}}}};var oA=function(n){return n.getStore},uA=function(n){return n.emitSelected},iA=function(n){var r=n.MonadEffect0(),t=p5(r.Monad0()),e=_t(r);return{getStore:t(oA(n)),updateStore:function(){var a=iD(n);return function(o){return t(a(o))}}(),emitSelected:function(){var a=uA(n);return function(o){return t(a(o))}}(),MonadEffect0:function(){return e}}};var fA=function(n){var r=n.MonadEffect0(),t=m5(r.Monad0()),e=rc(r);return{getStore:t(oA(n)),updateStore:function(){var a=iD(n);return function(o){return t(a(o))}}(),emitSelected:function(){var a=uA(n);return function(o){return t(a(o))}}(),MonadEffect0:function(){return e}}};var d5=ZS(fu),D5=eA(Ya),lA=b(Pr),g5=Nn(Wn)(Pr),y5=h(dt),h5=Ss(D5),b5=aA(fu);var sA=fA(rA(Dt));var _A=Dv(d5);var pA=Ov(tA($_));var T5=lA(vn(Dt)(v1))(function(n){return g5(p1(n))(function(){return y5({chatServer:n})})}),mA=function(n){return lA(T5)(function(r){var t=h5(function(e){return A_(e)(r)})(n);return b5(EL)(Z(ML))(t)})};var E5=function(){function n(u){this.fn=u}var r={},t=function(u,i){this.head=u,this.tail=i};function e(u){return new t(u,r)}function a(u){return function(i){return new t(u,i)}}function o(u){for(var i=[],c=u;c!==r;)i.push(c.head),c=c.tail;return i}return function(u,i,c){var s=function(m,p){return u(i(a)(c(m)))(p)},_=function(m,p,l){if(p===0)return m;var f=l[p-1];return new n(function(){var d=_(s(f,m),p-1,l);return d})};return function(m){for(var p=i(e)(c(m[m.length-1])),l=_(p,m.length-1,m);l instanceof n;)l=l.fn();return i(o)(l)}}}();var vA=function(n){return n};var dA=ht;var ET=kn;var DA=Tn;var F5=Nt();var As=vA;var MT=function(n){return n};var yA=function(n){return function(r){return As(Y_(n)(r))}},hA=function(n){return function(r){return As(Y_(MT(n))(r))}},bA=function(n){return As(Dh(n))};var TA=function(n){if(wt(n)>0)return new v(As(n));if(Vn)return D.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[n.constructor.name])};var wT=function(n){return function(r){return As(Yv(n)(r))}};var fD=function(n){return function(r){return F5(n(MT(r)))}},FT=fD(lu),LT=fD(u1),ST=fD(ql),AT=fD(o1);var L5=function(n){return function(r){return n(MT(r))}};var S5=function(n){var r=L5(n);return function(t){return As(r(t))}},IT=function(n){return S5(Yv(n))};var EA={bifoldMap:function(n){var r=W(n.Semigroup0());return function(t){return function(e){return function(a){return r(t(a.value0))(e(a.value1))}}}},bifoldr:function(n){return function(r){return function(t){return function(e){return n(e.value0)(r(e.value1)(t))}}}},bifoldl:function(n){return function(r){return function(t){return function(e){return r(n(t)(e.value0))(e.value1)}}}}};var PT=function(n){return n.bitraverse};var wA=function(n){var r=PT(n);return function(t){var e=r(t),a=h(t);return function(o){return e(o)(a)}}};var xT={bitraverse:function(n){var r=n.Apply0(),t=gn(r),e=g(r.Functor0());return function(a){return function(o){return function(u){return t(e(y.create)(a(u.value0)))(o(u.value1))}}}},bisequence:function(n){var r=n.Apply0(),t=gn(r),e=g(r.Functor0());return function(a){return t(e(y.create)(a.value0))(a.value1)}},Bifunctor0:function(){return Vf},Bifoldable1:function(){return EA}};function $5(n){return n.replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16)})}function FA(n,r,t){try{return r($5(encodeURIComponent(t)))}catch(e){return n(e)}}function LA(n,r,t){try{return r(decodeURIComponent(t))}catch(e){return n(e)}}var Up=function(){return oi(FA)(U(D.value))(v.create)}();var RT=function(){return oi(LA)(U(D.value))(v.create)}();var SA={segments:[],params:[],hash:""};var k5=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},AA=PT(xT)(Se),IA=tr(Aa)(Se);var z5=g(ET),J5=g(ct);var V5=qn(DA),Q5=Og(Ju),j5=W(dA),K5=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),X5=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var Y5=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),OT=function(){function n(){}return n.value=new n,n}(),Wa=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Ti=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Ro=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Uc=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Re=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),HA=function(){return new Uc(function(n){var r=X_(n.segments);return r instanceof v?new Ti({segments:r.value0.tail,params:n.params,hash:n.hash},r.value0.head):new Wa(OT.value)})}();var PA=function(){return Re.create}(),Z5=function(){var n=function(m){return{segments:m.value0.value0,params:m.value0.value1,hash:m.value1}},r=function(m){return function(p){return p===""?[]:cs(m)(p)}},t=function(m){return function(p){return function(l){var f=Ub(p)(l);if(f instanceof v)return new y(Rp(f.value0)(l),Hc(f.value0+Fu(p)|0)(l));if(f instanceof D)return m(l);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 191, column 5 - line 193, column 23): "+[f.constructor.name])}}},e=function(m){var p=RT(m);if(p instanceof D)return new Y(new Y5(m));if(p instanceof v)return new K(p.value0);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 195, column 29 - line 197, column 22): "+[p.constructor.name])},a=function(){var m=AA(e)(e),p=t(Z(y.create)(""))("=");return function(l){return m(p(l))}}(),o=function(){var m=IA(a),p=r("&");return function(l){return m(p(l))}}(),u=function(){var m=r("/");return function(p){return function(l){return l.length===2&&l[0]===""&&l[1]===""?new K([""]):IA(e)(l)}(m(p))}}(),i=function(){var m=AA(u)(o),p=t(Z(y.create)(""))("?");return function(l){return m(p(l))}}(),c=g(Ue)(n),s=wA(xT)(Se)(i),_=t(Z(y.create)(""))("#");return function(m){return c(s(_(m)))}}();var n4={map:function(n){return function(r){if(r instanceof Wa)return new Wa(r.value0);if(r instanceof Ti)return new Ti(r.value0,n(r.value1));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 0, column 0 - line 0, column 0): "+[r.constructor.name])}}},xA=g(n4),yf={map:function(n){return function(r){if(r instanceof Ro)return new Ro(z5(g(yf)(n))(r.value0));if(r instanceof Uc)return new Uc(J5(xA(n))(r.value0));if(r instanceof Re)return new Re(r.value0,g(yf)(n)(r.value1));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 0, column 0 - line 0, column 0): "+[r.constructor.name])}}};var RA=function(){return new Uc(function(n){var r=lu(n.segments);if(r instanceof D)return new Ti(n,void 0);if(r instanceof v)return new Wa(new X5(r.value0));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 266, column 3 - line 268, column 45): "+[r.constructor.name])})}(),r4=function(n){return function(r){var t=lu(r.segments);return t instanceof v&&n===t.value0?new Ti({segments:yh(1)(r.segments),params:r.params,hash:r.hash},void 0):t instanceof v?new Wa(new K5(n,t.value0)):new Wa(OT.value)}},NA=k5("runRouteParser","Routing.Duplex.Parser",function(){var n=function(t){return function(e){return function(a){return e instanceof Wa?NA(161)(t)(a):e}}},r=function(t){return function(e){var a=t,o=!1,u;function i(c,s){if(s instanceof Ro)return o=!0,V5(n(c))(new Wa(OT.value))(s.value0);if(s instanceof Uc)return o=!0,s.value0(c);if(s instanceof Re){var _=r4(s.value0)(c);if(_ instanceof Wa)return o=!0,new Wa(_.value0);if(_ instanceof Ti){a=_.value0,e=s.value1;return}throw new Error("Failed pattern match at Routing.Duplex.Parser (line 157, column 7 - line 159, column 40): "+[_.constructor.name])}throw new Error("Failed pattern match at Routing.Duplex.Parser (line 153, column 14 - line 159, column 40): "+[s.constructor.name])}for(;!o;)u=i(a,e);return u}};return r}),WT=NA(150);var WA=function(n){return Q5(Z5)(function(){var r=Z(WT)(n);return function(t){return function(e){if(e instanceof Wa)return new Y(e.value0);if(e instanceof Ti)return new K(e.value1);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 200, column 49 - line 202, column 29): "+[e.constructor.name])}(r(t))}}())};var Is={apply:function(n){return function(r){return new Uc(function(t){var e=WT(t)(n);if(e instanceof Wa)return new Wa(e.value0);if(e instanceof Ti)return xA(e.value1)(WT(e.value0)(r));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 81, column 5 - line 83, column 56): "+[e.constructor.name])})}},Functor0:function(){return yf}},OA={pure:function(){var n=Z(Ti.create);return function(r){return Uc.create(n(r))}}(),Apply0:function(){return Is}};var t4=function(n){return function(r){var t=function(o){return hA(n)(r)};if(r instanceof Re){var e=ST(n);if(e instanceof Re){var a=r.value0===e.value0;return a?yA(LT(n))(new Re(r.value0,Rr(Hs)(e.value1)(r.value1))):t(!0)}return t(!0)}return t(!0)}},Hs={alt:function(n){return function(r){return n instanceof Ro&&r instanceof Ro?new Ro(a4(n.value0)(r.value0)):n instanceof Ro?new Ro(t4(n.value0)(r)):r instanceof Ro?new Ro(e4(n)(r.value0)):n instanceof Re&&r instanceof Re&&n.value0===r.value0?new Re(n.value0,Rr(Hs)(n.value1)(r.value1)):new Ro(IT(n)(bA(r)))}},Functor0:function(){return yf}},e4=function(n){return function(r){var t=function(o){return IT(n)(r)};if(n instanceof Re){var e=FT(r);if(e instanceof Re){var a=n.value0===e.value0;return a?wT(new Re(n.value0,Rr(Hs)(n.value1)(e.value1)))(AT(r)):t(!0)}return t(!0)}return t(!0)}},a4=function(n){return function(r){var t=n,e=!1,a;function o(u,i){var c=function(f){if(Vn)return j5(u)(i);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 103, column 1 - line 107, column 35): "+[u.constructor.name,i.constructor.name])},s=ST(u);if(s instanceof Re){var _=FT(i);if(_ instanceof Re){var m=s.value0===_.value0;if(m){var p=wT(new Re(s.value0,Rr(Hs)(s.value1)(_.value1)))(AT(i)),l=TA(LT(u));if(l instanceof v){t=l.value0,r=p;return}if(l instanceof D)return e=!0,p;throw new Error("Failed pattern match at Routing.Duplex.Parser (line 116, column 9 - line 118, column 25): "+[l.constructor.name])}return e=!0,c(!0)}return e=!0,c(!0)}return e=!0,c(!0)}for(;!e;)a=o(t,r);return a}};var $A=W(d0(l_));var Bp={append:function(n){return function(r){return function(t){return r(n(t))}}}},qT=function(n){return function(r){return{segments:Y_(r.segments)(n),params:r.params,hash:r.hash}}},o4=function(n){var r=function(o){return o.length===1&&o[0]===""?"/":ro("/")(Zv(Up)(o))},t=function(o){return function(u){return u===""?Up(o):$A(Up(o))($A(new v("="))(Up(u)))}},e=function(o){return o.length===0?"":"?"+ro("&")(Zv(eu(t))(o))},a=function(o){return o===""?"":"#"+o};return r(n.segments)+(e(n.params)+a(n.hash))};var UA=function(){var n=Wg(SA),r=rr();return function(t){return o4(n(r(t)))}}(),BA={mempty:G(z),Semigroup0:function(){return Bp}};var kA=W(Bp),u4=AM(Is),i4=h(OA);var f4=gn(Is),zA=g(yf);var c4=Sn(BA);var l4=gn(ll),s4=g(ct),oo=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var $T=function(){return new oo(qT,HA)}();var JA={dimap:function(n){return function(r){return function(t){return new oo(function(e){return t.value0(n(e))},zA(r)(t.value1))}}}},VA=function(n){return function(r){return UA(n.value0(r))}},UT=function(n){return function(r){return new oo(function(t){return kA(qT(n))(r.value0(t))},PA(n)(r.value1))}},_4=function(){var n=Z(cr(Tn)(UT)),r=cs("/");return function(t){return n(r(t))}}(),QA=_4(""),jA=function(n){return WA(n.value1)};var p4={map:function(n){return function(r){return new oo(r.value0,zA(n)(r.value1))}}};var KA=function(n){return new oo(n.value0,u4(n.value1)(RA))};var m4={apply:function(n){return function(r){return new oo(l4(s4(kA)(n.value0))(r.value0),f4(n.value1)(r.value1))}},Functor0:function(){return p4}},BT={pure:function(){var n=oo.create(U(c4));return function(r){return n(i4(r))}}(),Apply0:function(){return m4}};var XA=G(z),v4=W(Bp),d4=gn(Is),Ps=g(yf),D4=Rr(Hs),g4=Xt(JA),Gp=function(){return h(BT)(ku.value)}(),kT={gRouteDuplexCtr:XA},xs={gRouteDuplexCtr:XA},lD=function(n){return n.gRouteDuplexCtr},YA=function(n){var r=lD(n);return function(t){return function(e){var a=r(e),o=function(i){return v4(t.value0(i.value0))(a.value0(i.value1))},u=d4(Ps(vl.create)(Ps(Qg)(t.value1)))(a.value1);return new oo(o,u)}}},GT=function(n){return n.gRouteDuplex},kp=function(n){var r=GT(n);return function(t){var e=GT(t);return{gRouteDuplex:function(a){return function(o){var u=r(a)(o),i=e(a)(o),c=function(_){if(_ instanceof we)return u.value0(_.value0);if(_ instanceof Ir)return i.value0(_.value0);throw new Error("Failed pattern match at Routing.Duplex.Generic (line 51, column 11 - line 53, column 22): "+[_.constructor.name])},s=D4(Ps(we.create)(u.value1))(Ps(Ir.create)(i.value1));return new oo(c,s)}}}}},ZA=function(n){var r=jg(n),t=m0(n);return function(e){var a=g4(r)(t),o=GT(e)(KA);return function(u){return a(o(u))}}};var Rs=function(n){var r=gp(n)();return function(){return function(t){var e=lD(t);return{gRouteDuplex:function(a){return function(o){var u=a(e(r(Q.value)(o))),i=function(s){return u.value0(s)},c=Ps(p0)(u.value1);return new oo(i,c)}}}}}};var zT={gRouteDuplexCtr:function(n){return new oo(function(r){return n.value0(r)},Ps(Qg)(n.value1))}};var JT=function(n){var r=lD(n);return{gsep:function(t){var e=UT(t);return function(a){return e(r(a))}}}};var rI=function(n){return{gsep:YA(n)}},sD=function(n){return n.gsep};var L4=typeof Array.from=="function",Uwn=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",Bwn=typeof String.prototype.fromCodePoint=="function",S4=typeof String.prototype.codePointAt=="function",aI=function(n){return S4?function(r){return r.codePointAt(0)}:n};var oI=function(n){return function(r){return L4?function(t){return Array.from(t,r)}:n}};var zp=Ur(SF),I4=g(wn),H4=ua(ia);var uI=function(n){return function(r){return(((n-55296|0)*1024|0)+(r-56320|0)|0)+65536|0}};var iI=function(n){return 56320<=n&&n<=57343},fI=function(n){return 55296<=n&&n<=56319},P4=function(n){var r=Fu(n);if(r===0)return D.value;if(r===1)return new v({head:zp(vf(0)(n)),tail:""});var t=zp(vf(1)(n)),e=zp(vf(0)(n)),a=fI(e)&&iI(t);return a?new v({head:uI(e)(t),tail:Hc(2)(n)}):new v({head:e,tail:Hc(1)(n)})},x4=function(n){return I4(function(r){return new y(r.head,r.tail)})(P4(n))},R4=function(n){return H4(x4)(n)},N4=function(n){var r=zp(vf(0)(n)),t=fI(r)&&Fu(n)>1;if(t){var e=zp(vf(1)(n)),a=iI(e);return a?uI(r)(e):r}return r},W4=aI(N4),O4=oI(R4)(W4),_D=function(n){return wt(O4(n))};var QT="hashchange";var pD=b(Jr),KT=g(bn),jT=fr(Jr),G4=co(Jr),k4=gn(iy),z4=h(lr),J4=cl(bn),lI=function(n){return pD(pD(gt)(Jv))(uh(n))},cI=pD(pD(gt)(Jv))(function(){var n=KT(function(){var r=Kn(""),t=$d("#");return function(e){return r(t(e))}}());return function(r){return n(oh(r))}}());var V4=function(n){return function(r){return function(){var e=jT(ir)(jT(r)(cI))(),a=KT(Vv)(gt)(),o=yi(function(u){return jT(Z(Un)(e))(G4(k4(KT(n)(_n(e)))(cI)))})();return xc(QT)(o)(!1)(a)(),Rc(QT)(o)(!1)(a)}}},sI=function(n){var r=H0(n);return function(t){return function(e){var a=function(o){var u=on(z4(o))(function(c){return J4(new v(c))(e(o)(c))}),i=r(0);return function(c){return u(i(t(c)))}};return V4(a)(a(D.value))}}};var XT=sD(JT(xs)),Bc=function(){function n(){}return n.value=new n,n}(),hf=function(){function n(){}return n.value=new n,n}(),bf=function(){function n(){}return n.value=new n,n}(),Iu=function(){function n(){}return n.value=new n,n}(),Tf=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Q4={to:function(n){if(n instanceof we)return Bc.value;if(n instanceof Ir&&n.value0 instanceof we)return hf.value;if(n instanceof Ir&&n.value0 instanceof Ir&&n.value0.value0 instanceof we)return bf.value;if(n instanceof Ir&&n.value0 instanceof Ir&&n.value0.value0 instanceof Ir&&n.value0.value0.value0 instanceof we)return Iu.value;if(n instanceof Ir&&n.value0 instanceof Ir&&n.value0.value0 instanceof Ir&&n.value0.value0.value0 instanceof Ir)return new Tf(n.value0.value0.value0.value0.value0,n.value0.value0.value0.value0.value1);throw new Error("Failed pattern match at Capability.Navigate (line 18, column 1 - line 18, column 32): "+[n.constructor.name])},from:function(n){if(n instanceof Bc)return new we(ku.value);if(n instanceof hf)return new Ir(new we(ku.value));if(n instanceof bf)return new Ir(new Ir(new we(ku.value)));if(n instanceof Iu)return new Ir(new Ir(new Ir(new we(ku.value))));if(n instanceof Tf)return new Ir(new Ir(new Ir(new Ir(new vl(n.value0,n.value1)))));throw new Error("Failed pattern match at Capability.Navigate (line 18, column 1 - line 18, column 32): "+[n.constructor.name])}},mD={eq:function(n){return function(r){return n instanceof Bc&&r instanceof Bc||n instanceof hf&&r instanceof hf||n instanceof bf&&r instanceof bf||n instanceof Iu&&r instanceof Iu?!0:n instanceof Tf&&r instanceof Tf?n.value0===r.value0&&n.value1===r.value1:!1}}};var YT=QA(ZA(Q4)(kp(Rs({reflectSymbol:function(){return"Home"}})()(xs))(kp(Rs({reflectSymbol:function(){return"About"}})()(xs))(kp(Rs({reflectSymbol:function(){return"Instructions"}})()(xs))(kp(Rs({reflectSymbol:function(){return"LevelSelect"}})()(xs))(Rs({reflectSymbol:function(){return"Level"}})()(kT))))))({Home:Gp,About:XT("about")(Gp),Instructions:XT("how-to-play")(Gp),LevelSelect:XT("level-select")(Gp),Level:sD(JT(kT))("level")(sD(rI(zT))($T)($T))}));var Ns=function(n){var r=vn(n);return function(t){return r(lI(VA(YT)(t)))}};function pI(n){return function(r){return function(){return r.getItem(n)}}}function ZT(n){return function(r){return function(t){return function(){t.setItem(n,r)}}}}function nC(n){return function(){n.clear()}}var K4=g(bn);var mI=function(n){var r=K4(hr),t=pI(n);return function(e){return r(t(e))}};var Ws=b(Jr),vI=w(ru()()(za({reflectSymbol:function(){return"levelName"}})(_o({reflectSymbol:function(){return"suiteName"}})(wa))(wa))),Y4=je(bn),Z4=fr(Dr),Ci=function(){function n(){}return n.value=new n,n}(),Hu=function(){function n(){}return n.value=new n,n}(),dI={show:function(n){if(n instanceof Ci)return"Incomplete";if(n instanceof Hu)return"Completed";throw new Error("Failed pattern match at Capability.Progress (line 38, column 10 - line 40, column 31): "+[n.constructor.name])}};var DI=function(n){var r=function(e){if(e instanceof Ci)return"Incomplete";if(e instanceof Hu)return"Completed";throw new Error("Failed pattern match at Capability.Progress (line 29, column 13 - line 31, column 31): "+[e.constructor.name])},t=function(e){return e==="Incomplete"?new v(Ci.value):e==="Completed"?new v(Hu.value):D.value};return Kh(r)(t)(n)},nz=DI(K1),rz=DI(Zl(ny)),vD=function(n){var r=vn(n);return function(t){return function(e){return r(Ws(Ws(gt)(K_))(ZT(vI(t))(fL(nz)(e))))}}},gI=function(n){var r=vn(n);return function(t){return r(Y4(Ws(Ws(gt)(K_))(mI(vI(t))))(Z4(tL(rz))))}},yI=function(n){return vn(n)(Ws(Ws(gt)(K_))(nC))};var tz=h(Le);var rC=function(n){return Yb(tz(n))},Ne=function(){return Yb(D.value)}();var hI=Ne("h1"),Gc=hI([]),bI=Ne("h2"),Ei=bI([]),TI=Ne("h3"),Qp=TI([]);var CI=Ne("li"),tC=CI([]);var Pu=Ne("span"),kc=Pu([]);var EI=Ne("table"),eC=EI([]);var jp=Ne("td");var aC=function(n){return Ne("textarea")(n)([])};var MI=Ne("tr"),oC=MI([]);var wI=Ne("ul"),uC=wI([]);var et=Ne("div"),ee=et([]);var Cf=Ne("button");var FI=function(n){return Ne("br")(n)([])},Kp=FI([]);var LI=Ne("b"),dD=LI([]);var zc=Ne("a");function SI(n){return n.target}function Xp(n){return function(){return n.preventDefault()}}var DD=function(n){return hr(SI(n))};var II="drop";var HI="dragover",PI="dragleave",xI="dragexit",RI="dragenter",NI="dragend",WI="drag";var iC="DOMContentLoaded";var fC="keydown";var $I="mouseup",UI="mouseover";var gD="mousemove",BI="mouseleave",GI="mouseenter",kI="mousedown";var zI="click";var Jc=L;var ga=function(n){return function(r){return Xb(n)(function(t){return new v(new di(r(t)))})}};var We=function(){var n=ga(zI);return function(r){return n(Jc(r))}}();var yD=function(){var n=ga(kI);return function(r){return n(Jc(r))}}(),cC=function(){var n=ga(GI);return function(r){return n(Jc(r))}}(),lC=function(){var n=ga(BI);return function(r){return n(Jc(r))}}(),VI=function(){var n=ga(gD);return function(r){return n(Jc(r))}}();var QI=function(){var n=ga(UI);return function(r){return n(Jc(r))}}(),hD=function(){var n=ga($I);return function(r){return n(Jc(r))}}();var Vc=L,jI=function(){var n=ga(WI);return function(r){return n(Vc(r))}}(),bD=function(){var n=ga(NI);return function(r){return n(Vc(r))}}(),KI=function(){var n=ga(RI);return function(r){return n(Vc(r))}}(),XI=function(){var n=ga(xI);return function(r){return n(Vc(r))}}(),YI=function(){var n=ga(PI);return function(r){return n(Vc(r))}}(),ZI=function(){var n=ga(HI);return function(r){return n(Vc(r))}}();var nH=function(){var n=ga(II);return function(r){return n(Vc(r))}}();var rH=rr();var tH=function(){var n=function(r){return function(t){return new v(new ss(r,t))}};return function(r){return mS(n(r))}}(),Yp=function(n){return vS(n)},vz=Yp(DS),sC=Yp(kd),eH=Yp(dS);var aH=eH("rows");var oH=function(n){return Yp(n)("value")};var Oe=sC("id");var TD=vz("draggable");var uH=eH("cols");var Os=function(){var n=sC("className"),r=ro(" "),t=g(kn)(rH);return function(e){return n(r(t(e)))}}(),ae=function(){var n=sC("className");return function(r){return n(rH(r))}}();var Kr=function(){return gS(D.value)}();var Ef=Kr("style");var dz=b(Jr),Dz=Cr(lr),gz=yI(go),yz=function(){function n(){}return n.value=new n,n}(),iH=function(n){var r=vn(_t(n.MonadEffect0())),t=function(o){return et([ae("about-component")])([Gc([Dn("about page")]),Cf([We(function(u){return yz.value})])([Dn("Delete all progress")])])},e=function(o){return{}},a=pt({handleAction:function(o){return r(function(){var i=dz(gt)(ih("Really delete all progress?"))();return Dz(i)(gz)()})},handleQuery:$t.handleQuery,receive:$t.receive,initialize:$t.initialize,finalize:$t.finalize});return tt({eval:a,initialState:e,render:t})};var fH=b(Pr),cH=vn(Dt),bz=Nr(dt)(Tn),Tz=Yi(se),Cz=Nn(Wn)(Pr),Ez=h(dt),Mz=oH(kd),wz=g(wn),lH=b(jr),Fz=g(ii),Lz=h(wr),Sz=Kt(Br),sH=function(){function n(){}return n.value=new n,n}(),CD=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),_H=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),_C=["    :::     :::::::::  :::::::::: ::::::::: ","  :+: :+:   :+:    :+: :+:        :+:    :+:"," +:+   +:+  +:+    +:+ +:+        +:+    +:+","+#++:++#++: +#++:++#+  +#++:++#   +#+    +:+","+#+     +#+ +#+    +#+ +#+        +#+    +#+","#+#     #+# #+#    #+# #+#        #+#    #+#","###     ### #########  ########## ######### "],Az=fH(cH(nf))(function(n){return fH(Pl(bz(qb(Tz(`
`)(_C)))(function(r){return Cz(cH(ui(n.listener)(r)))(function(){return ri(1)})})))(function(){return Ez(n.emitter)})}),pH=function(n){var r=oa(rD(n)),t=Ns(_t(n.MonadEffect0())),e=function(u){return et([Oe("home-component")])([aC([Oe("title"),Mz(u.titleText),uH(Kn(100)(wz(Fu)(lu(_C)))-4|0),aH(wt(_C))]),Kp,zc([We(function(i){return new CD(Iu.value)}),ae("link")])([Dn("Choose a level")]),Kp,zc([We(function(i){return new CD(bf.value)}),ae("link")])([Dn("How to play")]),Kp,zc([We(function(i){return new CD(hf.value)}),ae("link")])([Dn("About")])])},a=function(u){return{titleText:""}},o=pt({handleAction:function(u){if(u instanceof sH)return lH(r(Az))(function(i){return lH(xo(Fz(_H.create)(i)))(function(){return Lz(void 0)})});if(u instanceof CD)return t(u.value0);if(u instanceof _H)return Sz(function(i){var c={};for(var s in i)({}).hasOwnProperty.call(i,s)&&(c[s]=i[s]);return c.titleText=i.titleText+qd(u.value0),c});throw new Error("Failed pattern match at Component.Home (line 75, column 22 - line 83, column 77): "+[u.constructor.name])},handleQuery:$t.handleQuery,receive:$t.receive,initialize:new v(sH.value),finalize:$t.finalize});return tt({eval:o,initialState:a,render:e})};var mH=function(n){var r=function(a){return ee([Gc([Dn("How to play")]),Ei([Dn("Pieces")]),Ei([Dn("Board")]),Ei([Dn("Specification")])])},t=function(a){return{}},e=pt($t);return tt({eval:e,initialState:t,render:r})};var Pz=zn(lr)(An),pC=function(n){return function(r){return function(t){return td(function(e){return function(){var o=yi(function(u){return Pz(e)(t(u))})();return xc(n)(o)(!1)(r)(),Rc(n)(o)(!1)(r)}})}}};function Mf(n){return n.key}function ED(n){return n.ctrlKey}var vH=an("KeyboardEvent");function Zp(n){return n.clientX}function nm(n){return n.clientY}function vC(n){return n.pageX}function dC(n){return n.pageY}var DC=L;var dH=an("MouseEvent");var DH=b(Jr),gH=function(){var r=DH(gt)(bo)(),t=th(r);return pC(gD)(t)(dH)},wD=function(){var r=DH(gt)(bo)(),t=th(r);return pC(fC)(t)(vH)};var qs=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),gC=function(n){return function(r){return"["+(n.value0+("='"+(n.value1(r)+"']")))}},yC=function(){return new qs("data-puzzle-progress",function(n){if(n instanceof Hu)return"completed";if(n instanceof Ci)return"incomplete";throw new Error("Failed pattern match at Component.DataAttribute (line 40, column 51 - line 42, column 29): "+[n.constructor.name])})}();var FD=function(){return new qs("data-location",w(Za))}(),hH=function(){return new qs("data-direction",function(){var n=w(Pa);return function(r){return Td(n(r))}}())}(),hC=function(){return new qs("data-connected",function(n){return n?"connected":"not-connected"})}(),bH=function(){return new qs("data-username",G(z))}(),LD=function(){return new qs("data-available-piece",function(n){return n})}(),qa=function(n){return function(r){return Kr(n.value0)(n.value1(r))}};var rm=function(n){var r=function(t){if(t instanceof nn)return nn.value;if(t instanceof ln)return new ln(r(t.value0),n(t.value1),t.value2,r(t.value3));if(t instanceof Fn)return new Fn(r(t.value0),n(t.value1),t.value2,r(t.value3),n(t.value4),t.value5,r(t.value6));throw new Error("Failed pattern match at Data.Map.Unsafe (line 12, column 10 - line 15, column 88): "+[t.constructor.name])};return r};var Oz=I(fa),qz=I(sa),$z=W(Gg),Uz=J(Lt),Bz=J(Zn);var bC={eq:function(n){return function(r){return Oz(n.dir)(r.dir)&&qz(n.loc)(r.loc)}}},CH={compare:function(n){return function(r){return $z(Uz(n.loc)(r.loc))(Bz(n.dir)(r.dir))}},Eq0:function(){return bC}};var TC=function(n){return function(r){return{loc:n,dir:r}}},EH=function(n){return TC(Kl(n.loc)(n.dir))(mp(n.dir))};var wH=g(wn);var tm=function(n){return function(r){return r(function(t){return n(t)})}},Mi=function(n){return function(r){return function(t){return t(n)(r)}}},Gr={name:tm(function(n){return ne(n)}),eval:tm(function(n){return Sc(n)}),getCapacity:tm(function(n){return ob(n)}),updateCapacity:function(n){return function(r){return r(function(t){var e=Mi(t),a=ab(t);return function(o){return wH(e)(a(n)(o))}})}},getPorts:tm(function(n){return _f(n)}),updatePort:function(n){return function(r){return function(t){return t(function(e){var a=Mi(e),o=hp(e);return function(u){return wH(a)(o(n)(r)(u))}})}}}},Gz=ne(Gr),em={eq:Ng(I(Lc))(Gz)};var zz=w(Za),Jz=w(Pa);var Vz={reflectSymbol:function(){return"rotation"}};var Qz=I(bC),jz=J(CH);var LH=bc()(),Kz=St({reflectSymbol:function(){return"size"}})()(),Xz=St(Vz)()(),Yz=St({reflectSymbol:function(){return"pieces"}})()(),FH=b(Ee),Zz=h(Ga),n6=sd(Lt);var CC={show:function(n){return"(RelEdge "+(zz(n.loc)+(" "+(Jz(n.dir)+")")))}};var SH={eq:function(n){return function(r){return Qz(n)(r)}}},wf={compare:function(n){return function(r){return jz(n)(r)}},Eq0:function(){return SH}},r6=sp(wf);var AH={size:3,pieces:Qn},IH=function(n){return n.loc},t6=function(n){return n.dir},ze=function(n){return function(r){return{loc:n,dir:r}}};var EC=function(n){var r=rm(t6),t=r6(new v(ze(n)(Pn.value)))(new v(ze(n)(pn.value)));return function(e){return r(t(e))}},SD=TC,jc=function(n){var r=LH(n.Profunctor0()),t=Kz(Q.value)(n);return function(e){return r(t(e))}},e6=jc(er),AD=function(n){return Xz(Q.value)(n)},$a=function(n){var r=LH(n.Profunctor0()),t=Yz(Q.value)(n);return function(e){return r(t(e))}},a6=hu(function(){var n=$a(er),r=_d(So);return function(t){return n(r(t))}}()),HH=function(n){var r=hu(e6)(n),t=FH(sc(0)(r-1|0))(function(a){return FH(sc(0)(r-1|0))(function(o){return Zz(Zr(o)(a))})}),e=a6(n);return np(function(a){return n6(a)(e)})(t)};var o6=i1(se),u6=je(kn),PH=w(Ar);var Kc={show:function(n){return ls(o6(u6([12,8,4,0])(function(r){return Nd(Nb)(n>>r&15)})))}},Je=function(){return{ff:0,tt:-1,not:function(n){return~n},implies:function(n){return function(r){return~n|r}},disj:function(n){return function(r){return n|r}},conj:function(n){return function(r){return n&r}}}}(),Xc={eq:function(n){return function(r){return PH(n)===PH(r)}}},xH=function(n){return function(r){return Rb(n>>r)}};var RH=hT();var ID=function(){return function(n){var r=RH(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return function(i){return Kb(new Au(e(a)(o)(u)(i)(U(D.value))))}}}}}}},HD=function(){return function(n){var r=RH(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return function(i){return function(c){return Kb(new Au(e(a)(o)(u)(i)(function(s){return v.create(c(s))})))}}}}}}}};var PD=L;var Us=w(Ar),s6=w(Ye);var om=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),NH=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),um=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),WH=function(){function n(){}return n.value=new n,n}();var xD=function(n){if(n instanceof om)return"rgb("+(Us(n.value0)+(","+(Us(n.value1)+(","+(Us(n.value2)+")")))));if(n instanceof NH)return"rgba("+(Us(n.value0)+(","+(Us(n.value1)+(","+(Us(n.value2)+(","+(s6(n.value3)+")")))))));if(n instanceof um)return n.value0;if(n instanceof WH)return"None";throw new Error("Failed pattern match at Halogen.Svg.Attributes.Color (line 24, column 14 - line 28, column 20): "+[n.constructor.name])};var OH=function(){function n(){}return n.value=new n,n}(),qH=function(){function n(){}return n.value=new n,n}(),RD=function(){function n(){}return n.value=new n,n}();var wC=function(n){if(n instanceof OH)return"start";if(n instanceof qH)return"middle";if(n instanceof RD)return"end";throw new Error("Failed pattern match at Halogen.Svg.Attributes.TextAnchor (line 22, column 19 - line 25, column 21): "+[n.constructor.name])};var Ve=w(Ye),UH=function(){function n(r,t,e,a,o,u){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return new n(r,t,e,a,o,u)}}}}}},n}(),im=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),BH=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),xu=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),GH=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),kH=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var ND=function(n){if(n instanceof UH)return"matrix("+(Ve(n.value0)+(","+(Ve(n.value1)+(","+(Ve(n.value2)+(","+(Ve(n.value3)+(","+(Ve(n.value4)+(","+(Ve(n.value5)+")")))))))))));if(n instanceof im)return"translate("+(Ve(n.value0)+(","+(Ve(n.value1)+")")));if(n instanceof BH)return"scale("+(Ve(n.value0)+(","+(Ve(n.value1)+")")));if(n instanceof xu)return"rotate("+(Ve(n.value0)+(","+(Ve(n.value1)+(","+(Ve(n.value2)+")")))));if(n instanceof GH)return"skewX("+(Ve(n.value0)+")");if(n instanceof kH)return"skewY("+(Ve(n.value0)+")");throw new Error("Failed pattern match at Halogen.Svg.Attributes.Transform (line 28, column 18 - line 34, column 39): "+[n.constructor.name])};var No=w(Ye),WD=g(kn);var zH=function(){var n=Kr("y");return function(r){return n(No(r))}}();var JH=function(){var n=Kr("x");return function(r){return n(No(r))}}(),fm=function(){var n=Kr("width");return function(r){return n(No(r))}}(),Yc=function(n){return function(r){return function(t){return function(e){return Kr("viewBox")(ro(" ")(WD(No)([n,r,t,e])))}}}},cm=function(){var n=Kr("transform"),r=ro(" "),t=WD(ND);return function(e){return n(r(t(e)))}}();var VH=function(){var n=Kr("text-anchor");return function(r){return n(wC(r))}}();var Zc=function(){var n=Kr("stop-opacity");return function(r){return n(No(r))}}(),wi=function(){var n=Kr("stop-color");return function(r){return n(xD(r))}}();var QH=function(){var n=Kr("r");return function(r){return n(No(r))}}();var LC=function(){var n=Kr("points"),r=Yi(se)(" "),t=WD(function(e){return No(e.value0)+(","+No(e.value1))});return function(e){return n(r(t(e)))}}();var Fi=Kr("offset");var lm=Kr("id"),OD=Kr("href"),sm=function(){var n=Kr("height");return function(r){return n(No(r))}}();var _m=function(){var n=Kr("gradientTransform"),r=ro(" "),t=WD(ND);return function(e){return n(r(t(e)))}}();var SC=function(n){return Kr("fill")("url('"+(n+"')"))};var jH=function(){var n=Kr("fill");return function(r){return n(xD(r))}}();var KH=function(){var n=Kr("cy");return function(r){return n(No(r))}}(),XH=function(){var n=Kr("cx");return function(r){return n(No(r))}}(),AC=function(){var n=Kr("class"),r=ro(" "),t=ou();return function(e){return n(r(t(e)))}}();var Li=rC("http://www.w3.org/2000/svg");var Si=Li("g"),qD=function(n){return Li("image")(n)([])};var pm=Li("linearGradient");var HC=function(n){return Li("polyline")(n)([])};var Ai=function(n){return Li("stop")(n)([])},nl=Li("svg"),YH=Li("text");var ZH=Li("defs");var nP=function(n){return Li("circle")(n)([])};var $6=Zt(Xi),U6=w(Kc),rP=w(Ar),B6=g(kn),G6=g(wn),k6=kt(zg()($m({reflectSymbol:function(){return"x"}})()($m({reflectSymbol:function(){return"y"}})()(kg)(Ke))(Ke))),xC=b(jr),$D=Nn(Wn)(jr),tP=Hn(xe),eP=g(ii),RC=Kt(Br),aP=Cr(wr),z6=_c(ka),J6=pe(Br),V6=Nr(wr)(An),oP=h(wr),uP=ru()(),Q6=w(km(uP(za({reflectSymbol:function(){return"info"}})(_o({reflectSymbol:function(){return"relativeEdge"}})(CC))(uP(za({reflectSymbol:function(){return"connected"}})(za({reflectSymbol:function(){return"port"}})(_o({reflectSymbol:function(){return"signal"}})(Kc))(rb))(Vg)))))),lP=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),UD=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),iP=function(){function n(){}return n.value=new n,n}(),fP=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),cP=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),sP=52.916666;var j6=[{cx:9.077261,cy:23.000546,r:1.9862779},{cx:14.198897,cy:23.000546,r:1.9862779},{cx:19.320534,cy:23.000546,r:1.9862779},{cx:24.442171,cy:23.000546,r:1.9862779},{cx:29.563808,cy:23.000546,r:1.9862779},{cx:34.685444,cy:23.000546,r:1.9862779},{cx:39.807083,cy:23.000546,r:1.9862779},{cx:44.928719,cy:23.000546,r:1.9862779}],K6=function(n){return Si([])(Z($6)(j6)(function(r){return function(t){var e=function(){var a=xH(n)(7-r|0);return a?new um("red"):new um("White")}();return nP([XH(t.cx),KH(t.cy),QH(t.r),jH(e)])}}))},_P=66.675018,X6=qD([OD("./images/multimeter.png"),fm(sP),sm(_P)]),BD={w:39.88829,h:13.022614,x:7.0013809,y:6.4740133},Y6=function(n){return YH([JH(BD.w+BD.x),zH(BD.h+BD.y),VH(RD.value)])([Dn(on("")(U6)(n))])},pP=function(n){var r=_t(n),t=vn(r),e=Yt(r),a=function(i){return et([Oe("multimeter"),Os(function(){return i.display?["display"]:["hide"]}()),Ef("left: "+(rP(i.currentPosition.x)+("px; top: "+(rP(i.currentPosition.y)+"px;"))))])([nl([Yc(0)(0)(sP)(_P)])(B6(PD)([X6,K6(on(0)(function(c){return c.info.signal})(i.focus)),Y6(G6(function(c){return c.info.signal})(i.focus))]))])},o=function(i){return{focus:D.value,display:!1,currentPosition:k6}},u=pt({handleAction:function(i){if(i instanceof iP)return xC(t(gH))(function(c){return $D(tP(xo(eP(fP.create)(c))))(function(){return xC(t(wD))(function(s){return tP(xo(eP(cP.create)(s)))})})});if(i instanceof fP)return RC(function(c){var s={};for(var _ in c)({}).hasOwnProperty.call(c,_)&&(s[_]=c[_]);return s.currentPosition={x:vC(i.value0),y:dC(i.value0)},s});if(i instanceof cP)return $D(aP(Mf(i.value0)==="s")(RC(function(c){var s={};for(var _ in c)({}).hasOwnProperty.call(c,_)&&(s[_]=c[_]);return s.display=!c.display,s})))(function(){return aP(z6(Mf(i.value0))(["1","2","3","4"]))(xC(J6(function(c){return c.focus}))(function(c){return V6(c)(function(s){var _=Mf(i.value0);return _==="1"?At(new UD(s.relativeEdge,Ot.value)):_==="2"?At(new UD(s.relativeEdge,rs.value)):_==="3"?At(new UD(s.relativeEdge,ts.value)):_==="4"?At(new UD(s.relativeEdge,es.value)):oP(void 0)})}))});throw new Error("Failed pattern match at Component.MultimeterComponent (line 98, column 26 - line 118, column 35): "+[i.constructor.name])},handleQuery:function(i){return $D(RC(function(c){var s={};for(var _ in c)({}).hasOwnProperty.call(c,_)&&(s[_]=c[_]);return s.focus=i.value0,s}))(function(){return $D(e(Q6(i.value0)))(function(){return oP(D.value)})})},receive:$t.receive,initialize:new v(iP.value),finalize:$t.finalize});return tt({eval:u,initialState:o,render:a})};var NC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),mm=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),vm=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Bs=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),WC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),GD=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),kD=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),zD=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),JD=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),VD=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Gs=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ks=function(){function n(){}return n.value=new n,n}(),OC=function(n){return{piece:n,location:Zr(0)(0),rotation:Rt(0),isRotating:D.value,portStates:Qn}};var mP=Ht(Xc),vP=le(Je),nJ=ne(Gr),dP=b(Ee),rJ=Ur(jl),DP=h(Ga),tJ=Zi(An),eJ=Xn(Zn);var aJ=function(n){return qD([OD("./images/"+(n+".png")),fm(40),sm(40)])},jD=function(){return new om(204,226,237)}(),KD=function(){return new om(62,207,207)}(),oJ=function(){return[pm([lm("port-in-gradient"),_m([new xu(90,0,0)])])([Ai([Fi("5%"),wi(KD),Zc(.5)]),Ai([Fi("95%"),wi(KD)])]),pm([lm("port-out-gradient"),_m([new xu(90,0,0)])])([Ai([Fi("5%"),wi(KD),Zc(.5)]),Ai([Fi("95%"),wi(KD),Zc(0)])]),pm([lm("port-in-gradient-off"),_m([new xu(90,0,0)])])([Ai([Fi("5%"),wi(jD),Zc(.5)]),Ai([Fi("95%"),wi(jD)])]),pm([lm("port-out-gradient-off"),_m([new xu(90,0,0)])])([Ai([Fi("5%"),wi(jD),Zc(.5)]),Ai([Fi("95%"),wi(jD),Zc(0)])])]}(),qC=function(n){return function(r){var t=function(){var a=bu(r.port);if(a instanceof ye)return[new y(10,0),new y(10,12),new y(0,12),new y(25,25),new y(50,12),new y(40,12),new y(40,0)];if(a instanceof pa)return[new y(10,0),new y(10,25),new y(40,25),new y(40,0)];throw new Error("Failed pattern match at Component.Piece.Render (line 89, column 23 - line 104, column 10): "+[a.constructor.name])}(),e=function(){var a=bu(r.port);if(a instanceof ye)return HC([LC(t),AC(["port-in","port"]),qa(hC)(r.connected),SC(function(){var o=mP(r.signal)(vP);return o?"#port-in-gradient":"#port-in-gradient-off"}()),cC(function(o){return new Gs(n)}),lC(function(o){return ks.value})]);if(a instanceof pa)return HC([LC(t),qa(hC)(r.connected),AC(["port-out","port"]),SC(function(){var o=mP(r.signal)(vP);return o?"#port-out-gradient":"#port-out-gradient-off"}()),cC(function(o){return new Gs(n)}),lC(function(o){return ks.value})]);throw new Error("Failed pattern match at Component.Piece.Render (line 69, column 17 - line 87, column 12): "+[a.constructor.name])}();return Si([])([ZH([])(oJ),e])}},XD=function(n){var r=Si([cm([new im(30,30)])])([nl([fm(50),sm(50)])([aJ(nJ(n.piece))])]),t=Si([])(dP(la)(function(e){var a=rJ(Lo(e)(n.rotation));return DP(Si([cm([new xu(re(a)*90,50,50),new im(25,0)])])(dP(tJ(eJ(e)(n.portStates)))(function(o){return DP(qC(Lo(e)(n.rotation))(o))})))}));return nl([Yc(0)(0)(100)(100)])([t,r])};var uJ=w(Ye),Ii=Nn(Wn)(jr),zs=Kt(Br),YD=h(wr),Hi=b(jr),ZD=zn(wr)(An),iJ=g(bn),fJ=ce(qm),UC=Oi(A0(s_)(s_)),ng=pe(Br),cJ=b(Dr),lJ=Xn(Zn),sJ=h(Le),gP=function(n){var r=_t(n),t=Yt(r),e=vn(r),a=function(s){var _=Ze(s.isRotating),m=on(0)(function(p){return p.currentRotation})(s.isRotating);return et([Os(["piece-component"]),TD(_),Ef("transform: rotate("+(uJ(m)+"rad);")),tH("piece"),bD(GD.create(s.location)),jI(kD.create),yD(zD.create),VI(JD.create),hD(VD.create(s.location))])([XD(s)])},o=function(s){return{piece:s.piece,location:s.location,rotation:Rt(0),isRotating:D.value,portStates:s.portStates}},u=function(s){return new y(re(Zp(s)),re(nm(s)))},i=function(s){return function(){var m=Rl(s)(),p=(m.right+m.left)/2,l=(m.bottom+m.top)/2;return new y(p,l)}},c=pt({finalize:D.value,handleAction:function(s){if(s instanceof WC)return Ii(zs(function(_){var m={};for(var p in _)({}).hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m.piece=s.value0.piece,m.location=s.value0.location,m.portStates=s.value0.portStates,m}))(function(){return Ii(t("initialising piece"))(function(){return YD(void 0)})});if(s instanceof GD)return At(new vm(s.value0));if(s instanceof kD)return YD(void 0);if(s instanceof zD)return Hi(CT("piece"))(ZD(function(_){return Hi(e(iJ(fJ(.5))(ky(ah(_)))))(function(m){return Hi(e(i(ah(_))))(function(p){var l=UC(u(s.value0))(p),f=m*m>l.value0*l.value0+l.value1*l.value1;return f?Ii(t("moving"))(function(){return zs(function(d){var E={};for(var H in d)({}).hasOwnProperty.call(d,H)&&(E[H]=d[H]);return E.isRotating=D.value,E})}):Ii(t("started rotation"))(function(){return Ii(e(eh(!1)(_)))(function(){return zs(function(d){var E={};for(var H in d)({}).hasOwnProperty.call(d,H)&&(E[H]=d[H]);return E.isRotating=new v({initialClickPosition:u(s.value0),currentRotation:0}),E})})})})})}));if(s instanceof JD)return Hi(Cs("piece"))(ZD(function(_){return Hi(ng(function(m){return m.isRotating}))(ZD(function(m){var p=u(s.value0);return Hi(e(i(_)))(function(l){var f=UC(m.initialClickPosition)(l),d=UC(p)(l),E=function(V){return function(X){return V.value0*X.value0+V.value1*X.value1}},H=function(V){return function(X){return V.value0*X.value1-X.value0*V.value1}},O=Pb(H(f)(d))(E(f)(d));return zs(function(V){var X={};for(var x in V)({}).hasOwnProperty.call(V,x)&&(X[x]=V[x]);return X.isRotating=new v({initialClickPosition:m.initialClickPosition,currentRotation:O}),X})})}))}));if(s instanceof VD)return Ii(Hi(ng(function(_){return _.isRotating}))(ZD(function(_){var m=Rt(KL(4*_.currentRotation/(2*VL)));return At(new mm(s.value0,m))})))(function(){return Ii(zs(function(_){var m={};for(var p in _)({}).hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m.isRotating=D.value,m}))(function(){return t("mouse UP???")})});if(s instanceof Gs)return Hi(ng(function(_){return _.portStates}))(function(_){return Hi(ng(function(m){return m.location}))(function(m){return Ii(YD(void 0))(function(){return At(new Bs(function(){var p=ze(m)(s.value0);return cJ(lJ(s.value0)(_))(function(l){return sJ({relativeEdge:p,info:l})})}()))})})});if(s instanceof ks)return At(new Bs(D.value));throw new Error("Failed pattern match at Component.Piece (line 99, column 21 - line 158, column 47): "+[s.constructor.name])},handleQuery:function(s){return Ii(zs(function(_){var m={};for(var p in _)({}).hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m.portStates=s.value0,m}))(function(){return YD(D.value)})},initialize:D.value,receive:function(s){return D.value}});return tt({eval:c,initialState:o,render:a})};var vJ=rr();var yP=function(n){return function(r){return vJ(n(r))}};var rg=function(n){return function(r){var t=n(r);return t.value0}};var dJ=G(z),DJ=Jh(z)(Jn);var gJ=function(n){return function(r){var t=vp(r);return function(e){var a=Xt(e.Profunctor0()),o=hc(e);return function(u){return a(n)(function(i){return qr(dJ)(i.value0)(i.value1)})(t(o(u)))}}}},bP=function(n){return function(r){return function(t){return function(e){return gJ(DJ(n)(r))(t)(e)}}}};var BC=function(n){return jh(v.create)(on(new Y(D.value))(K.create))(n)};var Js=function(n){return n.ix};var Sf=function(n){var r=$h(n),t=Xn(n);return{ix:function(e){return function(a){return function(o){var u=function(c){return function(s){return r(function(_){return new v(s)})(e)(c)}},i=function(c){return on(new Y(c))(K.create)(t(e)(c))};return bP(u)(i)(a)(o)}}}}};var Wo=function(n){var r=Xn(n),t=Du(n),e=De(n),a=Sf(n);return{at:function(o){return function(u){return Tc(r(o))(function(i){return zm(function(c){return t(o)(i)})(function(c){return e(o)(c)(i)})})(u)}},Index0:function(){return a}}};var Oo=function(n){return n.at};var eg=g(wo);var CP=ua(ap),EP=g(wn),rl=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}();var hJ={map:function(n){return function(r){return new rl(eg(n)(r.value0),n(r.value1),eg(n)(r.value2))}}};var MP=function(n){return new rl(P.value,n,P.value)},GC=function(n){if(n.value2 instanceof P)return D.value;if(n.value2 instanceof F)return new v(new rl(new F(n.value1,n.value0),n.value2.value0,n.value2.value1));throw new Error("Failed pattern match at Data.Zipper (line 68, column 30 - line 70, column 50): "+[n.value2.constructor.name])};var kC=function(n){if(n.value0 instanceof P)return D.value;if(n.value0 instanceof F)return new v(new rl(n.value0.value1,n.value0.value0,new F(n.value1,n.value2)));throw new Error("Failed pattern match at Data.Zipper (line 63, column 29 - line 65, column 50): "+[n.value0.constructor.name])};var bJ={extend:function(n){return function(r){var t=function(o){return new y(o,o)},e=CP(function(o){return EP(t)(kC(o))})(r),a=CP(function(o){return EP(t)(GC(o))})(r);return new rl(eg(n)(e),n(r),eg(n)(a))}},Functor0:function(){return hJ}},TJ={extract:function(n){return n.value1},Extend0:function(){return bJ}},zC=D_(TJ);var wP=function(n){return function(r){return new rl(new F(r.value1,r.value0),n,P.value)}},FP=function(n){return Tc(zC)(function(r){return function(t){return new rl(r.value0,t,r.value2)}})(n)};var LP=function(n){return n.ginverse};var og=$a(er),SP=Js(Sf(Lt)),AP=Zl(pp),IP=AD(er),MJ=LP(q1),HP=jc(er),wJ=Oo(Wo(Lt)),FJ=b(Dr),LJ=os(Gr),ag=mo(Be),SJ=I(Fe(Om)),AJ=gn(po),PP=g(wn),xP=gv(ep),IJ=My(ci),HJ=bw(ep),PJ=Tw(ep),xJ=g(ct),RJ=ge(wf)(_r),NJ=mu(gu),JC=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=pe(n),a=h(r.Applicative0());return function(o){return t(e(hu(function(){var u=SP(o.loc)(er)(AP);return function(i){return og(u(IP(i)))}}())))(function(u){return a(ze(o.loc)(Lo(o.dir)(MJ(u))))})}},WJ=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=pe(n),a=h(r.Applicative0());return function(o){return t(e(hu(function(){var u=SP(o.loc)(er)(AP);return function(i){return og(u(IP(i)))}}())))(function(u){return a(SD(o.loc)(Lo(o.dir)(u)))})}},RP=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Wt(n),a=h(r.Applicative0());return function(o){return t(e(HP))(function(u){return a(0<=o.x&&o.x<u&&0<=o.y&&o.y<u)})}},Vs=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Wt(n),a=h(r.Applicative0());return function(o){return t(e(function(){var u=wJ(o.loc)(er);return function(i){return og(u(i))}}()))(function(u){return a(FJ(u)(function(i){return LJ(i.piece)(o.dir)}))})}},NP=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Wt(n),a=h(r.Applicative0());return function(o){return t(e(HP))(function(u){return a(function(){if(o instanceof Pn)return Zr(ag(u)(2))(-1);if(o instanceof Bn)return Zr(u)(ag(u)(2));if(o instanceof br)return Zr(ag(u)(2))(u);if(o instanceof pn)return Zr(-1)(ag(u)(2));throw new Error("Failed pattern match at Game.Board.Query (line 127, column 10 - line 131, column 52): "+[o.constructor.name])}())})}};var Dm=function(n){var r=b(n.Monad0().Bind1()),t=WJ(n),e=JC(n);return function(a){return r(t(a))(function(o){return e(EH(o))})}},OJ=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Vs(n),a=Dm(n),o=h(r.Applicative0());return function(u){return t(e(u))(function(i){return t(a(u))(function(c){return t(e(c))(function(s){var _=SJ(AJ(PP(eb)(i))(s))(new v(!0));return o(_?new v(c):D.value)})})})}},qJ=function(n){var r=n.Monad0(),t=xP(r.Applicative0()),e=Nr(t)(Tn),a=b(IJ(r.Bind1())),o=HJ(n),u=OJ(o),i=zn(t)(An),c=Vs(o),s=Zu(PJ(r)),_=h(t);return function(m){return e(la)(function(p){var l=ze(m)(p);return a(u(l))(i(function(f){return a(c(l))(function(d){var E=PP(bu)(d);if(E instanceof v&&E.value0 instanceof ye)return s(ud(new y(l,f)));if(E instanceof v&&E.value0 instanceof pa)return s(ud(new y(f,l)));if(E instanceof D)return _(void 0);throw new Error("Failed pattern match at Game.Board.Query (line 148, column 7 - line 153, column 29): "+[E.constructor.name])})}))})}},WP=function(n){var r=n.Monad0(),t=r.Bind1(),e=t.Apply0().Functor0(),a=g(e),o=yw(e),u=zn(xP(r.Applicative0()))(_r),i=qJ(n);return b(t)(Wt(n)(og))(function(c){return xJ(a(RJ))(o)(u(i)(NJ(So(c))))})};var qP=le(Je),$J=na(Je);var UJ=xt(Je),BJ=Fa(Je),GJ=ra(Je),kJ=Xn(Zn),VC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),$P=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),QC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),jC=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),UP=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),KC=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var ug=function(){return{ff:new VC(qP),tt:new VC($J),not:QC.create,implies:function(n){return function(r){return new jC(new QC(n),r)}},disj:jC.create,conj:UP.create}}();var Ut=function(){return $P.create}();var BP=function(n){var r=function(t){if(t instanceof VC)return t.value0;if(t instanceof $P)return Kn(qP)(kJ(t.value0)(n));if(t instanceof QC)return UJ(r(t.value0));if(t instanceof jC)return BJ(r(t.value0))(r(t.value1));if(t instanceof UP)return GJ(r(t.value0))(r(t.value1));if(t instanceof KC){var e=r(t.value1),a=r(t.value0);return a^e}throw new Error("Failed pattern match at Game.Expression (line 80, column 8 - line 87, column 45): "+[t.constructor.name])};return r};var JJ=Vl(Zn),VJ=je(de),Ru=ge(Zn)(Tn),Bt=function(){function n(){}return n.value=new n,n}(),oe=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var QJ={name:function(n){return n.name},eval:function(n){return function(r){return Z(JJ)(n.ports)(function(t){if(t instanceof Bt)return D.value;if(t instanceof oe)return new v(BP(r)(t.value0));throw new Error("Failed pattern match at Game.Piece.BasicPiece (line 35, column 61 - line 37, column 64): "+[t.constructor.name])})}},getCapacity:Tp(),updateCapacity:bp(),getPorts:function(n){return VJ(n.ports)(function(r){if(r instanceof Bt)return sf(n.capacity);if(r instanceof oe)return Mc(n.capacity);throw new Error("Failed pattern match at Game.Piece.BasicPiece (line 40, column 44 - line 42, column 47): "+[r.constructor.name])})},updatePort:function(n){return function(r){return function(t){return D.value}}}},Nu=Mi(QJ),GP=function(){return Nu({name:"xor",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Pn.value,Bt.value),new y(Bn.value,new oe(new KC(Ut(pn.value),Ut(Pn.value))))])})}(),kP=function(){return Nu({name:"super",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Pn.value,new oe(Ut(pn.value))),new y(Bn.value,new oe(Ut(pn.value))),new y(br.value,new oe(Ut(pn.value)))])})}(),gm=function(){return Nu({name:"right",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(br.value,new oe(Ut(pn.value)))])})}(),zP=function(){return Nu({name:"or",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Pn.value,Bt.value),new y(Bn.value,new oe(Fa(ug)(Ut(pn.value))(Ut(Pn.value))))])})}(),JP=function(){return Nu({name:"not",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Bn.value,new oe(xt(ug)(Ut(pn.value))))])})}(),ym=function(){return Nu({name:"left",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Pn.value,new oe(Ut(pn.value)))])})}(),Qs=function(){return Nu({name:"cross",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Pn.value,Bt.value),new y(Bn.value,new oe(Ut(pn.value))),new y(br.value,new oe(Ut(Pn.value)))])})}(),ig=function(){return Nu({name:"corner-cut",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Pn.value,Bt.value),new y(Bn.value,new oe(Ut(Pn.value))),new y(br.value,new oe(Ut(pn.value)))])})}(),fg=function(){return Nu({name:"chicken",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Bn.value,Bt.value),new y(Pn.value,new oe(Ut(Bn.value))),new y(br.value,new oe(Ut(pn.value)))])})}(),VP=function(){return Nu({name:"and",capacity:Ot.value,ports:Ru([new y(pn.value,Bt.value),new y(Pn.value,Bt.value),new y(Bn.value,new oe(ra(ug)(Ut(pn.value))(Ut(Pn.value))))])})}(),hm=[ym,gm,kP,JP,zP,VP,Qs,ig,fg,GP];var YC=[];var KJ=Xn(Zn),QP=Zo(de),jP=De(Zn),KP=Nn(Wn)(Dr),XP=Qi($i),XJ=Ht(fa),YJ=Ku(An)(lt),ZJ=I(Dd),nV=Du(Zn),YP=h(Le);var rV={name:function(n){return n.pieceId},eval:function(n){return function(r){var t=Kn(0)(KJ(pn.value)(r));return QP(n.outputPorts)(t)}},getCapacity:Tp(),updateCapacity:bp(),getPorts:function(n){return jP(pn.value)(sf(n.capacity))(QP(n.outputPorts)(Mc(n.capacity)))},updatePort:function(n){return function(r){return function(t){return KP(XP(XJ(n)(pn.value)))(function(){return KP(XP(YJ(ZJ(ye.value))(r)))(function(){var e=on(nV(n))(function(o){return jP(n)(void 0)})(r)(t.outputPorts),a=gc(e);return YP(a?{pieceId:t.pieceId,capacity:t.capacity,outputPorts:Fo(Bn.value)(void 0)}:{pieceId:t.pieceId,capacity:t.capacity,outputPorts:e})})})}}}},qo=function(){return Mi(rV)({pieceId:"id",capacity:Ot.value,outputPorts:ge(Zn)(Tn)([new y(Bn.value,void 0)])})}(),ZC=[qo];var ZP=W(ht),tV=ne(Gr),eV=w(as),aV=Xn(Tu),oV=ZP(hm)(ZP(YC)(ZC)),uV=ge(Tu)(Tn)(g(kn)(function(n){return new y(tV(n),n)})(oV)),tl=function(n){var r="piece lookup crash on "+(eV(n)+"... WITH NO SURVIVORS");return D0(function(t){return iu(r)})(aV(n)(uV))};var rE=w(Za),nx=w(Ar);var js=$a(er),Wu=Oo(Wo(Lt)),iV=hp(Gr),Ks=$a(Jn),rx=Js(Sf(Lt)),fV=St({reflectSymbol:function(){return"piece"}})()(),cV=g(wn),tE=rr(),lg=Nn(Wn),lV=g(Ue),sV=Ku(Tn)(lt),_V=i0(zr),pV=ki(gu),mV=xt(lt),vV=AD(Jn),sg=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),_g=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),tx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),dV=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ex=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),eE=function(){function n(){}return n.value=new n,n}();var ax={show:function(n){if(n instanceof sg)return"Location Occupied: "+rE(n.value0);if(n instanceof _g)return"Location Not Occupied: "+rE(n.value0);if(n instanceof tx)return"Location "+(rE(n.value0)+" is outside range of the board");if(n instanceof dV)return"Invalid Board Initialisation: "+(nx(n.value0)+" is not a valid board size");if(n instanceof ex)return"Boards of size "+(nx(n.value0)+" are not valid");if(n instanceof eE)return"ABED does not admit cyclic boards";throw new Error("Failed pattern match at Game.Board.Operation (line 48, column 10 - line 54, column 50): "+[n.constructor.name])}};var ox=function(n){return oc(Ll(n))},ux=function(n){return Wv(sv(n))};var ix=function(n){var r=sr(n),t=h(n.Monad0().Applicative0());return function(e){var a=XL(e)||e<3||e>9;return a?r(new ex(e)):t(e)}},DV=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Wt(n),a=r.Applicative0(),o=zn(a)(An),u=Nr(a)(An),i=no(n);return function(c){return function(s){return t(e(function(){var _=Wu(c.loc)(er);return function(m){return js(_(m))}}()))(o(function(_){return u(iV(c.dir)(s)(_.piece))(function(m){return i(function(){var p=rx(c.loc)(Jn)(uf),l=fV(Q.value)(Jn);return function(f){return Ks(p(l(f)))}}())(m)})}))}}},pg=function(n){var r=n.Monad0(),t=Nr(r.Applicative0())(Tn),e=b(r.Bind1()),a=Vs(n),o=Dm(n),u=DV(n);return function(i){return t(la)(function(c){var s=ze(i)(c);return e(a(s))(function(_){return e(o(s))(function(m){return u(m)(cV(bu)(_))})})})}},fx=function(n){return function(r){return function(t){return Fl(Ny(tE(r))(t))}}},gV=fx(Qa),cx=function(n){return function(r){return tE(gV(n)(r))}},aE=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=t.Bind1(),a=b(e),o=lg(e),u=Cr(t.Applicative0()),i=sr(r),c=oy(t),s=g(e.Apply0().Functor0());return function(_){var m=Wt(_),p=no(_),l=pg(_);return function(f){return function(d){return a(m(function(){var E=Wu(f)(er);return function(H){return js(E(H))}}()))(function(E){return o(u(Ze(E))(i(new _g(f))))(function(){return o(c(s(zu)(m(function(){var H=Wu(d)(er);return function(O){return js(H(O))}}())))(i(new sg(d))))(function(){return o(p(function(){var H=Wu(f)(Jn);return function(O){return Ks(H(O))}}())(D.value))(function(){return o(p(function(){var H=Wu(d)(Jn);return function(O){return Ks(H(O))}}())(E))(function(){return o(l(f))(function(){return l(d)})})})})})})}}}},oE=function(n){var r=Yu(n),t=Xf(n);return function(e){var a=e.MonadThrow0(),o=b(a.Monad0().Bind1()),u=ix(a);return o(r)(function(i){return o(u(i.size+2|0))(function(c){return t({size:c,pieces:rm(function(s){return Zr(s.x+1|0)(s.y+1|0)})(i.pieces)})})})}},uE=function(n){var r=Wt(n);return function(t){var e=t.MonadThrow0(),a=e.Monad0(),o=b(a.Bind1()),u=sr(e),i=h(a.Applicative0());return function(c){return o(r(function(){var s=Wu(c)(er);return function(_){return js(s(_))}}()))(on(u(new _g(c)))(i))}}},yV=function(n){var r=uE(n);return function(t){var e=g(t.MonadThrow0().Monad0().Bind1().Apply0().Functor0()),a=r(t);return function(o){return e(function(u){return u.piece})(a(o))}}};var hV=function(n){var r=g(n.Bind1().Apply0().Functor0()),t=fx(n);return function(e){return function(a){return r(lV(st))(t(e)(a))}}},bV=hV(Qa),iE=function(n){return function(r){return tE(bV(n)(r))}};var fE=function(n){var r=Yu(n),t=Xf(n);return function(e){var a=e.MonadThrow0(),o=b(a.Monad0().Bind1()),u=ix(a),i=sr(a);return o(r)(function(c){return o(u(c.size-2|0))(function(s){var _=function(p){return sV(_V(1)(c.size))([p.x,p.y])},m=pV(function(p){return!_(p)})(So(c.pieces));if(m instanceof v)return i(new sg(m.value0));if(m instanceof D)return t({size:s,pieces:rm(function(p){return Zr(p.x-1|0)(p.y-1|0)})(c.pieces)});throw new Error("Failed pattern match at Game.Board.Operation (line 196, column 3 - line 200, column 83): "+[m.constructor.name])})})}},cE=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=oy(t),a=g(t.Bind1().Apply0().Functor0()),o=sr(r);return function(u){var i=RP(u);return function(c){return e(a(mV)(i(c)))(o(new tx(c)))}}},lE=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=t.Bind1(),a=lg(e),o=cE(n),u=b(e),i=sr(r),c=h(t.Applicative0());return function(s){var _=o(s),m=Wt(s),p=no(s),l=pg(s);return function(f){return a(_(f))(function(){return u(m(function(){var d=Wu(f)(er);return function(E){return js(d(E))}}()))(function(d){if(d instanceof D)return i(new _g(f));if(d instanceof v)return a(p(function(){var E=Wu(f)(Jn);return function(H){return Ks(E(H))}}())(D.value))(function(){return a(l(f))(function(){return c(d.value0.piece)})});throw new Error("Failed pattern match at Game.Board.Operation (line 151, column 3 - line 156, column 27): "+[d.constructor.name])})})}}},sE=function(n){var r=n.MonadThrow0().Monad0().Bind1(),t=lg(r),e=cE(n),a=b(r);return function(o){var u=e(o),i=yV(o)(n),c=ns(o)(_p),s=pg(o);return function(_){return function(m){return t(u(_))(function(){return a(i(_))(function(){return t(c(function(){var p=rx(_)(Jn)(uf);return function(l){return Ks(p(vV(l)))}}())(m))(function(){return s(_)})})})}}}},_E=function(n){var r=n.MonadThrow0(),t=r.Monad0().Bind1(),e=lg(t),a=cE(n),o=b(t),u=sr(r);return function(i){var c=a(i),s=Wt(i),_=no(i),m=pg(i);return function(p){return function(l){return e(c(p))(function(){return o(s(function(){var f=Wu(p)(er);return function(d){return js(f(d))}}()))(function(f){return e(function(){if(f instanceof D)return _(function(){var d=Wu(p)(Jn);return function(E){return Ks(d(E))}}())(new v({piece:l,rotation:Rt(0)}));if(f instanceof v)return u(new sg(p));throw new Error("Failed pattern match at Game.Board.Operation (line 142, column 3 - line 144, column 48): "+[f.constructor.name])}())(function(){return m(p)})})})}}}},pE=function(n){var r=oE(n),t=fE(n);return function(e){var a=_E(e)(n),o=e.MonadThrow0().Monad0(),u=Hn(o.Bind1().Apply0().Functor0()),i=lE(e)(n),c=aE(e)(n),s=sE(e)(n),_=o.Applicative0(),m=h(_),p=r(e),l=t(e),f=Nr(_)(_r);return function(d){if(d instanceof He)return a(d.value0)(tl(d.value1));if(d instanceof ke)return u(i(d.value0));if(d instanceof Io)return c(d.value0)(d.value1);if(d instanceof Pe)return s(d.value0)(d.value1);if(d instanceof Ho)return m(void 0);if(d instanceof Cu)return p;if(d instanceof Eu)return l;if(d instanceof pf)return f(d.value0)(pE(n)(e));throw new Error("Failed pattern match at Game.Board.Operation (line 220, column 19 - line 228, column 59): "+[d.constructor.name])}}};var TV=_c(Lc);var CV={name:function(n){var r=bu(n);if(r instanceof ye)return"psuedo-input";if(r instanceof pa)return"psuedo-output";throw new Error("Failed pattern match at Game.Board.PseudoPiece (line 24, column 24 - line 26, column 43): "+[r.constructor.name])},eval:function(n){return function(r){return Qn}},getCapacity:function(n){return new v(yp(n))},updateCapacity:function(n){return function(r){return D.value}},getPorts:function(n){return Fo(Bn.value)(n)},updatePort:function(n){return function(r){return function(t){return D.value}}}},EV=Mi(CV),lx=function(n){return EV(n)},sx=function(n){var r=ne(n);return function(t){return TV(r(t))(["psuedo-input","psuedo-output"])}};var wV=sp(wf),FV=b(Dr),LV=ki(_r),SV=w1(sa),AV=Jl(wf),IV=Ht(sa),px=g(wn),vg=Xn(Zn),el=Oo(Wo(wf)),HV=Xn(wf),PV=tr(Il),dg=Nn(Wn),vE=ge(Zn),mx=vE(Wr),mE=cp(Zn),xV=co(Dr),RV=Xn(Lt),NV=_f(Gr),WV=sx(Gr),OV=Sc(Gr),qV=le(Je),$V=dg(Nv(Qa)),vx=oc(Qa),UV=lp(Zn),BV=vE(Tn),GV=vE(_r),kV=pi(ap),zV=$a(Jn),JV=Oo(Wo(Lt)),VV=g(de),_x=$a(er),QV=mu(gu),jV=Wy(Ue);var dx=function(n){return function(r){if(n instanceof P)return new v(P.value);var t=function(e){return gc(wV(new v(ze(e)(Pn.value)))(new v(ze(e)(pn.value)))(r))};return FV(LV(t)(n))(function(e){var a=SV(e)(n),o=AV(function(u){return function(i){return IV(IH(i))(e)}})(r);return px(F.create(e))(dx(a)(o))})}},Dx=function(n){var r=n.Monad0().Applicative0(),t=tp(r)(Qr),e=Cr(r),a=Nr(r)(An),o=no(n);return function(u){return function(i){return t(u.ports)(function(c){return function(s){return e(vi(s))(a(vg(c)(u.portLocations))(function(_){var m=Kn(0)(vg(c)(i));return o(el(_)(Jn))(new v({port:Fc(s),connected:!1,signal:m}))}))}})}}},KV=Dx(vx),XV=function(n){var r=n.Monad0(),t=r.Bind1(),e=b(t),a=Wt(n),o=r.Applicative0(),u=PV(o),i=dg(t),c=no(n),s=h(o);return function(_){return function(m){return function(p){var l=HV(m)(_.connections);if(l instanceof v)return e(e(a(el(l.value0)(er)))(u(function(f){return i(c(el(m)(Jn))(new v({connected:!0,signal:f.signal,port:sf(p)})))(function(){return i(c(el(l.value0)(Jn))(new v({connected:!0,signal:f.signal,port:Mc(p)})))(function(){return s(f.signal)})})})))(function(f){return s(Kn(0)(f))});if(l instanceof D)return i(c(el(m)(Jn))(new v({connected:!1,signal:0,port:sf(p)})))(function(){return s(0)});throw new Error("Failed pattern match at Game.Board.EvaluableBoard (line 145, column 3 - line 154, column 22): "+[l.constructor.name])}}}},YV=function(n){var r=n.Monad0(),t=r.Bind1(),e=g(t.Apply0().Functor0()),a=r.Applicative0(),o=Eh(a)(_i),u=b(t),i=tc(a)(Il),c=Wt(n),s=h(a);return function(_){return e(mx)(function(){var m=mE(wc)(_.ports);return o(m)(function(p){return function(l){return u(e(xV)(i(vg(p)(_.portLocations))(function(f){return e(px(function(d){return d.signal}))(c(el(f)(er)))})))(function(f){return s(new y(p,Kn(0)(f)))})}})}())}},ZV=function(n){var r=n.Monad0(),t=r.Applicative0(),e=Nr(t)(An),a=r.Bind1(),o=b(a),u=g(a.Apply0().Functor0()),i=Eh(t)(_i),c=XV(n),s=ha(t),_=tp(t)(Qr),m=no(n);return function(p){return function(l){return e(RV(l)(p.pieces))(function(f){var d=NV(f),E=mE(vi)(d);return o(u(mx)(i(E)(function(H){return function(O){return u(y.create(H))(c(p)(ze(l)(H))(yp(O)))}})))(function(H){return s(WV(f))(function(){var O=OV(f)(H),V=mE(wc)(d);return _(V)(function(X){return function(x){var ar=Kn(qV)(vg(X)(O));return m(el(ze(l)(X))(Jn))(new v({connected:!1,signal:ar,port:x}))}})}())})})}}},dE=function(n){var r=n.Monad0(),t=dg(r.Bind1()),e=Dx(n),a=zn(r.Applicative0())(_r),o=ZV(n),u=YV(n);return function(i){return function(c){return t(e(i)(c))(function(){return t(a(o(i))(i.evalOrder))(function(){return u(i)})})}}},n7=dE(vx),gx={name:function(n){return"evaluable"},eval:function(n){return function(r){return Z(rg)(Qn)($V(KV(n)(r))(function(){return n7(n)(r)}))}},getCapacity:function(n){return D.value},updateCapacity:function(n){return function(r){return D.value}},getPorts:function(n){return n.ports},updatePort:function(n){return function(r){return function(t){return D.value}}}},DE=function(n){var r=NP(n),t=JC(n),e=Dm(n),a=Vs(n),o=no(n),u=WP(n),i=Wt(n);return function(c){var s=c.MonadThrow0(),_=s.Monad0(),m=_.Bind1(),p=b(m),l=g(m.Apply0().Functor0()),f=_.Applicative0(),d=tc(f),E=d(Aa),H=h(f),O=d(rf),V=dg(m),X=tp(f)(Qr),x=sr(s);return function(ar){return p(function(){if(ar instanceof D)return l(function(xn){return UV(BV(xn))})(E(la)(function(xn){return p(r(xn))(function(at){return p(p(t(SD(at)(mp(xn))))(e))(function(pr){return p(a(pr))(function(ue){return H(new y(xn,ue))})})})}));if(ar instanceof v)return H(ar.value0);throw new Error("Failed pattern match at Game.Board.EvaluableBoard (line 68, column 5 - line 76, column 23): "+[ar.constructor.name])}())(function(xn){return p(l(GV)(O(kV(xn))(function(at){return p(r(at.value0))(function(pr){return H(new y(at.value0,ze(pr)(Bn.value)))})})))(function(at){return V(X(xn)(function(pr){return function(ue){return p(r(pr))(function(Qe){var fo=ca(pn.value)(pr);return o(function(){var Ua=JV(Qe)(Jn);return function(Ce){return zV(Ua(Ce))}}())(new v({piece:lx(Fc(ue)),rotation:fo}))})}}))(function(){return p(u)(function(pr){return p(l(VV(function(ue){return ue.piece}))(i(_x)))(function(ue){return p(l(function(Qe){return QV(So(Qe))})(i(_x)))(function(Qe){return p(on(x(eE.value))(H)(dx(Qe)(pr)))(function(fo){return H({pieces:ue,connections:pr,evalOrder:fo,ports:xn,portLocations:at})})})})})})})})}}},r7=DE(oc(d_))(Wv(X0)),yx=function(n){return jV(r7(D.value))(n)};var bx=function(n){return function(r){return n(r.value0)(r.value1.value0)(r.value1.value1.value0)}};var Tx=function(n){return function(r){return function(t){return new y(n,new y(r,new y(t,void 0)))}}};var e7=I(fa),Xs=ne(Gr),Sx=Nn(Wn),Dg=I(Ql),Cx=W(_p),a7=w(cd),o7=I(z1(fa)),Ex=Xl(Tn)(Zn),u7=$a(er),i7=Oo(Wo(Lt)),gE=I(em),Mx=b(Ju),f7=Sx(Ju),c7=Cr(Se),l7=h(Se),s7=mu(Tn),wx=W(ht),_7=co(Ul),p7=tr(rf),m7=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Fx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Lx=function(){function n(){}return n.value=new n,n}(),Ax=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),v7=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),gg=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var d7={append:function(n){return function(r){return n}}},D7=mw(d7);var Ix=function(n){return n instanceof F&&n.value1 instanceof F&&n.value1.value1 instanceof F?new F(Tx(n.value0)(n.value1.value0)(n.value1.value1.value0),Ix(new F(n.value1.value0,new F(n.value1.value1.value0,n.value1.value1.value1)))):P.value};var g7=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=t.Bind1(),a=b(e),o=t.Applicative0(),u=h(o),i=sr(r),c=Sx(e),s=ha(o);return function(_){var m=Rr(_);return function(p){return function(l){if(l instanceof D)return a(function(){var x=ca(p.inputDirection)(p.outputDirection);return x===1?u(Xs(ym)):x===2?u(Xs(qo)):x===3?u(Xs(gm)):i(new Ax(p.inputDirection,p.outputDirection))}())(function(x){return u(new F(new He(p.location,x),new F(new Pe(p.location,ca(pn.value)(p.inputDirection)),P.value)))});if(l instanceof v){var f=ca(p.inputDirection)(p.outputDirection),d=new v7(p,l.value0),E=ca(l.value0.inputDirection)(l.value0.outputDirection),H=c(s(Dg(f)(E))(i(new gg("not a chicken"))))(function(){var x=ca(p.inputDirection)(pn.value);return u(new F(new ke(l.value0.location,"whatever"),new F(new He(l.value0.location,Xs(fg)),new F(new Pe(l.value0.location,x),P.value))))}),O=c(s(Dg(Cx(f)(E))(Rt(0)))(i(new gg("not a cornercut"+a7(Cx(f)(E))))))(function(){return a(function(){var x=ca(p.inputDirection)(l.value0.inputDirection);return x===1?u(ca(p.inputDirection)(pn.value)):x===3?u(ca(l.value0.inputDirection)(pn.value)):i(d)}())(function(x){return u(new F(new ke(l.value0.location,"whatever"),new F(new He(l.value0.location,Xs(ig)),new F(new Pe(l.value0.location,x),P.value))))})}),V=c(s(Dg(f)(Rt(2))&&Dg(E)(Rt(2)))(i(new gg("not a cross over"))))(function(){return a(function(){var x=ca(p.inputDirection)(l.value0.inputDirection);return x===1?u(ca(p.inputDirection)(pn.value)):x===3?u(ca(l.value0.inputDirection)(pn.value)):i(d)}())(function(x){return u(new F(new ke(l.value0.location,"whatever"),new F(new He(l.value0.location,Xs(Qs)),new F(new Pe(l.value0.location,x),P.value))))})}),X=s(o7(Ex([p.inputDirection,p.outputDirection,l.value0.inputDirection,l.value0.outputDirection]))(Ex(la)))(i(new gg("all ports not filled")));return c(X)(function(){return m(V)(m(O)(H))})}throw new Error("Failed pattern match at Game.Board.Path (line 83, column 1 - line 83, column 103): "+[p.constructor.name,l.constructor.name])}}}},y7=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=b(t.Bind1()),a=t.Applicative0(),o=tc(a)(Il),u=h(a),i=sr(r);return function(c){var s=Wt(c);return function(_){return e(s(function(){var m=i7(_)(er);return function(p){return u7(m(p))}}()))(function(m){return o(m)(function(p){var l=Lo(pn.value)(p.rotation),f=gE(p.piece)(qo);if(f)return u({inputDirection:l,outputDirection:Lo(Bn.value)(p.rotation),location:_});var d=gE(p.piece)(ym);if(d)return u({inputDirection:l,outputDirection:Lo(Pn.value)(p.rotation),location:_});var E=gE(p.piece)(gm);return E?u({inputDirection:l,outputDirection:Lo(br.value)(p.rotation),location:_}):i(new m7(_))})})}}},h7=function(n){var r=ly(n.MonadThrow0());return function(t){return function(e){return function(a){return r(Mx(v_(new Fx(e,t))(Bh(e)(t)))(function(o){return Mx(v_(new Fx(e,a))(Bh(e)(a)))(function(u){return f7(c7(e7(o)(u))(new Y(new Ax(o,u))))(function(){return l7({inputDirection:o,outputDirection:u,location:e})})})}))}}}},b7=function(n){var r=b(n.MonadThrow0().Monad0().Bind1()),t=h7(n),e=y7(n),a=g7(n);return function(o){var u=e(o);return function(i){var c=a(i);return function(s){return function(_){return function(m){return r(t(s)(_)(m))(function(p){return r(u(_))(function(l){return c(p)(l)})})}}}}}},T7=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=b(t.Bind1()),a=ly(r),o=p7(t.Applicative0()),u=b7(n);return function(i){var c=u(i);return function(s){var _=g(s.Functor0()),m=c(s);return function(p){return function(l){return function(f){var d=Sh(function(E){return!(E instanceof Pe&&E.value1===0)});return _(d)(e(a(v_(Lx.value)(lu(l))))(function(E){return e(a(v_(Lx.value)(ql(l))))(function(H){var O=Kl(E)(p),V=Kl(H)(f),X=s7(wx([O])(wx(l)([V])));return _(_7)(o(bx(m))(Ix(X)))})}))}}}}}},Hx=function(n){var r=n.Monad0(),t=g(r.Bind1().Apply0().Functor0()),e=T7(sv(r))(pw(n))(D7(r));return function(a){return function(o){return function(u){return t(Jm)(Fl(e(a)(o)(u)))}}}};var E7=Jt(Np),M7=g(yT),yg=function(n){return E7(M7(n))(n)};var hg=L;var F7=St({reflectSymbol:function(){return"isCreatingWire"}})()(),L7=St({reflectSymbol:function(){return"locations"}})()(),S7=St({reflectSymbol:function(){return"boardHistory"}})()(),Tr=b(jr),Pf=Wt(Br),oR=Vl(Zn),ul=g(xe),Pi=ox(Qa),xi=ux(Qa),A7=DE(Pi)(xi),I7=g(de),ME=Nr(wr),H7=ME(ju),uR=oc(Qa),P7=dE(uR),x7=Xn(Zn),Or=Nn(Wn)(jr),Ou=Kt(Br),R7=Zt(si),iR=$a(er),wE=zn(wr),N7=wE(gu),fR=$p(),cR={reflectSymbol:function(){return"piece"}},W7=fR(cR)(Lt),lR=HD(),O7=lR(cR)(Lt),sR={reflectSymbol:function(){return"multimeter"}},q7=lR(sR)(zt),$7=w(Za),U7=jc(er),Ys=w(Ar),bg=mo(Be),B7=_c(fa),yE=Yi(se),G7=Ur(jl),hE=b(Ee),bE=pi(ia),xx=h(Ga),k7=uE(Pi)(xi),Rx=g(wn),z7=gr(ju)(pp),Nx=W(ht),J7=Hn(xe),V7=g(ii),Q7=fr(jr),j7=sE(xi)(Pi),Af=wE(ju),al=pe(Br),K7=aE(xi)(Pi),Wx=lE(xi)(Pi),TE=ne(Gr),X7=fR(sR)(zt),Y7=w(nb),$o=h(wr),ol=ME(An),Z7=Zh(Br),Ox=Js(Sf(Zn)),qx=St({reflectSymbol:function(){return"signal"}})()(),nQ=xt(Je),rQ=w(Pa),tQ=wE(An),CE=Cr(wr),eQ=Ht(Fe(sa)),aQ=ns(Br)(ht),oQ=Hx(uR),uQ=pE(Pi)(xi),iQ=_E(xi)(Pi),$x=ME(Tn),Ux=no(Br),fQ=Oo(Wo(Zn)),cQ=oE(Pi)(xi),lQ=fE(Pi)(xi),FE=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),LE=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),sQ=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),SE=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),AE=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),IE=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),HE=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),PE=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),_R=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Bx=function(){function n(){}return n.value=new n,n}(),Tg=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Gx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),kx=function(){function n(){}return n.value=new n,n}(),zx=function(){function n(){}return n.value=new n,n}(),Jx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Vx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Qx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),jx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Kx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Xx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Yx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Zx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),nR=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),rR=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),tR=function(){function n(){}return n.value=new n,n}(),eR=function(n){return function(r){var t=new y(re(Zp(n))-r.left,re(nm(n))-r.top),e=t.value0>t.value1,a=t.value0+t.value1<r.width;if(!e&&!a)return br.value;if(!e&&a)return pn.value;if(e&&!a)return Bn.value;if(e&&a)return Pn.value;throw new Error("Failed pattern match at Component.Board (line 399, column 29 - line 403, column 31): "+[e.constructor.name,a.constructor.name])}},_Q=function(n){var r=n.Strong0(),t=F7(Q.value)(r),e=BC(n.Choice1()),a=L7(Q.value)(r);return function(o){return t(e(a(o)))}},pQ=_Q(Q1),pR=function(){return Q.value}(),aR=function(){return Q.value}(),mR=function(){return St({reflectSymbol:function(){return"goalPorts"}})()()(Q.value)}(),EE=mR(Jn),mQ=function(n){var r=S7(Q.value)(n),t=FP(n);return function(e){return r(t(e))}},il=mQ(er),Zs=Tr(Pf(mR(er)))(function(n){var r=oR(function(t){var e=vi(t.port);return e?new v(t.signal):D.value})(n);return Tr(ul(iE(A7(new v(I7(function(t){return t.port})(n)))))(Pf(il)))(function(t){return H7(t)(function(e){var a=yP(P7(e)(r))(Qn),o=function(u){return function(i){var c=wc(i.port);if(c){var s={};for(var _ in i)({}).hasOwnProperty.call(i,_)&&(s[_]=i[_]);return s.signal=Kn(0)(x7(u)(a.value0)),s}return i}};return Or(Ou(function(u){var i={};for(var c in u)({}).hasOwnProperty.call(u,c)&&(i[c]=u[c]);return i.lastEvalWithPortInfo=a.value1,i.goalPorts=R7(o)(u.goalPorts),i}))(function(){return Tr(Pf(function(){var u=_d(So);return function(i){return il(iR(u(i)))}}()))(N7(function(u){var i=EC(u)(a.value1);return W7(pR)(u)(function(c){return new NC(i)})}))})})})}),If=function(n){return ul(cx(n))(Pf(il))},Hf=function(n){return Or(Ou(function(r){var t={};for(var e in r)({}).hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t.boardHistory=wP(n)(r.boardHistory),t}))(function(){return Tr(Pf(function(r){return il(iR(r))}))(function(r){return Or(Zs)(function(){return At(new _R(n))})})})},vR=function(n){var r=iD(iA(n));return function(t){var e=gP(t),a=pP(t),o=_t(t),u=vn(o),i=Yt(o),c=function(p){var l=function(xn){return function(at){var pr=EC(at)(p.lastEvalWithPortInfo);return O7(pR)(at)(e)({piece:xn,location:at,portStates:pr})(Tg.create)}},f=q7(aR)(void 0)(a)({})(Gx.create),d=function(xn){return Dn($7(xn))},E=zC(p.boardHistory),H=Dp(E)(U7),O="25fr repeat("+(Ys(H)+", 100fr) 25fr"),V=function(xn){return function(at){var pr=H+2|0,ue=function(){if(xn instanceof Pn)return new y(1,bg(pr)(2)+1|0);if(xn instanceof br)return new y(pr,bg(pr)(2)+1|0);if(xn instanceof pn)return new y(bg(pr)(2)+1|0,1);if(xn instanceof Bn)return new y(bg(pr)(2)+1|0,pr);throw new Error("Failed pattern match at Component.Board (line 223, column 23 - line 227, column 55): "+[xn.constructor.name])}(),Qe=function(){var fo=B7(xn)([Pn.value,br.value]);return fo?Yc(0)(0)(50)(25):Yc(12.5)(-12.5)(25)(50)}();return et([ae("board-port"),We(function(fo){return new Jx(xn)}),qa(hH)(xn),Ef(yE("; ")(["grid-area: "+(Ys(ue.value0)+(" / "+Ys(ue.value1)))]))])([nl([Qe])([Si([cm([new xu(re(G7(xn)+2|0)*90,25,12.5)])])([yg(function(fo){return tR.value})(qC(xn)({port:Fc(at.port),connected:at.connected,signal:at.signal}))])])])}},X=hE(bE(p.goalPorts))(function(xn){return xx(V(xn.value0)(xn.value1))}),x=function(xn){return function(at){var pr=Zr(xn)(at),ue=iE(k7(pr))(E),Qe=Rx(function(Ua){return Ua.piece})(Jm(ue)),fo=z7(function(Ua){return Ua.rotation})(ue);return et([qa(FD)(pr),ae("piece"),Ef(yE("; ")(["transform: rotate("+(Ys(fo*90|0)+"deg)"),"grid-area: "+(Ys(at+2|0)+(" / "+Ys(xn+2|0)))])),yD(jx.create(pr)),QI(Kx.create(pr)),hD(Xx.create(pr)),KI(Yx.create(pr)),ZI(Zx.create(pr)),YI(nR.create),nH(rR.create(pr))])([on(d)(l)(Qe)(pr)])}},ar=hE(sc(0)(H-1|0))(function(xn){return hE(sc(0)(H-1|0))(function(at){return xx(x(xn)(at))})});return et([Oe("board-component"),XI(Qx.create),Ef(yE("; ")(["grid-template-columns: "+O,"grid-template-rows:    "+O]))])(Nx(ar)(Nx(X)([f])))},s=function(p){var l=Kn(AH)(p);return{boardHistory:MP(l),mouseOverLocation:D.value,goalPorts:Qn,lastEvalWithPortInfo:Qn,isCreatingWire:D.value}},_=function(p){if(p instanceof Bx)return Tr(u(wD))(function(l){return Or(J7(xo(V7(Vx.create)(l))))(function(){return Q7(At)(ul(_R.create)(Pf(il)))})});if(p instanceof Tg&&p.value0 instanceof mm)return Tr(If(j7(p.value0.value0)(p.value0.value1)))(Af(function(l){return Or(r(new qt(new Pe(p.value0.value0,p.value0.value1))))(function(){return Hf(l.value1)})}));if(p instanceof Tg&&p.value0 instanceof vm)return Tr(al(function(l){return l.mouseOverLocation}))(function(l){if(l instanceof v)return Tr(If(K7(p.value0.value0)(l.value0)))(Af(function(f){return Or(r(new qt(new Io(p.value0.value0,l.value0))))(function(){return Hf(f.value1)})}));if(l instanceof D)return Tr(If(Wx(p.value0.value0)))(Af(function(f){return Or(r(new qt(new ke(p.value0.value0,TE(f.value0)))))(function(){return Hf(f.value1)})}));throw new Error("Failed pattern match at Component.Board (line 306, column 7 - line 316, column 30): "+[l.constructor.name])});if(p instanceof Tg&&p.value0 instanceof Bs)return X7(aR)(void 0)(function(l){return new lP(p.value0.value0)});if(p instanceof Gx)return Or(i("set capacity: "+Y7(p.value0.value1)))(function(){return $o(void 0)});if(p instanceof kx)return Tr(ul(kC)(al(function(l){return l.boardHistory})))(function(l){return ol(l)(function(f){return Or(Ou(function(d){var E={};for(var H in d)({}).hasOwnProperty.call(d,H)&&(E[H]=d[H]);return E.boardHistory=f,E}))(function(){return Or(r(new qt(Ho.value)))(function(){return Zs})})})});if(p instanceof zx)return Tr(ul(GC)(al(function(l){return l.boardHistory})))(function(l){return ol(l)(function(f){return Or(Ou(function(d){var E={};for(var H in d)({}).hasOwnProperty.call(d,H)&&(E[H]=d[H]);return E.boardHistory=f,E}))(function(){return Or(r(new qt(Ho.value)))(function(){return Zs})})})});if(p instanceof Jx)return Or(Z7(function(){var l=Ox(p.value0)(Jn)(uf),f=qx(Q.value)(Jn);return function(d){return EE(l(f(d)))}}())(nQ))(function(){return Tr(Zs)(function(){return $o(void 0)})});if(p instanceof Qx)return Or(Ou(function(l){var f={};for(var d in l)({}).hasOwnProperty.call(l,d)&&(f[d]=l[d]);return f.isCreatingWire=D.value,f}))(function(){return i("cancel wire creation")});if(p instanceof jx)return ol(DD(DC(p.value1)))(function(l){return ol(Vy(l))(function(f){return Tr(u(Rl(f)))(function(d){var E=eR(p.value1)(d);return Or(i(rQ(E)))(function(){return Ou(function(H){var O={};for(var V in H)({}).hasOwnProperty.call(H,V)&&(O[V]=H[V]);return O.isCreatingWire=new v({initialDirection:E,locations:[p.value0]}),O})})})})});if(p instanceof Kx)return Tr(al(function(l){return l.isCreatingWire}))(tQ(function(l){return CE(eQ(ql(l.locations))(new v(p.value0)))(Or(i("modifying state of board"))(function(){return aQ(pQ)([p.value0])}))}));if(p instanceof Xx)return Tr(al(function(l){return l.isCreatingWire}))(function(l){return ol(l)(function(f){return ol(DD(DC(p.value1)))(function(d){return ol(Vy(d))(function(E){return Tr(u(Rl(E)))(function(H){var O=eR(p.value1)(H);return Tr(ul(rg(oQ(f.initialDirection)(f.locations)(O)))(Pf(il)))(function(V){if(V instanceof v){var X=new pf(V.value0);return Or(Tr(If(uQ(X)))(Af(function(x){return Or(r(new qt(X)))(function(){return Hf(x.value1)})})))(function(){return Ou(function(x){var ar={};for(var xn in x)({}).hasOwnProperty.call(x,xn)&&(ar[xn]=x[xn]);return ar.isCreatingWire=D.value,ar})})}if(V instanceof D)return i("no board events!!");throw new Error("Failed pattern match at Component.Board (line 366, column 13 - line 375, column 40): "+[V.constructor.name])})})})})})});if(p instanceof Yx)return Or(u(Xp(hg(p.value1))))(function(){return Ou(function(l){var f={};for(var d in l)({}).hasOwnProperty.call(l,d)&&(f[d]=l[d]);return f.mouseOverLocation=new v(p.value0),f})});if(p instanceof Zx)return u(Xp(hg(p.value1)));if(p instanceof rR)return Or(Ou(function(l){var f={};for(var d in l)({}).hasOwnProperty.call(l,d)&&(f[d]=l[d]);return f.mouseOverLocation=new v(p.value0),f}))(function(){return u(Xp(hg(p.value1)))});if(p instanceof nR)return Ou(function(l){var f={};for(var d in l)({}).hasOwnProperty.call(l,d)&&(f[d]=l[d]);return f.mouseOverLocation=D.value,f});if(p instanceof Vx)return Or(CE(Mf(p.value0)==="z"&&ED(p.value0))(_(kx.value)))(function(){return CE(Mf(p.value0)==="y"&&ED(p.value0))(_(zx.value))});if(p instanceof tR)return $o(void 0);throw new Error("Failed pattern match at Component.Board (line 293, column 18 - line 395, column 27): "+[p.constructor.name])},m=pt({finalize:D.value,handleAction:_,handleQuery:function(p){if(p instanceof FE)return Tr(Pf(il))(function(l){return $o(new v(p.value0(l)))});if(p instanceof LE)return Or(Tr(If(iQ(p.value0)(p.value1)))(Af(function(l){return Tr(Hf(l.value1))(function(){return r(new qt(new He(p.value0,TE(p.value1))))})})))(function(){return $o(D.value)});if(p instanceof sQ)return Or(Tr(If(Wx(p.value0)))(Af(function(l){return Tr(Hf(l.value1))(function(){return r(new qt(new ke(p.value0,TE(l.value0))))})})))(function(){return $o(D.value)});if(p instanceof SE)return Tr(al(function(l){return l.mouseOverLocation}))(function(l){return $o(Rx(p.value0)(l))});if(p instanceof IE)return Or($x(bE(p.value0))(function(l){return Ux(function(){var f=Ox(l.value0)(Jn)(uf),d=qx(Q.value)(Jn);return function(E){return EE(f(d(E)))}}())(l.value1)}))(function(){return Tr(Zs)(function(){return Tr(ul(oR(function(l){var f=!vi(l.port);return f?new v(l.signal):D.value}))(al(function(l){return l.goalPorts})))(function(l){return $o(v.create(p.value1(l)))})})});if(p instanceof AE)return Or($x(bE(p.value0))(function(l){return Ux(function(){var f=fQ(l.value0)(Jn);return function(d){return EE(f(d))}}())(new v({port:l.value1,signal:0,connected:!1}))}))(function(){return Tr(Zs)(function(){return $o(D.value)})});if(p instanceof HE)return Or(Tr(If(cQ))(Af(function(l){return Tr(Hf(l.value1))(function(){return r(new qt(Cu.value))})})))(function(){return $o(D.value)});if(p instanceof PE)return Or(Tr(If(lQ))(Af(function(l){return Tr(Hf(l.value1))(function(){return r(new qt(Eu.value))})})))(function(){return $o(D.value)});throw new Error("Failed pattern match at Component.Board (line 247, column 20 - line 286, column 23): "+[p.constructor.name])},initialize:new v(Bx.value),receive:function(p){return D.value}});return tt({eval:m,initialState:s,render:c})}};var xE=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}};var RE=zr,NE=zr;var WE=zr;var OE={bottom:0,top:59,Ord0:function(){return RE}},qE={bottom:0,top:59,Ord0:function(){return NE}};var $E={bottom:0,top:23,Ord0:function(){return WE}},xf={cardinality:60,toEnum:function(n){if(n>=0&&n<=59)return new v(n);if(Vn)return D.value;throw new Error("Failed pattern match at Data.Time.Component (line 90, column 1 - line 95, column 26): "+[n.constructor.name])},fromEnum:function(n){return n},Bounded0:function(){return OE},Enum1:function(){return dQ(0)}},dQ=xE("enumSecond","Data.Time.Component",function(){return{succ:function(){var n=Yr(xf),r=Ur(xf);return function(t){return n(function(e){return e+1|0}(r(t)))}}(),pred:function(){var n=Yr(xf),r=Ur(xf);return function(t){return n(function(e){return e-1|0}(r(t)))}}(),Ord0:function(){return RE}}});var Rf={cardinality:60,toEnum:function(n){if(n>=0&&n<=59)return new v(n);if(Vn)return D.value;throw new Error("Failed pattern match at Data.Time.Component (line 61, column 1 - line 66, column 26): "+[n.constructor.name])},fromEnum:function(n){return n},Bounded0:function(){return qE},Enum1:function(){return DQ(0)}},DQ=xE("enumMinute","Data.Time.Component",function(){return{succ:function(){var n=Yr(Rf),r=Ur(Rf);return function(t){return n(function(e){return e+1|0}(r(t)))}}(),pred:function(){var n=Yr(Rf),r=Ur(Rf);return function(t){return n(function(e){return e-1|0}(r(t)))}}(),Ord0:function(){return NE}}});var Nf={cardinality:24,toEnum:function(n){if(n>=0&&n<=23)return new v(n);if(Vn)return D.value;throw new Error("Failed pattern match at Data.Time.Component (line 32, column 1 - line 37, column 24): "+[n.constructor.name])},fromEnum:function(n){return n},Bounded0:function(){return $E},Enum1:function(){return gQ(0)}},gQ=xE("enumHour","Data.Time.Component",function(){return{succ:function(){var n=Yr(Nf),r=Ur(Nf);return function(t){return n(function(e){return e+1|0}(r(t)))}}(),pred:function(){var n=Yr(Nf),r=Ur(Nf);return function(t){return n(function(e){return e-1|0}(r(t)))}}(),Ord0:function(){return WE}}});var Eg=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}();var bm=function(n){return n.value2},Tm=function(n){return n.value1};var Cm=function(n){return n.value0};function GE(){return Date.now()}var FQ=function(n,r,t){var e=new Date(Date.UTC(n,r,t));return n>=0&&n<100&&e.setUTCFullYear(n),e};function dR(n,r,t,e){var a=FQ(r,t-1,e);return n(a.getUTCFullYear())(a.getUTCMonth()+1)(a.getUTCDate())}var SQ=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}};var io=function(){function n(){}return n.value=new n,n}(),Uo=function(){function n(){}return n.value=new n,n}(),Bo=function(){function n(){}return n.value=new n,n}(),Go=function(){function n(){}return n.value=new n,n}(),ko=function(){function n(){}return n.value=new n,n}(),zo=function(){function n(){}return n.value=new n,n}(),Jo=function(){function n(){}return n.value=new n,n}(),Vo=function(){function n(){}return n.value=new n,n}(),Qo=function(){function n(){}return n.value=new n,n}(),jo=function(){function n(){}return n.value=new n,n}(),Ko=function(){function n(){}return n.value=new n,n}(),$u=function(){function n(){}return n.value=new n,n}();var DR={eq:function(n){return function(r){return n instanceof io&&r instanceof io||n instanceof Uo&&r instanceof Uo||n instanceof Bo&&r instanceof Bo||n instanceof Go&&r instanceof Go||n instanceof ko&&r instanceof ko||n instanceof zo&&r instanceof zo||n instanceof Jo&&r instanceof Jo||n instanceof Vo&&r instanceof Vo||n instanceof Qo&&r instanceof Qo||n instanceof jo&&r instanceof jo||n instanceof Ko&&r instanceof Ko||n instanceof $u&&r instanceof $u}}},kE={compare:function(n){return function(r){if(n instanceof io&&r instanceof io)return R.value;if(n instanceof io)return S.value;if(r instanceof io)return A.value;if(n instanceof Uo&&r instanceof Uo)return R.value;if(n instanceof Uo)return S.value;if(r instanceof Uo)return A.value;if(n instanceof Bo&&r instanceof Bo)return R.value;if(n instanceof Bo)return S.value;if(r instanceof Bo)return A.value;if(n instanceof Go&&r instanceof Go)return R.value;if(n instanceof Go)return S.value;if(r instanceof Go)return A.value;if(n instanceof ko&&r instanceof ko)return R.value;if(n instanceof ko)return S.value;if(r instanceof ko)return A.value;if(n instanceof zo&&r instanceof zo)return R.value;if(n instanceof zo)return S.value;if(r instanceof zo)return A.value;if(n instanceof Jo&&r instanceof Jo)return R.value;if(n instanceof Jo)return S.value;if(r instanceof Jo)return A.value;if(n instanceof Vo&&r instanceof Vo)return R.value;if(n instanceof Vo)return S.value;if(r instanceof Vo)return A.value;if(n instanceof Qo&&r instanceof Qo)return R.value;if(n instanceof Qo)return S.value;if(r instanceof Qo)return A.value;if(n instanceof jo&&r instanceof jo)return R.value;if(n instanceof jo)return S.value;if(r instanceof jo)return A.value;if(n instanceof Ko&&r instanceof Ko)return R.value;if(n instanceof Ko)return S.value;if(r instanceof Ko)return A.value;if(n instanceof $u&&r instanceof $u)return R.value;throw new Error("Failed pattern match at Data.Date.Component (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return DR}};var gR=function(){return{bottom:io.value,top:$u.value,Ord0:function(){return kE}}}();var qu={cardinality:12,toEnum:function(n){return n===1?new v(io.value):n===2?new v(Uo.value):n===3?new v(Bo.value):n===4?new v(Go.value):n===5?new v(ko.value):n===6?new v(zo.value):n===7?new v(Jo.value):n===8?new v(Vo.value):n===9?new v(Qo.value):n===10?new v(jo.value):n===11?new v(Ko.value):n===12?new v($u.value):D.value},fromEnum:function(n){if(n instanceof io)return 1;if(n instanceof Uo)return 2;if(n instanceof Bo)return 3;if(n instanceof Go)return 4;if(n instanceof ko)return 5;if(n instanceof zo)return 6;if(n instanceof Jo)return 7;if(n instanceof Vo)return 8;if(n instanceof Qo)return 9;if(n instanceof jo)return 10;if(n instanceof Ko)return 11;if(n instanceof $u)return 12;throw new Error("Failed pattern match at Data.Date.Component (line 87, column 14 - line 99, column 19): "+[n.constructor.name])},Bounded0:function(){return gR},Enum1:function(){return AQ(0)}},AQ=SQ("enumMonth","Data.Date.Component",function(){return{succ:function(){var n=Yr(qu),r=Ur(qu);return function(t){return n(function(e){return e+1|0}(r(t)))}}(),pred:function(){var n=Yr(qu),r=Ur(qu);return function(t){return n(function(e){return e-1|0}(r(t)))}}(),Ord0:function(){return kE}}});var $Q=Ur(qu),UQ=Nt();var BQ=Yr(qu);var GQ=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}();var JE=function(n){return function(r){return function(t){var e=function(a){return function(o){return function(u){return new GQ(a,UQ(BQ(o)),u)}}};return dR(e,n,$Q(r),t)}}};var ER=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var MR=function(n){return n.value1};function FR(n){return function(r){var t=new Date(r);return n(t.getUTCFullYear())(t.getUTCMonth()+1)(t.getUTCDate())(t.getUTCHours())(t.getUTCMinutes())(t.getUTCSeconds())(t.getUTCMilliseconds())}}var JQ=Nt(),VQ=Yr(qu);var LR=function(){var n=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return function(i){return new ER(JE(r)(JQ(VQ(t)))(e),new Eg(a,o,u,i))}}}}}}};return FR(n)}();var jQ=g(bn),SR=jQ(function(n){return MR(LR(n))})(GE);var XQ=w(Ar),YQ=Xg(se),ZQ=Ja(Tn)(se),n8=g(kn),AR=b(jr),r8=Hn(xe),t8=g(ii),e8=ns(Br)(ht),a8=h(wr),IR=function(){function n(){}return n.value=new n,n}(),HR=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var o8=function(){return St({reflectSymbol:function(){return"messages"}})()()(Q.value)}(),u8=o8(Jn),PR=function(n){var r=Ml(nD(n));return function(t){var e=vn(_t(t.MonadEffect0())),a=function(_){var m=function(p){var l=Ur(p);return function(f){var d=XQ(l(f));return YQ("0")(2-_D(d)|0)+d}};return ZQ(":")([m(Nf)(Cm(_)),m(Rf)(Tm(_)),m(xf)(bm(_))])},o=function(_){return oC([jp([ae("timestamp")])([Dn(a(_.timestamp))]),jp([qa(bH)(_.message.user),ae("username")])([ee([Dn(_.message.user)])]),jp([ae("message")])([PD(_.message.message)])])},u=function(_){return et([Oe("chat-component")])([eC(n8(o)(_.messages)),et([Oe("anchor")])([])])},i=function(_){return{messages:[]}},c=function(_){if(_ instanceof IR)return AR(r(function(m){return m.chatServer.emitter}))(function(m){return r8(xo(t8(HR.create)(m)))});if(_ instanceof HR)return AR(e(SR))(function(m){return e8(u8)([{timestamp:m,message:_.value0}])});throw new Error("Failed pattern match at Component.Chat (line 95, column 18 - line 101, column 45): "+[_.constructor.name])},s=pt({handleQuery:function(_){return a8(D.value)},handleAction:c,initialize:new v(IR.value),finalize:D.value,receive:function(_){return D.value}});return tt({eval:s,initialState:i,render:u})}};var f8=Fe(gd);var c8=I(of(fa)(Xc)),l8=Sc(Gr),xR=Nr(Se)(Tn),s8=os(Gr),_8=os(gx),p8=Cr(Se),m8=Ht(f8),RR=sr(cy),v8=ha(Se),VE=Bi(Gi),d8=b(Ju),D8=Nn(Wn)(Ju),QE=function(){function n(){}return n.value=new n,n}(),jE=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),KE=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),XE=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),YE=function(){function n(){}return n.value=new n,n}(),NR=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Mg=function(){function n(){}return n.value=new n,n}();var WR=function(n){var r=b(n.Bind1()),t=h(n.Applicative0());return function(e){return function(a){return function(o){var u=l8(e)(a);return r(o(a))(function(i){var c=c8(u)(i);return t(c?new K(void 0):new Y({inputs:a,expected:u,recieved:i}))})}}}},g8=function(n){return function(r){return xR(la)(function(t){var e=s8(n.goal)(t),a=_8(r)(t);return p8(m8(e)(a))(RR({dir:t,expected:e,received:a}))})}},y8=function(n){return function(r){return xR(n.otherRestrictions)(function(t){return v8(t.restriction(r))(RR({name:t.name,description:t.description}))})}},h8=function(n){return VE(KE.create)(yx(n))},OR=function(n){return function(r){return g0(YE.value)(d8(h8(r))(function(t){return D8(VE(XE.create)(g8(n)(t)))(function(){return VE(jE.create)(y8(n)(r))})}))}};var b8=w(ax),T8=w(as),C8=je(kn),E8=Zi(gu),M8=w(Ar),ZE=Nn(Wn)(jr),nM=h(wr),$R=Kt(Br),wg=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),rM=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),tM=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),eM=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),aM=function(){function n(){}return n.value=new n,n}(),oM=function(){function n(){}return n.value=new n,n}(),uM=function(){function n(){}return n.value=new n,n}(),UR=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),BR=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),GR=function(){function n(){}return n.value=new n,n}(),kR=function(){function n(){}return n.value=new n,n}(),zR=function(){function n(){}return n.value=new n,n}(),JR=function(){function n(){}return n.value=new n,n}(),VR=function(){function n(){}return n.value=new n,n}(),QR=function(n){var r=_t(n.MonadEffect0()),t=Yt(r),e=Ns(r),a=function(i){var c=function(){if(i.completionStatus instanceof QE)return ee([]);if(i.completionStatus instanceof jE)return Dn("failed restriction, render later");if(i.completionStatus instanceof KE)return Dn("not evaluable due to: "+b8(i.completionStatus.value0));if(i.completionStatus instanceof XE)return Dn("port mismatch, render later");if(i.completionStatus instanceof YE)return kc([Dn("ports are looking good: "),Cf([We(function(_){return JR.value})])([Dn("run tests")])]);if(i.completionStatus instanceof NR)return Dn("failed test case, render later");if(i.completionStatus instanceof Mg)return ee([Dn("game completed!"),Cf([We(function(_){return GR.value})])([Dn("new level")])]);throw new Error("Failed pattern match at Component.Sidebar (line 130, column 32 - line 154, column 14): "+[i.completionStatus.constructor.name])}(),s=function(_){var m={piece:tl(_),location:Zr(0)(0),portStates:Qn};return et([qa(LD)(_),TD(!0),Os(["available-piece"]),bD(UR.create(_)),We(BR.create(_))])([yg(function(p){return VR.value})(XD(OC(tl(_)))),Dn(T8(_))])};return et([Oe("sidebar-component")])([Ei([Dn(i.problem.title)]),Qp([Dn(i.problem.description)]),c,Qp([Dn("Available pieces:")]),Pu([ae("pieces")])(C8(E8(i.problem.pieceSet))(s)),Qp([Dn("Board size")]),kc([Cf([We(function(_){return zR.value})])([Dn("-")]),Dn(M8(i.boardSize)),Cf([We(function(_){return kR.value})])([Dn("+")])])])},o=function(i){return{problem:i.problem,completionStatus:QE.value,boardSize:i.boardSize}},u=pt({finalize:D.value,handleAction:function(i){if(i instanceof UR)return ZE(t("piece dropped!"))(function(){return At(new tM(i.value0))});if(i instanceof BR)return At(new eM(i.value0));if(i instanceof GR)return e(Iu.value);if(i instanceof kR)return At(aM.value);if(i instanceof zR)return At(oM.value);if(i instanceof JR)return At(uM.value);if(i instanceof VR)return nM(void 0);throw new Error("Failed pattern match at Component.Sidebar (line 160, column 21 - line 171, column 31): "+[i.constructor.name])},handleQuery:function(i){if(i instanceof wg)return ZE($R(function(c){var s={};for(var _ in c)({}).hasOwnProperty.call(c,_)&&(s[_]=c[_]);return s.completionStatus=i.value0,s}))(function(){return nM(D.value)});if(i instanceof rM)return ZE($R(function(c){var s={};for(var _ in c)({}).hasOwnProperty.call(c,_)&&(s[_]=c[_]);return s.boardSize=i.value0,s}))(function(){return nM(D.value)});throw new Error("Failed pattern match at Component.Sidebar (line 172, column 20 - line 183, column 23): "+[i.constructor.name])},initialize:D.value,receive:U(D.value)});return tt({eval:u,initialState:o,render:a})};var F8=W(Ow),jR=Ja(Tn)(se),KR=g(kn),L8=rr(),XR=bc()(),S8=St({reflectSymbol:function(){return"selector"}})()();var A8=St({reflectSymbol:function(){return"delayBy"}})()();var I8=function(n){return F8(1.5)(re(_D(n))*.065)},H8=function(){var n=function(r){if(r instanceof eo)return r.value0;if(r instanceof Po)return jR(" ")(KR(n)(r.value3));if(r instanceof Mu)return jR(" ")(KR(function(t){return n(Hr(t))})(r.value3));if(r instanceof wu)return c_(r.value0);if(r instanceof da)return n(Di(r.value0));throw new Error("Failed pattern match at Game.Message (line 47, column 16 - line 52, column 53): "+[r.constructor.name])};return function(r){return n(L8(r))}}();var iM=function(n){return Pu([ae("red")])([Dn(n)])},n_=function(n){return function(r){return{user:n,message:r,selector:D.value,delayBy:D.value}}},fM=function(n){return function(r){return n_(n)(Dn(r))}},cM=function(n){return Pu([ae("green")])([Dn(n)])},lM=fM("guide"),YR=function(n){var r=XR(n.Profunctor0()),t=S8(Q.value)(n);return function(e){return r(t(e))}};var P8=function(n){var r=XR(n.Profunctor0()),t=A8(Q.value)(n);return function(e){return r(t(e))}},x8=P8(Jn),Fg=function(n){return Ec(x8)(new v(I8(H8(n.message))))(n)};var Sg=w(Ar),R8=w(Pa),N8=w(Kc),W8=je(kn),ZR=pi(ia),O8=I(Fe(Xc)),q8=Xn(Zn),$8=Yi(se),U8=g(kn),nN=tv(_r)(Ke),B8=mo(Be),iN=Nn(Wn),G8=w(Dc(Pa)(Kc)),fN=HD(),pM={reflectSymbol:function(){return"board"}},k8=fN(pM)(zt),z8=ID()({reflectSymbol:function(){return"chat"}})(zt),cN={reflectSymbol:function(){return"sidebar"}},J8=fN(cN)(zt),lN=$p(),rN=lN(pM)(zt),Wf=b(jr),Em=pe(Br),Mm=iN(jr),V8=_f(Gr),_M=lN(cN)(zt),Q8=vD(go),j8=jc(er),wm=TT()(pM)(zt),tN=Nr(wr)(An),K8=zn(wr)(An),eN=Hn(xe),X8=g(xe),Y8=mu(Tn),Z8=Cr(wr),n9=h(wr),aN=function(){function n(){}return n.value=new n,n}(),oN=function(){function n(){}return n.value=new n,n}(),uN=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),r_=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),r9=function(n){return function(r){return kc([cM(Sg(n)+("/"+Sg(r))),Dn(" Sucessful")])}},t9=function(n){return function(r){return function(t){var e=function(u){return R8(u.value0)+(": "+N8(u.value1))},a=kc(gh(Dn(", "))(W8(ZR(n.recieved))(function(u){var i=O8(q8(st(u))(n.expected))(new v(Hr(u)));return i?cM(e(u)):iM(e(u))}))),o=function(u){return Dn($8(", ")(U8(e)(ZR(u))))};return ee([ee([iM(Sg(r)+("/"+Sg(t))),Dn(" Failed:")]),ee([Dn("  - inputs: "),o(n.inputs)]),ee([Dn("  - expected outputs: "),o(n.expected)]),ee([Dn("  - recieved outputs: "),a])])}}},e9=function(n){var r=n.MonadEffect0(),t=r.Monad0(),e=h(t.Applicative0()),a=t.Bind1(),o=iN(a),u=Yt(r),i=b(a),c=WR(t),s=oa(n);return function(_){var m=Ch(_)(r);return function(p){return function(l){return function(f){var d=nN(l),E=re(B8(2e3)(nN(l))),H=function(O){return function(V){if(V instanceof P)return e(new K(void 0));if(V instanceof F)return o(u(G8(V.value0)))(function(){return i(c(p)(V.value0)(f))(function(X){return o(s(ri(E)))(function(){if(X instanceof Y)return o(m(n_("/test")(t9(X.value0)(O)(d))))(function(){return e(new Y(X.value0))});if(X instanceof K)return o(m(n_("/test")(r9(O)(d))))(function(){return H(O+1|0)(V.value1)});throw new Error("Failed pattern match at Component.Level (line 173, column 9 - line 179, column 35): "+[X.constructor.name])})})});throw new Error("Failed pattern match at Component.Level (line 166, column 21 - line 179, column 35): "+[V.constructor.name])}};return H(1)(l)}}}}},Lg=function(){return Q.value}(),a9=function(){return Q.value}(),Of=function(){return Q.value}(),sN=function(n){var r=n.MonadEffect0(),t=QR(n),e=_t(r),a=vn(e),o=e9(rD(n));return function(u){var i=PR(u)(n),c=nD(u),s=m1(c)(e),_=Ch(c)(e),m=o(c);return function(p){var l=vR(p)(r),f=function(O){return et([Oe("puzzle-component")])([k8(Of)(void 0)(l)(D.value)(uN.create),z8(a9)(void 0)(i)(void 0),J8(Lg)(void 0)(t)({problem:O.level.problem,boardSize:3})(r_.create)])},d=function(O){return function(V){return rN(Of)(void 0)(function(X){return new LE(V,tl(O))})}},E=function(O){if(O instanceof aN)return Wf(Em(function(V){return V.level.conversation}))(function(V){return Mm(s(V))(function(){return Wf(Em(function(X){return X.level.problem.goal}))(function(X){return rN(Of)(void 0)(function(x){return new AE(V8(X))})})})});if(O instanceof oN)return Mm(_M(Lg)(void 0)(function(V){return new wg(Mg.value)}))(function(){return Wf(Em(function(V){return V.levelId}))(function(V){return a(Q8(V)(Hu.value))})});if(O instanceof uN)return Mm(_M(Lg)(void 0)(function(V){return new rM(Dp(O.value0.value0)(j8))}))(function(){return Wf(Em(function(V){return V.level.problem}))(function(V){var X=OR(V)(O.value0.value0);return _M(Lg)(void 0)(function(x){return new wg(X)})})});if(O instanceof r_&&O.value0 instanceof tM)return Wf(wm(Of)(void 0)(SE.create))(function(V){return tN(V)(d(O.value0.value0))});if(O instanceof r_&&O.value0 instanceof eM)return Wf(wm(Of)(void 0)(FE.create))(K8(function(V){return tN(HH(V))(d(O.value0.value0))}));if(O instanceof r_&&O.value0 instanceof aM)return eN(wm(Of)(void 0)(HE.create));if(O instanceof r_&&O.value0 instanceof oM)return eN(wm(Of)(void 0)(PE.create));if(O instanceof r_&&O.value0 instanceof uM)return Mm(_(n_("/test")(dD([Dn("Verifying board: running tests...")]))))(function(){var V=function(X){return X8(Kn(Qn))(wm(Of)(void 0)(IE.create(X)))};return Wf(Em(function(X){return X.level.problem}))(function(X){return Wf(m(X.goal)(Y8(X.testCases))(V))(function(x){return Z8(y0(x))(Mm(_(n_("/test")(dD([Dn("Tests completed successfully!")]))))(function(){return E(oN.value)}))})})});throw new Error("Failed pattern match at Component.Level (line 107, column 18 - line 151, column 35): "+[O.constructor.name])},H=pt({finalize:D.value,handleAction:E,handleQuery:function(O){return n9(D.value)},initialize:new v(aN.value),receive:U(D.value)});return tt({eval:H,initialState:G(z),render:f})}}};var _N={goal:qo,title:"default title",description:"default description",testCases:[],requiresAutomaticTesting:!1,pieceSet:kh,otherRestrictions:[]};var i9=b(Ee),f9=tr(Aa)(Ga),c9=le(Je),l9=na(Je),s9=h(Ga),_9=ge(Zn)(Tn),p9={enableBoardSizeChange:!0},Ag={problem:_N,boardDeltaRulesEngine:[],conversation:[],settings:p9},Ig=function(n){return i9(f9(function(r){return[c9,l9]})(n))(function(r){return s9(_9(_h(n)(r)))})};var mN=g(kn),vN=function(){return ps()({"Criss(t) cross":{problem:{goal:Qs,title:"Cross over",description:"Propogate the signal on the left to the right, and the top to the bottom",testCases:Ig([pn.value,Pn.value]),requiresAutomaticTesting:!1,pieceSet:Xl(Tn)(Tu)(mN(ne(Gr))(hm)),otherRestrictions:[]},boardDeltaRulesEngine:[],conversation:mN(Fg)([fM("mitch")("criss cross")]),settings:Ag.settings}})}();var mM=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var dN=ne(Gr),DN=YR(Jn),gN=function(){return ps()({"From A to B":{problem:{goal:qo,title:"From A to B",description:"Propagate the signal inputed on the Left to the Right",testCases:Ig([pn.value]),requiresAutomaticTesting:!1,pieceSet:Xl(Tn)(Tu)([dN(qo)]),otherRestrictions:[]},boardDeltaRulesEngine:function(){var n=Zr(1)(1),r=Zr(0)(1),t=Zr(2)(1);return[new mM(ib(CL),Ec(DN)(new v(gC(FD)(t)))(lM("move this piece to location (2,1)"))),new mM(ib(TL(t)),Ec(DN)(new v(gC(LD)(dN(qo))))(lM("add another piece")))]}(),conversation:Zt(Xi)(function(n){return function(r){var t=n===0;return t?r:Fg(r)}})([]),settings:Ag.settings}})}();var hN=ps(),D9=co(Ee),bN=p_()(kf(kf(__)()({reflectSymbol:function(){return"suiteName"}})(Sr))()({reflectSymbol:function(){return"levelName"}})(Sr)),g9=ge(bN)(Tn),y9=lp(bN),yN=Bd(ia),h9=hN({}),Fm=hN({"Tutorial Suite":gN,"Identity Suite":h9,"Intermediate Suite":vN}),TN=function(n){var r=n.Monad0(),t=g(r.Bind1().Apply0().Functor0()),e=tc(r.Applicative0())(Aa),a=gI(n);return t(function(o){return y9(g9(D9(o)))})(e(yN(Fm))(function(o){return e(yN(o.value1))(function(u){return t(y.create({suiteName:o.value0,levelName:u.value0}))(a({suiteName:o.value0,levelName:u.value0}))})}))};var SN={reflectSymbol:function(){return"suiteName"}},AN={reflectSymbol:function(){return"levelName"}},b9=Xn(p_()(kf(kf(__)()(SN)(Sr))()(AN)(Sr))),EN=b(Ee),MN=Bd(ia),T9=b(jr),C9=TN(go),wN=Nn(Wn)(jr),E9=w(Dc(ru()()(za(AN)(_o(SN)(wa))(wa)))(dI)),M9=Kt(Br),FN=function(){function n(){}return n.value=new n,n}(),LN=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),IN=function(n){var r=_t(n.MonadEffect0()),t=vn(r),e=Yt(r),a=vD(r),o=Ns(r),u=function(s){var _=function(m){return function(p){return zc([We(function(l){return new LN({suiteName:m,levelName:p})})])([Dn(p),function(){var l=b9({suiteName:m,levelName:p})(s.levelProgress);if(l instanceof v&&l.value0 instanceof Hu)return Pu([qa(yC)(Hu.value)])([Dn("  \u2714")]);if(l instanceof v&&l.value0 instanceof Ci)return Pu([qa(yC)(Ci.value)])([Dn(" \u2736")]);if(l instanceof D)return Dn("");throw new Error("Failed pattern match at Component.LevelSelect (line 58, column 11 - line 61, column 34): "+[l.constructor.name])}()])}};return et([Oe("puzzle-select-component")])([Gc([Dn("Level Select")]),ee(EN(MN(Fm))(function(m){return[Ei([Dn(m.value0)]),uC(EN(MN(m.value1))(function(p){return[tC([_(m.value0)(p.value0)])]}))]}))])},i=function(s){return{levelProgress:Qn}},c=pt({handleAction:function(s){if(s instanceof FN)return T9(t(C9))(function(_){return wN(e(E9(_)))(function(){return M9(function(m){var p={};for(var l in m)({}).hasOwnProperty.call(m,l)&&(p[l]=m[l]);return p.levelProgress=_,p})})});if(s instanceof LN)return wN(a(s.value0)(Ci.value))(function(){return o(new Tf(s.value0.suiteName,s.value0.levelName))});throw new Error("Failed pattern match at Component.LevelSelect (line 66, column 22 - line 73, column 65): "+[s.constructor.name])},handleQuery:$t.handleQuery,receive:$t.receive,initialize:new v(FN.value),finalize:$t.finalize});return tt({eval:c,initialState:i,render:u})};var Lm=ID(),F9=Lm({reflectSymbol:function(){return"home"}})(zt),L9=Lm({reflectSymbol:function(){return"about"}})(zt),S9=Lm({reflectSymbol:function(){return"instructions"}})(zt),A9=Lm({reflectSymbol:function(){return"levelSelect"}})(zt),HN=b(Dr),I9=h(Le),H9=Lm({reflectSymbol:function(){return"level"}})(zt),PN=h(wr),P9=b(jr),x9=Yu(Br),xN=Nn(Wn)(jr),R9=Cr(wr),N9=Ht(Fe(mD)),W9=Kt(Br),RN=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var NN=function(n){var r=pH(n),t=iH(n),e=mH(n),a=IN(n),o=sN(n),u=Yt(_t(n.MonadEffect0()));return function(i){var c=o(i);return function(s){var _=c(s),m=function(f){if(f.route instanceof v){if(f.route.value0 instanceof Bc)return F9(Q.value)(void 0)(r)(void 0);if(f.route.value0 instanceof hf)return L9(Q.value)(void 0)(t)(void 0);if(f.route.value0 instanceof bf)return S9(Q.value)(void 0)(e)(void 0);if(f.route.value0 instanceof Iu)return A9(Q.value)(void 0)(a)(void 0);if(f.route.value0 instanceof Tf)return Kn(Dn("coublent find tht roblem"))(HN(Pc(f.route.value0.value0)(Fm))(function(d){return HN(Pc(f.route.value0.value1)(d))(function(E){return I9(H9(Q.value)(void 0)(_)({levelId:{suiteName:f.route.value0.value0,levelName:f.route.value0.value1},level:E}))})}));throw new Error("Failed pattern match at Component.Routes (line 71, column 15 - line 84, column 56): "+[f.route.value0.constructor.name])}if(f.route instanceof D)return ee([Dn("Oh no! That page wasn't found.")]);throw new Error("Failed pattern match at Component.Routes (line 70, column 22 - line 86, column 59): "+[f.route.constructor.name])},p=function(f){return{route:new v(Bc.value)}},l=pt({finalize:D.value,handleAction:function(f){return PN(void 0)},handleQuery:function(f){return P9(x9)(function(d){return xN(R9(N9(d.route)(new v(f.value0)))(xN(u("navigate"))(function(){return W9(function(E){var H={};for(var O in E)({}).hasOwnProperty.call(E,O)&&(H[O]=E[O]);return H.route=new v(f.value0),H})})))(function(){return PN(new v(f.value1))})})},initialize:D.value,receive:function(f){return D.value}});return tt({eval:l,initialState:p,render:m})}}};var q9=b(Pr),$9=vn(Dt),vM=fr(Jr),U9=f_(Jr),B9=h(dt),G9=fr(Dr),k9=h(lr),z9=g(bn);var WN=function(n){return q9($9(vM(U9(function(){var r=pF(n);return function(t){return r(kv(t))}}())(bo))(gt)))(function(r){return B9(G9(Q_)(r))})},dM=Sv(qr(zi)(U(k9(void 0)))),ON=Cl(function(n){return function(){var t=vM(WF)(vM(bo)(gt))();if(t instanceof V_){var e=z9(Vv)(gt)(),a=yi(function(o){return n(new K(void 0))})();return xc(iC)(a)(!1)(e)(),Lv(Rc(iC)(a)(!1)(e))}return n(new K(void 0))(),nF}});var qN=L,Xo=L,$N=function(n){var r=zn(n)(An);return function(t){return Xo(function(e){return r(t)(e.rendering)})}},V9=L,UN=function(n){return function(r){return Xo(function(t){return V9(r(t.rendering))})}},Q9=L,Hg=function(n){return function(r){return n(r)}},BN=function(n){return function(r){return function(t){return function(e){return function(){var o=ir({})(),u=ir(fs)(),i=ir(fs)(),c=ir(t)(),s=ir(new v(P.value))(),_=ir(new v(P.value))(),m=ir(D.value)(),p=ir(1)(),l=ir(new v(Qn))(),f=ir(Qn)(),d={component:n,state:n.initialState(r),refs:Qn,children:fs,childrenIn:u,childrenOut:i,selfRef:o,handlerRef:c,pendingQueries:s,pendingOuts:_,pendingHandlers:m,rendering:D.value,fresh:p,subscriptions:l,forks:f,lifecycleHandlers:e};return Un(d)(o)(),Q9(o)}}}}};var j9=zn(lr)(An),K9=fr(Dr),X9=Xn(_T),mt=b(Pr),Fr=vn(Dt),Y9=Nn(Wn),Yo=Y9(Pr),QN=zn(dt),Z9=QN(_r),jN=oD(aD),nj=R_(ec)(_r),Uu=h(dt),rj=g(cb),GN=Ji(ec),tj=g(Ya),kN=Al(ec),ej=g(wn),aj=De(_T),oj=CS(Ry),uj=Du(Zd),ij=N0(Xu),fj=De(Zd),zN=QN(An),JN=Xn(Zd),cj=Xn(Sr),lj=qS(Av),sj=yc(Sr),_j=function(n){return function(r){return function(){var e=_n(r)(),a=_n(e.subscriptions)();return j9($l)(K9(X9(n))(a))()}}},Pg=function(n){return function(r){return mt(Fr(_n(n)))(function(t){if(t instanceof D)return r;if(t instanceof v)return Fr(Un(new v(new F(r,t.value0)))(n));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 188, column 33 - line 190, column 57): "+[t.constructor.name])})}},xg=function(n){return function(r){return Yo(Fr(Un({initializers:P.value,finalizers:P.value})(n)))(function(){return mt(Fr(r))(function(t){return mt(Fr(_n(n)))(function(e){return Yo(Z9(jN)(e.finalizers))(function(){return Yo(nj(e.initializers))(function(){return Uu(t)})})})})})}},fl=Sv(qr(zi)(U(h(lr)(void 0)))),VN=function(n){return function(r){return mt(Fr(_n(r)))(function(t){return Fr(py(function(e){return{state:e+1|0,value:n(e)}})(t.fresh))})}},gM=function(n){return function(r){return function(t){return mt(Fr(_n(r)))(function(e){return qf(n)(r)(e.component.eval(new Ls(rj(v.create)(AL(t)),U(D.value))))})}}},qf=function(n){return function(r){return function(t){var e=function(o){return function(u){return mt(Fr(_n(o)))(function(i){return $S(function(c){var s=function(_){return GN(mt(Fr(_n(_)))(function(m){return Xo(function(p){return gM(n)(p.selfRef)(c.value1)})(m)}))};return tj(c.value2)(kN(c.value0(Ry)(s)(i.children)))})(u)})}},a=function(o){return function(u){if(u instanceof Nc)return mt(Fr(_n(o)))(function(i){var c=u.value0(i.state);if(pc(i.state)(c.value1))return Uu(c.value0);if(Vn)return Yo(Fr(Un({component:i.component,state:c.value1,refs:i.refs,children:i.children,childrenIn:i.childrenIn,childrenOut:i.childrenOut,selfRef:i.selfRef,handlerRef:i.handlerRef,pendingQueries:i.pendingQueries,pendingOuts:i.pendingOuts,pendingHandlers:i.pendingHandlers,rendering:i.rendering,fresh:i.fresh,subscriptions:i.subscriptions,forks:i.forks,lifecycleHandlers:i.lifecycleHandlers})(o)))(function(){return Yo(xg(i.lifecycleHandlers)(n(i.lifecycleHandlers)(o)))(function(){return Uu(c.value0)})});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): "+[c.constructor.name])});if(u instanceof Wc)return mt(VN(US)(o))(function(i){return mt(Fr(rd(u.value0(i))(function(c){return fl(yM(n)(o)(new di(c)))})))(function(c){return mt(Fr(_n(o)))(function(s){return Yo(Fr(La(ej(aj(i)(c)))(s.subscriptions)))(function(){return Uu(u.value1(i))})})})});if(u instanceof Ds)return Yo(Fr(_j(u.value0)(o)))(function(){return Uu(u.value1)});if(u instanceof Su)return u.value0;if(u instanceof Oc)return e(o)(u.value0);if(u instanceof qc)return mt(Fr(_n(o)))(function(i){return mt(Fr(_n(i.handlerRef)))(function(c){return Yo(Pg(i.pendingOuts)(c(u.value0)))(function(){return Uu(u.value1)})})});if(u instanceof gs)return kN(oj(Jd(function(){var i=qf(n)(o);return function(c){return GN(i(c))}}())(u.value0)));if(u instanceof ys)return mt(VN(BS)(o))(function(i){return mt(Fr(_n(o)))(function(c){return mt(Fr(ir(!1)))(function(s){return mt(jN(Kw(Fr(function(){return La(uj(i))(c.forks)(),Un(!0)(s)()}))(qf(n)(o)(u.value0))))(function(_){return Yo(Fr(ij(_n(s))(La(fj(i)(_))(c.forks))))(function(){return Uu(u.value1(i))})})})})});if(u instanceof hs)return mt(Fr(_n(o)))(function(i){return mt(Fr(_n(i.forks)))(function(c){return Yo(zN(W_)(JN(u.value0)(c)))(function(){return Uu(u.value1)})})});if(u instanceof bs)return mt(Fr(_n(o)))(function(i){return mt(Fr(_n(i.forks)))(function(c){return Yo(zN(O_(Va("Cancelled")))(JN(u.value0)(c)))(function(){return Uu(u.value1)})})});if(u instanceof $c)return mt(Fr(_n(o)))(function(i){return Uu(u.value1(cj(u.value0)(i.refs)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 139, column 33): "+[u.constructor.name])}};return lj(a(r))(t)}}},yM=function(n){return function(r){return function(t){if(t instanceof ss)return Fr(Z(La)(r)(Hg(function(e){return{component:e.component,state:e.state,refs:sj(U(t.value1))(t.value0)(e.refs),children:e.children,childrenIn:e.childrenIn,childrenOut:e.childrenOut,selfRef:e.selfRef,handlerRef:e.handlerRef,pendingQueries:e.pendingQueries,pendingOuts:e.pendingOuts,pendingHandlers:e.pendingHandlers,rendering:e.rendering,fresh:e.fresh,subscriptions:e.subscriptions,forks:e.forks,lifecycleHandlers:e.lifecycleHandlers}})));if(t instanceof di)return mt(Fr(_n(r)))(function(e){return qf(n)(r)(e.component.eval(new Fs(t.value0,void 0)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): "+[t.constructor.name])}}};var mj=b(Jr),vj=Nn(Wn),tW=Nr(lr)(An),eW=zn(dt)(_r),aW=oD(aD),Am=fr(Jr),oW=zn(lr),uW=oW(An),KN=oW(Wr),XN=vj(Pr),dj=R_(ec)(_r),Sm=vn(Dt),YN=h(lr),hM=g(bn),bM=h(dt),TM=Cr(lr),Dj=UN(bn),gj=Hn(Ya),ZN=xL(lr),yj=$N(lr),hj=ea(tw),bj=Zo(bn),CM=b(Pr),Tj=vn(go),nW=function(){return ir({initializers:P.value,finalizers:P.value})}(),rW=function(n){return function(){var t=_n(n)();return Un(D.value)(n)(),tW(t)(function(){var e=eW(aW);return function(a){return fl(e(pu(a)))}}())()}},Cj=function(n){return function(){return Am(uW(KN($l)))(_n(n.subscriptions))(),Un(D.value)(n.subscriptions)(),Am(KN(function(){var t=O_(Va("finalized"));return function(e){return fl(t(e))}}()))(_n(n.forks))(),Un(Qn)(n.forks)()}},iW=function(n){return function(r){return function(t){var e=function(_){return function(m){return Xo(function(p){var l=qf(u)(p.selfRef)(p.component.eval(new Es(void 0)));return La(function(f){return{initializers:new F(XN(dj(pu(f.initializers)))(function(){return XN(l)(function(){return Sm(function(){return rW(p.pendingQueries)(),rW(p.pendingOuts)()})})}),m),finalizers:f.finalizers}})(_)})}},a=function(_){return function(m){return function(p){return eD(function(l){return function(){var d=nW(),E=BN(l)(p)(m)(d)(),H=_n(_)();return Un({initializers:P.value,finalizers:H.finalizers})(_)(),Am(Xo(function(){var O=u(_);return function(V){return O(function(X){return X.selfRef}(V))}}()))(_n(E))(),Am(e(_)(H.initializers))(_n(E))(),E}})}}},o=function(_){return function(m){return function(p){return function(l){return qp(function(f){return function(){var E=hM(f.pop)(_n(p))(),H=function(){if(E instanceof v){Un(E.value0.value1)(p)();var V=_n(E.value0.value0)();return Xo(function(X){return function(){return Z(Un)(X.handlerRef)(function(){var ar=on(bM(void 0))(m);return function(xn){return ar(f.output(xn))}}())(),fl(qf(u)(X.selfRef)(X.component.eval(new ws(f.input,void 0))))()}})(V)(),E.value0.value0}if(E instanceof D)return a(_)(function(){var X=on(bM(void 0))(m);return function(x){return X(f.output(x))}}())(f.input)(f.component)();throw new Error("Failed pattern match at Halogen.Aff.Driver (line 213, column 14 - line 222, column 98): "+[E.constructor.name])}(),O=hM(function(V){return zu(f.get(V))})(_n(l))();return TM(O)(U_("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(),La(f.set(H))(l)(),mj(_n(H))(Dj(function(V){if(V instanceof D)return ov("Halogen internal error: child was not initialized in renderChild");if(V instanceof v)return YN(n.renderChild(V.value0));throw new Error("Failed pattern match at Halogen.Aff.Driver (line 227, column 37 - line 229, column 50): "+[V.constructor.name])}))()}})}}}},u=function(_){return function(m){return function(){var l=_n(m)(),f=hM(Ze)(_n(l.pendingHandlers))();TM(f)(Un(new v(P.value))(l.pendingHandlers))(),Un(fs)(l.childrenOut)(),Un(l.children)(l.childrenIn)();var d=function(){var X=Pg(l.pendingHandlers),x=yM(u)(l.selfRef);return function(ar){return X(gj(x(ar)))}}(),E=function(){var X=Pg(l.pendingQueries);return function(x){return X(d(di.create(x)))}}(),H=n.render(function(X){return fl(d(X))})(o(_)(E)(l.childrenIn)(l.childrenOut))(l.component.render(l.state))(l.rendering)(),O=_n(l.childrenOut)(),V=_n(l.childrenIn)();return ZN(V)(function(X){return function(){var ar=_n(X)();return yj(n.removeChild)(ar)(),i(_)(ar)()}})(),Z(La)(l.selfRef)(Hg(function(X){return{component:X.component,state:X.state,refs:X.refs,children:O,childrenIn:X.childrenIn,childrenOut:X.childrenOut,selfRef:X.selfRef,handlerRef:X.handlerRef,pendingQueries:X.pendingQueries,pendingOuts:X.pendingOuts,pendingHandlers:X.pendingHandlers,rendering:new v(H),fresh:X.fresh,subscriptions:X.subscriptions,forks:X.forks,lifecycleHandlers:X.lifecycleHandlers}}))(),TM(f)(Z(hj)(void 0)(function(X){return function(){var ar=_n(l.pendingHandlers)();Un(new v(P.value))(l.pendingHandlers)(),uW(function(){var pr=eW(aW);return function(ue){return fl(pr(pu(ue)))}}())(ar)();var xn=_n(l.pendingHandlers)(),at=on(!1)(C1)(xn);return at?bj(Un(D.value)(l.pendingHandlers))(new Ct(void 0))():new Et(void 0)}}))()}}},i=function(_){return Xo(function(m){return function(){Cj(m)();var l=qf(u)(m.selfRef)(m.component.eval(new Ms(void 0)));return La(function(f){return{initializers:f.initializers,finalizers:new F(l,f.finalizers)}})(_)(),ZN(m.children)(function(f){return function(){var E=_n(f)();return i(_)(E)()}})()}})},c=function(_){return function(m){return function(p){return CM(Sm(_n(_)))(function(l){return l?bM(D.value):gM(u)(m)(p)})}}},s=function(_){return function(m){return function(p){return xg(m)(function(){var f=_n(_)();return f?void 0:(Un(!0)(_)(),i(m)(p)(),Xo(function(d){return function(){var H=Tj(_n(d.selfRef))();return tW(H.rendering)(n.dispose)()}})(p)())})}}};return CM(Sm(nW))(function(_){return CM(Sm(ir(!1)))(function(m){return xg(_)(function(){var l=nf(),f=Am(_n)(a(_)(function(){var d=ui(l.listener);return function(E){return Sm(d(E))}}())(t)(r))();return Xo(function(d){return YN({query:c(m)(d.selfRef),messages:l.emitter,dispose:s(m)(_)(f)})})(f)()})})})}}};var EM=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},MM=Hn(bn),Mj=h(lr),wj=zn(lr)(An),Fj=rr(),Lj=Cr(lr),Sj=xt(Ui(Ui(lt))),Aj=G(z),Ij=b(Pr),Hj=vn(Dt),Pj=g(bn),xj=fr(Jr);var Rj=function(n){return function(r){return function(t){return r instanceof v&&t instanceof v?MM(jy(n)(r.value0)(t.value0)):r instanceof D&&t instanceof v?MM(Gv(n)(t.value0)):Mj(void 0)}}},fW=function(n){return function(){var t=nh(n.node)();return wj(function(e){return Ky(n.node)(e)})(t)()}},Nj=function(n){return function(r){return function(t){var e=qN(function(i){return i.node}),a=function(i){return i instanceof v?va(i.value0):void 0},o=function(i){var c=JS(Fj)(i),s=EM("patch","Halogen.VDom.Driver",function(){return function(d,E){if(d instanceof v){if(E instanceof Au)return va(d.value0),m(100)(E.value0);if(E instanceof gf){var H=ma(d.value0,E.value0);return rt(new nt(be(H),new v(H),s(103),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 97, column 22 - line 103, column 79): "+[E.constructor.name])}return _(104)(E)}}),_=EM("render","Halogen.VDom.Driver",function(){return function(d){if(d instanceof Au)return m(86)(d.value0);if(d instanceof gf){var E=c(d.value0);return rt(new nt(be(E),new v(E),s(89),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 84, column 7 - line 89, column 75): "+[d.constructor.name])}}),m=EM("renderComponentSlot","Halogen.VDom.Driver",function(){return function(d){var E=_n(r)(),H=E(d)(),O=e(H);return rt(new nt(O,D.value,s(117),a))}}),p=s(91),l=_(82),f=m(109);return l},u=sS(n);return{buildWidget:o,buildAttributes:u,document:t}}}},Wj=function(n){return function(r){var t=function(e){return function(a){return function(o){return function(u){if(u instanceof D)return function(){var c=ir(a)(),s=Nj(e)(c)(n),_=xp(s)(o),m=be(_);return MM(Gv(m)(qF(r)))(),{machine:_,node:m,renderChildRef:c}};if(u instanceof v)return function(){Un(a)(u.value0.renderChildRef)();var c=nh(u.value0.node)(),s=IF(u.value0.node)(),_=ma(u.value0.machine,o),m=be(_);return Lj(Sj(pc)(u.value0.node)(m))(Rj(m)(s)(c))(),{machine:_,node:m,renderChildRef:u.value0.renderChildRef}};throw new Error("Failed pattern match at Halogen.VDom.Driver (line 157, column 5 - line 173, column 80): "+[u.constructor.name])}}}};return{render:t,renderChild:Aj,removeChild:fW,dispose:fW}}},cW=function(n){return function(r){return function(t){return Ij(Hj(Pj(NF)(xj(bo)(gt))))(function(e){return iW(Wj(e)(t))(n)(r)})}}};var wM=b(Pr),qj=Hn(bn),$j=sI(ju),Uj=Cr(lr),Bj=Ht(Fe(mD)),Gj=NN(pA)(_A)(sA),kj=fr(Pr),zj=vn(Dt),Jj=wM(WN("#abed"))(on(sr(q_)(Va("Could not find element #abed")))(h(dt))),Vj=function(n){return qj($j(jA(YT))(function(r){return function(t){return Uj(Bj(r)(new v(t)))(n(t))}}))},lW=dM(Nn(Wn)(Pr)(ON)(function(){return wM(mA(Gj))(function(n){return wM(kj(cW(n)(void 0))(Jj))(function(r){return zj(Vj(function(t){return dM(r.query(new RN(t,void 0)))}))})})}));lW();})();
