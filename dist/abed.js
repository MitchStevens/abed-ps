(()=>{var aE=function(n){return function(r){for(var t=[],e=0,a=n.length;e<a;e++)Array.prototype.push.apply(t,r(n[e]));return t}};var oE=function(n){return function(r){for(var t=n.length,e=r.length,a=new Array(t*e),o=0,u=0;u<t;u++)for(var f=n[u],c=0;c<e;c++)a[o++]=f(r[c]);return a}};var f_={compose:function(n){return function(r){return function(t){return n(r(t))}}}},Rf=function(n){return n.compose},c_=function(n){var r=Rf(n);return function(t){return function(e){return r(e)(t)}}};var W=function(n){return n.identity},q={identity:function(n){return n},Semigroupoid0:function(){return f_}};var kn=!0;var Rm=function(n){return function(r){return function(t){return function(e){return n(r(t))(r(e))}}}},rn=function(n){return function(r){return function(t){return n(t)(r)}}},U=function(n){return function(r){return n}};var Ag=function(n){return function(r){return r(n)}};var uE=function(n){return function(r){for(var t=r.length,e=new Array(t),a=0;a<t;a++)e[a]=n(r[a]);return e}};var Tn=function(){function n(){}return n.value=new n,n}();var g=function(n){return n.map},Ve=function(n){var r=g(n);return function(t){return function(e){return r(e)(t)}}},xn=function(n){return g(n)(U(void 0))},sa=function(n){var r=g(n);return function(t){return function(e){return r(U(e))(t)}}},Vc=function(n){var r=g(n);return function(t){return r(U(t))}};var ct={map:Rf(f_)},zn={map:uE};var FN=W(q);var Jc={apply:function(n){return function(r){return function(t){return n(t)(r(t))}}},Functor0:function(){return ct}},l_={apply:oE,Functor0:function(){return zn}},hn=function(n){return n.apply},iE=function(n){var r=hn(n),t=g(n.Functor0());return function(e){return function(a){return r(t(U)(e))(a)}}},di=function(n){var r=hn(n),t=g(n.Functor0());return function(e){return function(a){return r(t(U(FN))(e))(a)}}},Lt=function(n){var r=hn(n),t=g(n.Functor0());return function(e){return function(a){return function(o){return r(t(e)(a))(o)}}}};var y=function(n){return n.pure},io=function(n){var r=y(n);return function(t){return function(e){if(!t)return e;if(t)return r(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,e.constructor.name])}}},Nr=function(n){var r=y(n);return function(t){return function(e){if(t)return e;if(!t)return r(void 0);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[t.constructor.name,e.constructor.name])}}},s_=function(n){var r=hn(n.Apply0()),t=y(n);return function(e){return function(a){return r(t(e))(a)}}};var Wa={pure:function(n){return[n]},Apply0:function(){return l_}};var SN=W(q),Vn=function(n){return n.discard};var fe={bind:aE,Apply0:function(){return l_}},b=function(n){return n.bind},ur=function(n){return rn(b(n))},__=function(n){var r=ur(n);return function(t){return function(e){return function(a){return r(t)(e(a))}}}},Ig=function(n){var r=b(n);return function(t){return function(e){return function(a){return r(t(a))(e)}}}};var Jn={discard:function(n){return b(n)}};var Lu=function(n){var r=b(n);return function(t){return r(t)(SN)}};var fE=function(n){return function(r){return function(t){for(var e=r,a=t.length,o=a-1;o>=0;o--)e=n(t[o])(e);return e}}},cE=function(n){return function(r){return function(t){for(var e=r,a=t.length,o=0;o<a;o++)e=n(e)(t[o]);return e}}};var lE=function(n){return function(r){return n+r}},sE=function(n){return function(r){return n.length===0?r:r.length===0?n:n.concat(r)}};var Vr=function(n){return n.reflectSymbol};var p_=function(n){var r=function(t){var e;function a(o){t=o}for(;;)e=a(t);return e};return r(n)};var Se=function(n){return function(r){return r[n]}},Su=function(n){return function(r){return function(t){var e={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e[n]=r,e}}};var Om={append:function(n){return function(r){return void 0}}},m_={append:lE};var rt={append:sE};var x=function(n){return n.append},Wm=function(n){var r=x(n);return{append:function(t){return function(e){return function(a){return r(t(a))(e(a))}}}}};var Lr=function(n){return n.alt};var ce=function(n){return n.empty};var _E=String.fromCharCode(65535),pE=String.fromCharCode(0),RN=Number.POSITIVE_INFINITY,NN=Number.NEGATIVE_INFINITY;var Hg=function(n){return function(r){return function(t){return function(e){return function(a){return e<a?n:e===a?r:t}}}}};var mE=Hg;var vE=Hg,dE=Hg;var $m=function(n){return function(r){return n===r}},DE=$m,gE=$m;var hE=$m,yE=$m,bE=function(n){return function(r){return function(t){if(r.length!==t.length)return!1;for(var e=0;e<r.length;e++)if(!n(r[e])(t[e]))return!1;return!0}}};var qm={eq:function(n){return function(r){return!0}}},zo={eq:yE},Pg={eqRecord:function(n){return function(r){return function(t){return!0}}}},TE=function(n){return n.eqRecord},xg=function(){return function(n){return{eq:TE(n)(Tn.value)}}};var Di={eq:gE},CE={eq:hE},EE={eq:DE},fo=function(n){return n.eq1},H=function(n){return n.eq},qN=H(EE),Qc=function(n){return{eq:bE(H(n))}};var Rg=function(n){var r=TE(n);return function(){return function(t){var e=Vr(t);return function(a){var o=H(a);return{eqRecord:function(u){return function(f){return function(c){var s=r(Tn.value)(f)(c),m=e(Tn.value),l=Se(m);return o(l(f))(l(c))&&s}}}}}}}},le=function(n){var r=H(n);return function(t){return function(e){return qN(r(t)(e))(!1)}}};var A=function(){function n(){}return n.value=new n,n}(),I=function(){function n(){}return n.value=new n,n}(),R=function(){function n(){}return n.value=new n,n}();var Ng={append:function(n){return function(r){if(n instanceof A)return A.value;if(n instanceof I)return I.value;if(n instanceof R)return r;throw new Error("Failed pattern match at Data.Ordering (line 21, column 1 - line 24, column 18): "+[n.constructor.name,r.constructor.name])}}};var jc={eq:function(n){return function(r){return n instanceof A&&r instanceof A||n instanceof I&&r instanceof I||n instanceof R&&r instanceof R}}};var ME=function(n){return function(r){return n-r|0}},wE=function(n){return function(r){return n-r}};var FE=function(n){return function(r){return n+r|0}},LE=function(n){return function(r){return n*r|0}},SE=function(n){return function(r){return n+r}},AE=function(n){return function(r){return n*r}};var Ae=function(n){return n.zero};var Um={add:SE,zero:0,mul:AE,one:1},co={add:FE,zero:0,mul:LE,one:1};var pa=function(n){return n.one};var se=function(n){return n.mul};var Rt=function(n){return n.add};var gi=function(n){return n.sub};var v_={sub:wE,Semiring0:function(){return Um}},IE={sub:ME,Semiring0:function(){return co}};var zN=xg(),VN=le(jc);var Ie={compare:function(n){return function(r){return R.value}},Eq0:function(){return qm}},Cr=function(){return{compare:vE(A.value)(R.value)(I.value),Eq0:function(){return zo}}}(),d_={compareRecord:function(n){return function(r){return function(t){return R.value}}},EqRecord0:function(){return Pg}};var Sr=function(){return{compare:mE(A.value)(R.value)(I.value),Eq0:function(){return Di}}}(),Bm=function(){return{compare:dE(A.value)(R.value)(I.value),Eq0:function(){return CE}}}();var PE=function(n){return n.compareRecord},D_=function(){return function(n){var r=zN(n.EqRecord0());return{compare:PE(n)(Tn.value),Eq0:function(){return r}}}},lo=function(n){return n.compare1},G=function(n){return n.compare};var Kc=function(n){var r=G(n);return function(t){return function(e){var a=r(t)(e);return a instanceof I}}},xE=function(n){var r=G(n);return function(t){return function(e){var a=r(t)(e);return!(a instanceof A)}}},Of=function(n){var r=G(n);return function(t){return function(e){var a=r(t)(e);return a instanceof A}}};var Gm=function(n){var r=G(n);return function(t){return function(e){var a=r(t)(e);return!(a instanceof I)}}},km=function(n){var r=G(n);return function(t){return function(e){var a=r(t)(e);if(a instanceof A)return e;if(a instanceof R||a instanceof I)return t;throw new Error("Failed pattern match at Data.Ord (line 181, column 3 - line 184, column 12): "+[a.constructor.name])}}},RE=function(n){var r=G(n);return function(t){return function(e){var a=r(t)(e);if(a instanceof A||a instanceof R)return t;if(a instanceof I)return e;throw new Error("Failed pattern match at Data.Ord (line 172, column 3 - line 175, column 12): "+[a.constructor.name])}}};var Wf=function(n){var r=PE(n),t=Rg(n.EqRecord0())();return function(){return function(e){var a=Vr(e),o=t(e);return function(u){var f=G(u),c=o(u.Eq0());return{compareRecord:function(s){return function(m){return function(l){var _=a(Tn.value),p=f(Se(_)(m))(Se(_)(l)),i=VN(p)(R.value);return i?p:r(Tn.value)(m)(l)}}},EqRecord0:function(){return c}}}}}},NE=function(n){var r=RE(n),t=km(n);return function(e){return function(a){return function(o){return r(a)(t(e)(o))}}}},OE=function(n){var r=Of(n),t=Kc(n);return function(e){return function(a){return function(o){return!(r(o)(e)||t(o)(a))}}}};var ma=function(n){return n.top};var zm={top:2147483647,bottom:-2147483648,Ord0:function(){return Sr}},g_={top:_E,bottom:pE,Ord0:function(){return Bm}};var va=function(n){return n.bottom};var WE=function(n){return n.toString()},$E=function(n){var r=n.toString();return isNaN(r+".0")?r:r+".0"};var qE=function(n){var r=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,function(t,e){switch(t){case'"':case"\\":return"\\"+t;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var a=e+1,o=a<r&&n[a]>="0"&&n[a]<="9"?"\\&":"";return"\\"+t.charCodeAt(0).toString(10)+o})+'"'},UE=function(n){return function(r){for(var t=[],e=0,a=r.length;e<a;e++)t[e]=n(r[e]);return"["+t.join(",")+"]"}};var Da={show:qE};var BE=function(n){return n.showRecordFields},yi=function(){return function(){return function(n){var r=BE(n);return{show:function(t){return"{"+(r(Tn.value)(t)+"}")}}}}};var He={show:$E},Or={show:WE};var w=function(n){return n.show},Xc=function(n){return{show:UE(w(n))}},Iu=function(n){var r=Vr(n);return function(t){var e=BE(t);return function(a){var o=w(a);return{showRecordFields:function(u){return function(f){var c=e(Tn.value)(f),s=r(Tn.value),m=Se(s)(f);return" "+(s+(": "+(o(m)+(","+c))))}}}}}},bi=function(n){var r=Vr(n);return function(t){var e=w(t);return{showRecordFields:function(a){return function(o){var u=r(Tn.value),f=Se(u)(o);return" "+(u+(": "+(e(f)+" ")))}}}}};var _e=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Er=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Yc=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var Hu=function(){function n(){}return n.value=new n,n}(),GE=function(n){return n},Wg=function(n){return n},kE=function(n){return n.to};var $g=function(n){return n.from};var zE=W(q),D=function(){function n(){}return n.value=new n,n}(),v=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var VE=function(n){var r=x(n);return{append:function(t){return function(e){if(t instanceof D)return e;if(e instanceof D)return t;if(t instanceof v&&e instanceof v)return new v(r(t.value0)(e.value0));throw new Error("Failed pattern match at Data.Maybe (line 182, column 1 - line 185, column 43): "+[t.constructor.name,e.constructor.name])}}}};var Vm=function(n){return function(r){return function(t){if(t instanceof D)return n(void 0);if(t instanceof v)return r(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 250, column 1 - line 250, column 62): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},on=function(n){return function(r){return function(t){if(t instanceof D)return n;if(t instanceof v)return r(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},Je=on(!0)(U(!1)),so=on(!1)(U(!0));var In={map:function(n){return function(r){return r instanceof v?new v(n(r.value0)):D.value}}},YN=g(In);var JE=function(n){return Vm(n)(zE)},Un=function(n){return on(n)(zE)},Nt=function(){return function(n){if(n instanceof v)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}};var Qe=function(n){var r=H(n);return{eq:function(t){return function(e){return t instanceof D&&e instanceof D?!0:t instanceof v&&e instanceof v?r(t.value0)(e.value0):!1}}}};var Pu={apply:function(n){return function(r){if(n instanceof v)return YN(n.value0)(r);if(n instanceof D)return D.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[n.constructor.name,r.constructor.name])}},Functor0:function(){return In}};var hr={bind:function(n){return function(r){if(n instanceof v)return r(n.value0);if(n instanceof D)return D.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[n.constructor.name,r.constructor.name])}},Apply0:function(){return Pu}};var pe=function(){return{pure:v.create,Apply0:function(){return Pu}}}();var ZN={alt:function(n){return function(r){return n instanceof D?r:n}},Functor0:function(){return In}},nO=function(){return{empty:D.value,Alt0:function(){return ZN}}}(),Ti={Applicative0:function(){return pe},Plus1:function(){return nO}};var j=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),K=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),QE=function(n){var r=w(n);return function(t){var e=w(t);return{show:function(a){if(a instanceof j)return"(Left "+(r(a.value0)+")");if(a instanceof K)return"(Right "+(e(a.value0)+")");throw new Error("Failed pattern match at Data.Either (line 173, column 1 - line 175, column 46): "+[a.constructor.name])}}}};var h_=function(n){return on(new j(n))(K.create)};var ga={map:function(n){return function(r){if(r instanceof j)return new j(r.value0);if(r instanceof K)return new K(n(r.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[r.constructor.name])}}},rO=g(ga);var jE=function(n){return function(r){return r instanceof j?r.value0:n}};var Wr=function(n){return function(r){return function(t){if(t instanceof j)return n(t.value0);if(t instanceof K)return r(t.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},Jm=function(){return Wr(U(D.value))(v.create)}();var KE=Wr(U(!1))(U(!0));var XE={apply:function(n){return function(r){if(n instanceof j)return new j(n.value0);if(n instanceof K)return rO(n.value0)(r);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,r.constructor.name])}},Functor0:function(){return ga}};var Ci={bind:Wr(function(n){return function(r){return new j(n)}})(function(n){return function(r){return r(n)}}),Apply0:function(){return XE}};var me=function(){return{pure:K.create,Apply0:function(){return XE}}}(),qg={Applicative0:function(){return me},Bind1:function(){return Ci}};var y_=function(n){return n.extract};var Zc=function(n){return n.defer};var ZE=function(n){return function(r){return n&&r}},nM=function(n){return function(r){return n||r}},rM=function(n){return!n};var ha=function(n){return n.tt};var At=function(n){return n.not};var jm=function(n){return n.implies};var ya=function(n){return n.ff};var ba=function(n){return n.disj},tt={ff:!1,tt:!0,implies:function(n){return function(r){return ba(tt)(At(tt)(n))(r)}},conj:ZE,disj:nM,not:rM};var je=function(n){return n.conj},Ei=function(n){var r=ya(n),t=ha(n),e=jm(n),a=je(n),o=ba(n),u=At(n);return{ff:function(f){return r},tt:function(f){return t},implies:function(f){return function(c){return function(s){return e(f(s))(c(s))}}},conj:function(f){return function(c){return function(s){return a(f(s))(c(s))}}},disj:function(f){return function(c){return function(s){return o(f(s))(c(s))}}},not:function(f){return function(c){return u(f(c))}}}};var tM=function(n){return Math.min(Math.abs(n),2147483647)},eM=function(n){return function(r){return r===0?0:r>0?Math.floor(n/r):-Math.floor(n/-r)}},aM=function(n){return function(r){if(r===0)return 0;var t=Math.abs(r);return(n%t+t)%t}};var oM={Ring0:function(){return IE}};var Uf=function(n){return n.mod};var Pe={degree:tM,div:eM,mod:aM,CommutativeRing0:function(){return oM}},Ta=function(n){return n.div};var uO=Uf(Pe),uM=Ta(Pe);var It={mempty:"",Semigroup0:function(){return m_}};var Sn=function(n){return n.mempty},T_=function(n){var r=Sn(n),t=Wm(n.Semigroup0());return{mempty:function(e){return r},Semigroup0:function(){return t}}};var Bg=function(n){var r=Sn(n),t=x(n.Semigroup0());return function(e){var a=function(o){if(o<=0)return r;if(o===1)return e;if(uO(o)(2)===0){var u=a(uM(o)(2));return t(u)(u)}if(kn){var u=a(uM(o)(2));return t(u)(t(u)(e))}throw new Error("Failed pattern match at Data.Monoid (line 88, column 3 - line 88, column 17): "+[o.constructor.name])};return a}};var h=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Jo=function(n){return function(r){return n(r.value0)(r.value1)}};var yr=function(n){return n.value1},Km=function(n){var r=w(n);return function(t){var e=w(t);return{show:function(a){return"(Tuple "+(r(a.value0)+(" "+(e(a.value1)+")")))}}}},iO=function(n){var r=Rt(n),t=pa(n),e=se(n),a=Ae(n);return function(o){var u=Rt(o),f=se(o);return{add:function(c){return function(s){return new h(r(c.value0)(s.value0),u(c.value1)(s.value1))}},one:new h(t,pa(o)),mul:function(c){return function(s){return new h(e(c.value0)(s.value0),f(c.value1)(s.value1))}},zero:new h(a,Ae(o))}}};var iM=function(n){var r=x(n);return function(t){var e=x(t);return{append:function(a){return function(o){return new h(r(a.value0)(o.value0),e(a.value1)(o.value1))}}}}},fM=function(n){var r=gi(n),t=iO(n.Semiring0());return function(e){var a=gi(e),o=t(e.Semiring0());return{sub:function(u){return function(f){return new h(r(u.value0)(f.value0),a(u.value1)(f.value1))}},Semiring0:function(){return o}}}};var Qo={map:function(n){return function(r){return new h(r.value0,n(r.value1))}}};var et=function(n){return n.value0};var Xm=function(n){var r=H(n);return function(t){var e=H(t);return{eq:function(a){return function(o){return r(a.value0)(o.value0)&&e(a.value1)(o.value1)}}}}},C_=function(n){var r=G(n),t=Xm(n.Eq0());return function(e){var a=G(e),o=t(e.Eq0());return{compare:function(u){return function(f){var c=r(u.value0)(f.value0);return c instanceof A?A.value:c instanceof I?I.value:a(u.value1)(f.value1)}},Eq0:function(){return o}}}};var fO=W(q),xe=function(n){return n.bimap},xu=function(n){var r=xe(n);return function(t){return r(t)(fO)}};var Mi={bimap:function(n){return function(r){return function(t){return new h(n(t.value0),r(t.value1))}}}},wi={bimap:function(n){return function(r){return function(t){if(t instanceof j)return new j(n(t.value0));if(t instanceof K)return new K(r(t.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 32, column 1 - line 34, column 36): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}}};var kg=function(n){return n};var vO={append:function(n){return function(r){return n instanceof v?n:r}}};var zg=function(){return{mempty:D.value,Semigroup0:function(){return vO}}}();var nl=function(n){return n};var dO=function(n){var r=je(n);return{append:function(t){return function(e){return r(t)(e)}}}};var Zm=function(n){var r=dO(n);return{mempty:ha(n),Semigroup0:function(){return r}}};var tl=function(n){return n};var DO=function(n){var r=ba(n);return{append:function(t){return function(e){return r(t)(e)}}}};var nv=function(n){var r=DO(n);return{mempty:ya(n),Semigroup0:function(){return r}}};var L=function(n){return n};var _o=function(){return L};var w_=_o(),Vg=function(){return w_};var rr=function(){return w_};var tv=function(){return function(){return function(n){return w_}}};var ol=function(){return function(){return function(n){return w_}}};var ul=function(){return function(){return function(){return function(){return function(n){return w_}}}}};var gO=W(q);var lM=ul()()()(),er=function(n){return n.foldr};var Zn=function(n){var r=di(n.Apply0()),t=y(n);return function(e){var a=er(e);return function(o){return a(function(u){return r(o(u))})(t(void 0))}}},Ht=function(n){var r=Zn(n);return function(t){return rn(r(t))}};var Nn=function(n){return n.foldl},sM=function(n){var r=Nn(n);return function(t){var e=function(o){return function(u){if(o.elem instanceof v)return o;var f=o.pos===t;return f?{elem:new v(u),pos:o.pos}:{pos:o.pos+1|0,elem:o.elem}}},a=r(e)({elem:D.value,pos:0});return function(o){return function(u){return u.elem}(a(o))}}},Ca=function(n){var r=Nn(n);return function(t){var e=x(t.Semigroup0()),a=Sn(t);return function(o){return function(u){var f=function(c){return function(s){return c.init?{init:!1,acc:s}:{init:!1,acc:e(c.acc)(e(o)(s))}}};return r(f)({init:!0,acc:a})(u).acc}}}},ev=function(n){var r=Nn(n);return function(t){var e=Rt(t),a=pa(t);return r(function(o){return function(u){return e(a)(o)}})(Ae(t))}};var av=function(n){var r=Nn(n);return function(t){return r(Rt(t))(Ae(t))}};var Wn={foldr:function(n){return function(r){return function(t){if(t instanceof D)return r;if(t instanceof v)return n(t.value0)(r);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},foldl:function(n){return function(r){return function(t){if(t instanceof D)return r;if(t instanceof v)return n(r)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},foldMap:function(n){var r=Sn(n);return function(t){return function(e){if(e instanceof D)return r;if(e instanceof v)return t(e.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name])}}}};var Fi={foldr:function(n){return function(r){return function(t){if(t instanceof j)return r;if(t instanceof K)return n(t.value0)(r);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},foldl:function(n){return function(r){return function(t){if(t instanceof j)return r;if(t instanceof K)return n(r)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[n.constructor.name,r.constructor.name,t.constructor.name])}}},foldMap:function(n){var r=Sn(n);return function(t){return function(e){if(e instanceof j)return r;if(e instanceof K)return t(e.value0);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[t.constructor.name,e.constructor.name])}}}};var _M=function(n){var r=er(n);return function(t){var e=x(t.Semigroup0()),a=Sn(t);return function(o){return r(function(u){return function(f){return e(o(u))(f)}})(a)}}},ln={foldr:fE,foldl:cE,foldMap:function(n){return _M(ln)(n)}};var ar=function(n){return n.foldMap};var Bf=function(n){var r=ar(n);return function(t){return r(t)(gO)}};var fl=function(n){var r=Nn(n);return function(t){var e=function(a){return function(o){return a instanceof D&&t(o)?new v(o):a}};return r(e)(D.value)}},Li=function(n){var r=ar(n);return function(t){return lM(tl)(r(nv(t)))}};var Nu=function(n){var r=ar(n);return function(t){return lM(nl)(r(Zm(t)))}};var pM=function(n){return function(){return n}},mM=function(n){return function(r){return function(){return r(n())()}}};var Kg=function(n){var r=b(n.Bind1()),t=Nr(n.Applicative0());return function(e){return function(a){return r(e)(function(o){return t(o)(a)})}}},vM=function(n){var r=b(n.Bind1()),t=io(n.Applicative0());return function(e){return function(a){return r(e)(function(o){return t(o)(a)})}}};var re=function(n){var r=b(n.Bind1()),t=y(n.Applicative0());return function(e){return function(a){return r(e)(function(o){return r(a)(function(u){return t(o(u))})})}}};var dM=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},Ou={Applicative0:function(){return ir},Bind1:function(){return Ur}},Ur={bind:mM,Apply0:function(){return Xg(0)}},ir={pure:pM,Apply0:function(){return Xg(0)}},DM=dM("functorEffect","Effect",function(){return{map:s_(ir)}}),Xg=dM("applyEffect","Effect",function(){return{apply:re(Ou),Functor0:function(){return DM(0)}}}),bn=DM(20),Yg=Xg(23);var kt=function(){var n={},r="Pure",t="Throw",e="Catch",a="Sync",o="Async",u="Bind",f="Bracket",c="Fork",s="Sequential",m="Map",l="Apply",_="Alt",p="Cons",i="Resume",d="Release",M="Finalizer",O="Finalized",_n="Forked",Q="Fiber",V="Thunk";function S(dn,nr,Yr,_r){this.tag=dn,this._1=nr,this._2=Yr,this._3=_r}function Pn(dn){var nr=function(Yr,_r,En){return new S(dn,Yr,_r,En)};return nr.tag=dn,nr}function xr(dn){return new S(r,void 0)}function Fu(dn){try{dn()}catch(nr){setTimeout(function(){throw nr},0)}}function Pf(dn,nr,Yr){try{return nr(Yr())}catch(_r){return dn(_r)}}function _i(dn,nr,Yr){try{return nr(Yr)()}catch(_r){return Yr(dn(_r))(),xr}}var pi=function(){var dn=1024,nr=0,Yr=0,_r=new Array(dn),En=!1;function X(){var lr;for(En=!0;nr!==0;)nr--,lr=_r[Yr],_r[Yr]=void 0,Yr=(Yr+1)%dn,lr();En=!1}return{isDraining:function(){return En},enqueue:function(lr){var qn,kr;nr===dn&&(kr=En,X(),En=kr),_r[(Yr+nr)%dn]=lr,nr++,En||X()}}}();function yN(dn){var nr={},Yr=0,_r=0;return{register:function(En){var X=Yr++;En.onComplete({rethrow:!0,handler:function(lr){return function(){_r--,delete nr[X]}}})(),nr[X]=En,_r++},isEmpty:function(){return _r===0},killAll:function(En,X){return function(){if(_r===0)return X();var lr=0,qn={};function kr(gr){qn[gr]=nr[gr].kill(En,function(ft){return function(){delete qn[gr],lr--,dn.isLeft(ft)&&dn.fromLeft(ft)&&setTimeout(function(){throw dn.fromLeft(ft)},0),lr===0&&X()}})()}for(var Bt in nr)nr.hasOwnProperty(Bt)&&(lr++,kr(Bt));return nr={},Yr=0,_r=0,function(gr){return new S(a,function(){for(var ft in qn)qn.hasOwnProperty(ft)&&qn[ft]()})}}}}}var zc=0,ze=1,Hm=2,Pm=3,xm=4,la=5,u_=6;function Sg(dn,nr,Yr){var _r=0,En=zc,X=Yr,lr=null,qn=null,kr=null,Bt=null,gr=null,ft=0,xf=0,Oa=null,mi=!0;function vi(Mn){for(var wn,Kn,Yn;;)switch(wn=null,Kn=null,Yn=null,En){case Hm:En=ze;try{X=kr(X),Bt===null?kr=null:(kr=Bt._1,Bt=Bt._2)}catch(ne){En=la,lr=dn.left(ne),X=null}break;case Pm:dn.isLeft(X)?(En=la,lr=X,X=null):kr===null?En=la:(En=Hm,X=dn.fromRight(X));break;case ze:switch(X.tag){case u:kr&&(Bt=new S(p,kr,Bt)),kr=X._2,En=ze,X=X._1;break;case r:kr===null?(En=la,X=dn.right(X._1)):(En=Hm,X=X._1);break;case a:En=Pm,X=Pf(dn.left,dn.right,X._1);break;case o:En=xm,X=_i(dn.left,X._1,function(ne){return function(){_r===Mn&&(_r++,pi.enqueue(function(){_r===Mn+1&&(En=Pm,X=ne,vi(_r))}))}});return;case t:En=la,lr=dn.left(X._1),X=null;break;case e:kr===null?gr=new S(p,X,gr,qn):gr=new S(p,X,new S(p,new S(i,kr,Bt),gr,qn),qn),kr=null,Bt=null,En=ze,X=X._1;break;case f:ft++,kr===null?gr=new S(p,X,gr,qn):gr=new S(p,X,new S(p,new S(i,kr,Bt),gr,qn),qn),kr=null,Bt=null,En=ze,X=X._1;break;case c:En=Pm,wn=Sg(dn,nr,X._2),nr&&nr.register(wn),X._1&&wn.run(),X=dn.right(wn);break;case s:En=ze,X=TN(dn,nr,X._1);break}break;case la:if(kr=null,Bt=null,gr===null)En=u_,X=qn||lr||X;else switch(wn=gr._3,Yn=gr._1,gr=gr._2,Yn.tag){case e:qn&&qn!==wn&&ft===0?En=la:lr&&(En=ze,X=Yn._2(dn.fromLeft(lr)),lr=null);break;case i:qn&&qn!==wn&&ft===0||lr?En=la:(kr=Yn._1,Bt=Yn._2,En=Hm,X=dn.fromRight(X));break;case f:ft--,lr===null&&(Kn=dn.fromRight(X),gr=new S(p,new S(d,Yn._2,Kn),gr,wn),(qn===wn||ft>0)&&(En=ze,X=Yn._3(Kn)));break;case d:gr=new S(p,new S(O,X,lr),gr,qn),En=ze,qn&&qn!==wn&&ft===0?X=Yn._1.killed(dn.fromLeft(qn))(Yn._2):lr?X=Yn._1.failed(dn.fromLeft(lr))(Yn._2):X=Yn._1.completed(dn.fromRight(X))(Yn._2),lr=null,ft++;break;case M:ft++,gr=new S(p,new S(O,X,lr),gr,qn),En=ze,X=Yn._1;break;case O:ft--,En=la,X=Yn._1,lr=Yn._2;break}break;case u_:for(var nt in Oa)Oa.hasOwnProperty(nt)&&(mi=mi&&Oa[nt].rethrow,Fu(Oa[nt].handler(X)));Oa=null,qn&&lr?setTimeout(function(){throw dn.fromLeft(lr)},0):dn.isLeft(X)&&mi&&setTimeout(function(){if(mi)throw dn.fromLeft(X)},0);return;case zc:En=ze;break;case xm:return}}function Zr(Mn){return function(){if(En===u_)return mi=mi&&Mn.rethrow,Mn.handler(X)(),function(){};var wn=xf++;return Oa=Oa||{},Oa[wn]=Mn,function(){Oa!==null&&delete Oa[wn]}}}function Fn(Mn,wn){return function(){if(En===u_)return wn(dn.right(void 0))(),function(){};var Kn=Zr({rethrow:!1,handler:function(){return wn(dn.right(void 0))}})();switch(En){case zc:qn=dn.left(Mn),En=u_,X=qn,vi(_r);break;case xm:qn===null&&(qn=dn.left(Mn)),ft===0&&(En===xm&&(gr=new S(p,new S(M,X(Mn)),gr,qn)),En=la,X=null,lr=null,vi(++_r));break;default:qn===null&&(qn=dn.left(Mn)),ft===0&&(En=la,X=null,lr=null)}return Kn}}function Gn(Mn){return function(){var wn=Zr({rethrow:!1,handler:Mn})();return En===zc&&vi(_r),wn}}return{kill:Fn,join:Gn,onComplete:Zr,isSuspended:function(){return En===zc},run:function(){En===zc&&(pi.isDraining()?vi(_r):pi.enqueue(function(){vi(_r)}))}}}function bN(dn,nr,Yr,_r){var En=0,X={},lr=0,qn={},kr=new Error("[ParAff] Early exit"),Bt=null,gr=n;function ft(Zr,Fn,Gn){var Mn=Fn,wn=null,Kn=null,Yn=0,nt={},ne,i_;n:for(;;)switch(ne=null,Mn.tag){case _n:if(Mn._3===n&&(ne=X[Mn._1],nt[Yn++]=ne.kill(Zr,function(CN){return function(){Yn--,Yn===0&&Gn(CN)()}})),wn===null)break n;Mn=wn._2,Kn===null?wn=null:(wn=Kn._1,Kn=Kn._2);break;case m:Mn=Mn._2;break;case l:case _:wn&&(Kn=new S(p,wn,Kn)),wn=Mn,Mn=Mn._1;break}if(Yn===0)Gn(dn.right(void 0))();else for(i_=0,ne=Yn;i_<ne;i_++)nt[i_]=nt[i_]();return nt}function xf(Zr,Fn,Gn){var Mn,wn,Kn,Yn,nt,ne;for(dn.isLeft(Zr)?(Mn=Zr,wn=null):(wn=Zr,Mn=null);;){if(Kn=null,Yn=null,nt=null,ne=null,Bt!==null)return;if(Fn===null){_r(Mn||wn)();return}if(Fn._3!==n)return;switch(Fn.tag){case m:Mn===null?(Fn._3=dn.right(Fn._1(dn.fromRight(wn))),wn=Fn._3):Fn._3=Mn;break;case l:if(Kn=Fn._1._3,Yn=Fn._2._3,Mn){if(Fn._3=Mn,nt=!0,ne=lr++,qn[ne]=ft(kr,Mn===Kn?Fn._2:Fn._1,function(){return function(){delete qn[ne],nt?nt=!1:Gn===null?xf(Mn,null,null):xf(Mn,Gn._1,Gn._2)}}),nt){nt=!1;return}}else{if(Kn===n||Yn===n)return;wn=dn.right(dn.fromRight(Kn)(dn.fromRight(Yn))),Fn._3=wn}break;case _:if(Kn=Fn._1._3,Yn=Fn._2._3,Kn===n&&dn.isLeft(Yn)||Yn===n&&dn.isLeft(Kn))return;if(Kn!==n&&dn.isLeft(Kn)&&Yn!==n&&dn.isLeft(Yn))Mn=wn===Kn?Yn:Kn,wn=null,Fn._3=Mn;else if(Fn._3=wn,nt=!0,ne=lr++,qn[ne]=ft(kr,wn===Kn?Fn._2:Fn._1,function(){return function(){delete qn[ne],nt?nt=!1:Gn===null?xf(wn,null,null):xf(wn,Gn._1,Gn._2)}}),nt){nt=!1;return}break}Gn===null?Fn=null:(Fn=Gn._1,Gn=Gn._2)}}function Oa(Zr){return function(Fn){return function(){delete X[Zr._1],Zr._3=Fn,xf(Fn,Zr._2._1,Zr._2._2)}}}function mi(){var Zr=ze,Fn=Yr,Gn=null,Mn=null,wn,Kn;n:for(;;)switch(wn=null,Kn=null,Zr){case ze:switch(Fn.tag){case m:Gn&&(Mn=new S(p,Gn,Mn)),Gn=new S(m,Fn._1,n,n),Fn=Fn._2;break;case l:Gn&&(Mn=new S(p,Gn,Mn)),Gn=new S(l,n,Fn._2,n),Fn=Fn._1;break;case _:Gn&&(Mn=new S(p,Gn,Mn)),Gn=new S(_,n,Fn._2,n),Fn=Fn._1;break;default:Kn=En++,Zr=la,wn=Fn,Fn=new S(_n,Kn,new S(p,Gn,Mn),n),wn=Sg(dn,nr,wn),wn.onComplete({rethrow:!1,handler:Oa(Fn)})(),X[Kn]=wn,nr&&nr.register(wn)}break;case la:if(Gn===null)break n;Gn._1===n?(Gn._1=Fn,Zr=ze,Fn=Gn._2,Gn._2=n):(Gn._2=Fn,Fn=Gn,Mn===null?Gn=null:(Gn=Mn._1,Mn=Mn._2))}for(gr=Fn,Kn=0;Kn<En;Kn++)X[Kn].run()}function vi(Zr,Fn){Bt=dn.left(Zr);var Gn;for(var Mn in qn)if(qn.hasOwnProperty(Mn)){Gn=qn[Mn];for(Mn in Gn)Gn.hasOwnProperty(Mn)&&Gn[Mn]()}qn=null;var wn=ft(Zr,gr,Fn);return function(Kn){return new S(o,function(Yn){return function(){for(var nt in wn)wn.hasOwnProperty(nt)&&wn[nt]();return xr}})}}return mi(),function(Zr){return new S(o,function(Fn){return function(){return vi(Zr,Fn)}})}}function TN(dn,nr,Yr){return new S(o,function(_r){return function(){return bN(dn,nr,Yr,_r)}})}return S.EMPTY=n,S.Pure=Pn(r),S.Throw=Pn(t),S.Catch=Pn(e),S.Sync=Pn(a),S.Async=Pn(o),S.Bind=Pn(u),S.Bracket=Pn(f),S.Fork=Pn(c),S.Seq=Pn(s),S.ParMap=Pn(m),S.ParApply=Pn(l),S.ParAlt=Pn(_),S.Fiber=Sg,S.Supervisor=yN,S.Scheduler=pi,S.nonCanceler=xr,S}(),gM=kt.Pure,hM=kt.Throw;function yM(n){return function(r){return kt.Catch(n,r)}}function bM(n){return function(r){return r.tag===kt.Pure.tag?kt.Pure(n(r._1)):kt.Bind(r,function(t){return kt.Pure(n(t))})}}function TM(n){return function(r){return kt.Bind(n,r)}}function Zg(n){return function(r){return kt.Fork(n,r)}}var CM=kt.Sync;function EM(n){return function(r){return kt.ParMap(n,r)}}function MM(n){return function(r){return kt.ParApply(n,r)}}var cl=kt.Async;function ov(n){return function(r){return function(t){return kt.Bracket(n,r,t)}}}function wM(n,r){return function(){return kt.Fiber(n,null,r)}}var FM=function(){function n(t,e){return t===0&&typeof setImmediate<"u"?setImmediate(e):setTimeout(e,t)}function r(t,e){return t===0&&typeof clearImmediate<"u"?clearImmediate(e):clearTimeout(e)}return function(t,e){return kt.Async(function(a){return function(){var o=n(e,a(t()));return function(){return kt.Sync(function(){return t(r(e,o))})}}})}}(),LM=kt.Seq;function $a(n){return new Error(n)}function Si(n){return function(){throw n}}var uv=function(n){return Si($a(n))};var pr=function(n){return n.throwError};var AM=function(){return{throwError:j.create,Monad0:function(){return qg}}}();var nh=function(n){return Wr(pr(n))(y(n.Monad0().Applicative0()))},po=function(n){return n.catchError};var rh=function(n){var r=po(n),t=n.MonadThrow0().Monad0(),e=g(t.Bind1().Apply0().Functor0()),a=y(t.Applicative0());return function(o){return r(e(K.create)(o))(function(u){return a(j.create(u))})}};var mo=function(n){return n};var F_={map:function(n){return function(r){return n(r)}}};var IM={apply:function(n){return function(r){return n(r)}},Functor0:function(){return F_}},CO={bind:function(n){return function(r){return r(n)}},Apply0:function(){return IM}},th={pure:mo,Apply0:function(){return IM}},qa={Applicative0:function(){return th},Bind1:function(){return CO}};var HM=function(n){return function(){return{value:n}}};var sn=function(n){return function(){return n.value}},PM=function(n){return function(r){return function(){var t=n(r.value);return r.value=t.state,t.value}}},Bn=function(n){return function(r){return function(){r.value=n}}};var MO=xn(bn),or=HM,eh=PM,xM=function(n){return eh(function(r){var t=n(r);return{state:t,value:t}})},Ea=function(n){return function(r){return MO(xM(n)(r))}};var FO=ur(Ur),LO=g(bn),ht=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),gt=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Xe=function(n){return n.tailRecM};var RM={tailRecM:function(n){return function(r){var t=function(e){if(e instanceof gt)return e.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 137, column 30 - line 137, column 44): "+[e.constructor.name])};return function(){var a=FO(or)(n(r))();return function(){for(;!function(){var u=sn(a)();if(u instanceof ht){var f=n(u.value0)();return Bn(f)(a)(),!1}if(u instanceof gt)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 128, column 22 - line 133, column 28): "+[u.constructor.name])}(););return{}}(),LO(t)(sn(a))()}}},Monad0:function(){return Ou}};var NM=function(n){var r=Xe(n),t=Vc(n.Monad0().Bind1().Apply0().Functor0());return function(e){return r(function(a){return t(new ht(a))(e)})(void 0)}};var OM=function(n){return function(r){return function(){return n(r())}}},WM=function(n){return function(){return n}},$M=function(n){return function(r){return function(){return r(n())()}}};function ah(n){return function(r){return function(t){return function(){for(var e=n;e<r;e++)t(e)()}}}}var HO=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}};var L_={map:OM};var oh={Applicative0:function(){return iv},Bind1:function(){return S_}},S_={bind:$M,Apply0:function(){return kM(0)}},iv={pure:WM,Apply0:function(){return kM(0)}},kM=HO("applyST","Control.Monad.ST.Internal",function(){return{apply:re(oh),Functor0:function(){return L_}}});var Ba=function(n){return n.ask},sl=function(n){var r=g(n.Monad0().Bind1().Apply0().Functor0()),t=Ba(n);return function(e){return r(e)(t)}};var Ma=function(n){return n.state},kf=function(n){var r=Ma(n);return function(t){return r(function(e){return new h(void 0,t)})}},de=function(n){var r=Ma(n);return function(t){return r(function(e){return new h(void 0,t(e))})}},zf=function(n){var r=Ma(n);return function(t){return r(function(e){var a=t(e);return new h(a,a)})}},Ne=function(n){var r=Ma(n);return function(t){return r(function(e){return new h(t(e),e)})}},Oe=function(n){return Ma(n)(function(r){return new h(r,r)})};var Dr=function(n){return n.lift};var vo={liftEffect:W(q),Monad0:function(){return Ou}},gn=function(n){return n.liftEffect};var xO=g(ga);var ih=function(n){return n};var vl=function(n){return n};var lv={lift:function(n){var r=b(n.Bind1()),t=y(n.Applicative0());return function(e){return r(e)(function(a){return t(new K(a))})}}},RO=Dr(lv),sv=function(n){return function(r){return n(r)}},fh=function(n){var r=g(n);return{map:function(t){return sv(r(xO(t)))}}};var dl=function(n){return{Applicative0:function(){return lh(n)},Bind1:function(){return ch(n)}}},ch=function(n){var r=b(n.Bind1()),t=y(n.Applicative0());return{bind:function(e){return function(a){return r(e)(Wr(function(o){return t(j.create(o))})(function(o){var u=a(o);return u}))}},Apply0:function(){return zM(n)}}},zM=function(n){var r=fh(n.Bind1().Apply0().Functor0());return{apply:re(dl(n)),Functor0:function(){return r}}},lh=function(n){return{pure:function(){var r=y(n.Applicative0());return function(t){return ih(r(K.create(t)))}}(),Apply0:function(){return zM(n)}}};var VM=function(n){var r=n.Monad0(),t=RO(r),e=Ma(n),a=dl(r);return{state:function(o){return t(e(o))},Monad0:function(){return a}}};var sh=function(n){var r=dl(n);return{throwError:function(){var t=y(n.Applicative0());return function(e){return ih(t(j.create(e)))}}(),Monad0:function(){return r}}},_v=function(n){var r=b(n.Bind1()),t=y(n.Applicative0()),e=sh(n);return{catchError:function(a){return function(o){return r(a)(Wr(function(u){var f=o(u);return f})(function(u){return t(K.create(u))}))}},MonadThrow0:function(){return e}}};var JM=function(n){var r=x(n);return function(t){var e=t.Bind1(),a=b(e),o=y(t.Applicative0()),u=fh(e.Apply0().Functor0());return{alt:function(f){return function(c){return a(f)(function(s){if(s instanceof K)return o(new K(s.value0));if(s instanceof j)return a(c)(function(m){if(m instanceof K)return o(new K(m.value0));if(m instanceof j)return o(new j(r(s.value0)(m.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[m.constructor.name])});throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[s.constructor.name])})}},Functor0:function(){return u}}}};var KM=function(n){return n};var H_=function(n){return n};var Dl={lift:function(n){return function(r){return KM(U(r))}}},OO=Dr(Dl),ph=function(n){return function(r){return function(t){return n(r(t))}}},mv=function(n){return{map:function(){var r=g(n);return function(t){return ph(r(t))}}()}};var vv=function(n){var r=hn(n),t=mv(n.Functor0());return{apply:function(e){return function(a){return function(o){return r(e(o))(a(o))}}},Functor0:function(){return t}}},dv=function(n){var r=b(n),t=vv(n.Apply0());return{bind:function(e){return function(a){return function(o){return r(e(o))(function(u){var f=a(u);return f(o)})}}},Apply0:function(){return t}}};var Dv=function(n){var r=vv(n.Apply0());return{pure:function(){var t=y(n);return function(e){return KM(U(t(e)))}}(),Apply0:function(){return r}}},Vf=function(n){var r=Dv(n.Applicative0()),t=dv(n.Bind1());return{Applicative0:function(){return r},Bind1:function(){return t}}},gv=function(n){var r=Vf(n);return{ask:y(n.Applicative0()),Monad0:function(){return r}}};var Jf=function(n){var r=n.Monad0(),t=Vf(r);return{liftEffect:function(){var e=OO(r),a=gn(n);return function(o){return e(a(o))}}(),Monad0:function(){return t}}};var WO=W(q);var x_={dimap:function(n){return function(r){return function(t){return function(e){return r(t(n(e)))}}}}},Vt=function(n){return n.dimap};var vh=function(n){var r=Vt(n);return function(t){return r(WO)(t)}};var gl=function(n){return n.sequential},Ai=function(n){return n.parallel};var nw=function(){function n(a){return[a]}function r(a){return function(o){return[a,o]}}function t(a){return function(o){return function(u){return[a,o,u]}}}function e(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(f){return function(c){function s(m,l){switch(l-m){case 0:return u([]);case 1:return o(n)(f(c[m]));case 2:return a(o(r)(f(c[m])))(f(c[m+1]));case 3:return a(a(o(t)(f(c[m])))(f(c[m+1])))(f(c[m+2]));default:var _=m+Math.floor((l-m)/4)*2;return a(o(e)(s(m,_)))(s(_,l))}}return s(0,c.length)}}}}}}();var bW=W(q),Mr=function(n){return n.traverse};var bh={traverse:function(n){var r=y(n),t=g(n.Apply0().Functor0());return function(e){return function(a){if(a instanceof D)return r(D.value);if(a instanceof v)return t(v.create)(e(a.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[e.constructor.name,a.constructor.name])}}},sequence:function(n){var r=y(n),t=g(n.Apply0().Functor0());return function(e){if(e instanceof D)return r(D.value);if(e instanceof v)return t(v.create)(e.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[e.constructor.name])}},Functor0:function(){return In},Foldable1:function(){return Wn}};var cw=function(n){var r=Mr(n);return function(t){return r(t)(bW)}},Jt={traverse:function(n){var r=n.Apply0();return nw(hn(r))(g(r.Functor0()))(y(n))},sequence:function(n){return cw(Jt)(n)},Functor0:function(){return zn},Foldable1:function(){return ln}},Fa=function(n){return n.sequence};var Ko=function(n){return function(r){var t=Mr(r)(n);return function(e){return function(a){return t(a)(e)}}}};var TW=W(q),CW=function(n){var r=gl(n),t=Zn(n.Applicative1()),e=Ai(n);return function(a){var o=t(a);return function(u){var f=o(function(c){return e(u(c))});return function(c){return r(f(c))}}}};var N_=function(n){var r=CW(n);return function(t){return r(t)(TW)}};var lw=ol()();var EW=function(n){return n};var sw=function(n){return n};var _w={append:function(n){return function(r){return n+r}}};var Cv=function(n){return n.fromDuration};var pw={fromDuration:lw(EW)(function(n){return n*1e3}),toDuration:lw(sw)(function(n){return n/1e3})};var O_=function(n){return n()};var mw=function(n){return n()};var vw=function(n){throw new Error(n)};var dw=function(){return vw};var LW=dw(),SW=mw,Xo=function(n){return SW(function(){return LW(n)})};var Dw=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},AW=y(ir),gw=xn(bn),hw=g(bn);var IW=function(n){return n},yw=Zg(!1);var HW={map:EM},ka={map:bM},PW=g(ka),yl=Zg(!0),xW=function(){var n=function(e){if(e instanceof K)return e.value0;if(e instanceof j)return Xo("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): "+[e.constructor.name])},r=function(e){if(e instanceof j)return e.value0;if(e instanceof K)return Xo("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): "+[e.constructor.name])},t=function(e){if(e instanceof j)return!0;if(e instanceof K)return!1;throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): "+[e.constructor.name])};return{isLeft:t,fromLeft:r,fromRight:n,left:j.create,right:K.create}}(),bw=function(n){return wM(xW,n)},RW=function(n){return function(){var t=bw(n)();return t.run(),t}};var $u=function(n){return FM(K.create,n)},NW=function(n){return function(r){return ov(n)({killed:U(r),failed:U(r),completed:U(r)})}},OW={apply:MM,Functor0:function(){return HW}};var Yo={Applicative0:function(){return lt},Bind1:function(){return wr}},wr={bind:TM,Apply0:function(){return Tw(0)}},lt={pure:gM,Apply0:function(){return Tw(0)}},Tw=Dw("applyAff","Effect.Aff",function(){return{apply:re(Yo),Functor0:function(){return ka}}});var wv=y(lt),Cw=b(wr);var WW=ur(wr);var Ew=function(n){return function(r){return NW(wv(void 0))(U(n))(U(r))}};var st={liftEffect:CM,Monad0:function(){return Yo}},Mv=gn(st),Fv=function(n){return IW(U(Mv(n)))},W_=function(n){return cl(function(r){return hw(Fv)(n.join(r))})},Mw={map:function(n){return function(r){return O_(bw(PW(n)(W_(r))))}}};var $_=function(n){return function(r){return Cw(Mv(r.isSuspended))(function(t){return t?Mv(gw(r.kill(n,U(AW(void 0))))):cl(function(e){return hw(Fv)(r.kill(n,e))})})}};var q_={throwError:hM,Monad0:function(){return Yo}},ww={catchError:yM,MonadThrow0:function(){return q_}},$W=rh(ww);var qW=function(n){return function(r){return RW(WW(function(t){return Mv(n(t))})($W(r)))}},Lv=function(n){return function(r){return gw(qW(n)(r))}};var Qf={parallel:L,sequential:LM,Monad0:function(){return Yo},Applicative1:function(){return Fw(0)}},Fw=Dw("applicativeParAff","Effect.Aff",function(){return{pure:function(){var n=Ai(Qf);return function(r){return n(wv(r))}}(),Apply0:function(){return OW}}}),Eh=Fw(136);var Sv={tailRecM:function(n){var r=function(t){return Cw(n(t))(function(e){if(e instanceof gt)return wv(e.value0);if(e instanceof ht)return r(e.value0);throw new Error("Failed pattern match at Effect.Aff (line 104, column 7 - line 106, column 23): "+[e.constructor.name])})};return r},Monad0:function(){return Yo}};var Lw=U(wv(void 0));var Do=function(n){var r=null;return function(){return n===void 0||(r=n(),n=void 0),r}},jf=function(n){return n()};var Av={map:function(n){return function(r){return Do(function(t){return n(jf(r))})}}};var Mh=function(n){return n};var Pv={lift:function(n){var r=b(n.Bind1()),t=y(n.Applicative0());return function(e){return function(a){return r(e)(function(o){return t(new h(o,a))})}}}},kW=Dr(Pv);var Aw=function(n){var r=g(n);return{map:function(t){return function(e){return function(a){return r(function(o){return new h(t(o.value0),o.value1)})(e(a))}}}}};var xv=function(n){return{Applicative0:function(){return Iw(n)},Bind1:function(){return Rv(n)}}},Rv=function(n){var r=b(n.Bind1());return{bind:function(t){return function(e){return function(a){return r(t(a))(function(o){var u=e(o.value0);return u(o.value1)})}}},Apply0:function(){return wh(n)}}},wh=function(n){var r=Aw(n.Bind1().Apply0().Functor0());return{apply:re(xv(n)),Functor0:function(){return r}}},Iw=function(n){var r=y(n.Applicative0());return{pure:function(t){return function(e){return r(new h(t,e))}},Apply0:function(){return wh(n)}}};var bl=function(n){var r=y(n.Applicative0()),t=xv(n);return{state:function(e){return function(a){return r(e(a))}},Monad0:function(){return t}}};var Hw=function(n){var r=n.Monad0(),t=kW(r),e=pr(n),a=xv(r);return{throwError:function(o){return t(e(o))},Monad0:function(){return a}}},Pw=function(n){var r=po(n),t=Hw(n.MonadThrow0());return{catchError:function(e){return function(a){return function(o){return r(e(o))(function(u){var f=a(u);return f(o)})}}},MonadThrow0:function(){return t}}};var ZW=Dr(Dl);var U_={liftAff:W(q),MonadEffect0:function(){return st}},Ye=function(n){return n.liftAff};var Nv=function(n){var r=n.MonadEffect0(),t=Jf(r);return{liftAff:function(){var e=ZW(r.Monad0()),a=Ye(n);return function(o){return e(a(o))}}(),MonadEffect0:function(){return t}}};var Ov=function(n){return function(){console.log(n)}},B_=function(n){return function(){console.warn(n)}};var te=function(n){var r=gn(n);return function(t){return r(Ov(t))}};function Fh(n){return function(r){return function(){return n.add(r)}}}function Lh(n){return function(r){return function(){return n.remove(r)}}}function qw(n,r,t){return n==null?r:t(n)}function Sh(n){return n}var Uu=on(null)(Sh),vr=function(n){return qw(n,D.value,v.create)};var Wv=function(n){return function(r){return r[n]}},f$=Wv("namespaceURI"),c$=Wv("prefix"),Ah=Wv("localName"),l$=Wv("tagName");function Ih(n){return function(){return n.classList}}function Hh(n){return function(){return n.clientWidth}}function Cl(n){return function(){var r=n.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}}var $v=function(n){return function(r){return function(){return r[n]}}},_$=$v("children"),p$=$v("firstElementChild"),m$=$v("lastElementChild"),v$=$v("childElementCount");function Uw(n){return function(r){return function(){return r.querySelector(n)}}}function Ph(n){return function(r){return function(){return r.querySelectorAll(n)}}}var D$=g(bn);var Bw=function(n){var r=D$(vr),t=Uw(n);return function(e){return r(t(e))}};function kw(n,r,t,e){if(typeof window<"u"){var a=window[t];if(a!=null&&e instanceof a)return r(e)}for(var o=e;o!=null;){var u=Object.getPrototypeOf(o),f=u.constructor.name;if(f===t)return r(e);if(f==="Object")return n;o=u}return n}var en=function(n){return function(r){return kw(D.value,v.create,n,r)}};var xh=L;var zw=en("Element"),Rh=en("Element");var go=function(n){return function(r){return function(){return r[n]}}};function Nh(n){return n.nodeName}var b$=go("baseURI"),T$=go("ownerDocument"),Vw=go("parentNode"),C$=go("parentElement");var E$=go("childNodes"),M$=go("firstChild"),w$=go("lastChild"),F$=go("previousSibling"),Jw=go("nextSibling"),L$=go("nodeValue");var S$=go("textContent");function Oh(n){return function(r){return function(t){return function(){t.insertBefore(n,r)}}}}function Uv(n){return function(r){return function(){r.appendChild(n)}}}function Wh(n){return function(r){return function(){r.removeChild(n)}}}function Hi(n){return n.charCodeAt(0)}function Qw(n){return String.fromCharCode(n)}var Pi=function(n){var r=y(n.Applicative0()),t=ce(n.Plus1());return function(e){if(e)return r(void 0);if(!e)return t;throw new Error("Failed pattern match at Control.Alternative (line 48, column 1 - line 48, column 54): "+[e.constructor.name])}};var jw=function(n){return function(r){return function(t){return function(e){return function(a){return function(o){for(var u=[],f=o;;){var c=a(f);if(n(c))return u;var s=r(c);u.push(t(s)),f=e(s)}}}}}}};var Kw=function(n){return function(r){return function(t){return function(e){return function(a){return function(o){for(var u=[],f=o;;){var c=a(f);u.push(t(c));var s=e(c);if(n(s))return u;f=r(s)}}}}}}};var q$=Nt(),Ml=function(n){return n.unfoldr1};var V_={unfoldr1:Kw(Je)(q$)(et)(yr)},Xw=function(n){var r=Ml(n);return function(t){return function(e){var a=function(o){if(o<=0)return new h(e,D.value);if(kn)return new h(e,new v(o-1|0));throw new Error("Failed pattern match at Data.Unfoldable1 (line 68, column 5 - line 68, column 39): "+[o.constructor.name])};return r(a)(t-1|0)}}};var qh=function(n){return Xw(n)(1)};var U$=Nt(),We=function(n){return n.unfoldr};var Qt={unfoldr:jw(Je)(U$)(et)(yr),Unfoldable10:function(){return V_}};var G$=b(hr),k$=sa(In),z$=Pi(Ti);var Yw=va(g_),Zw=ma(g_);var Jr=function(n){return n.toEnum},nF=function(n){return n.succ};var rF=function(n){return n.pred};var $r=function(n){return n.fromEnum};var tF=function(n){var r=n.Ord0(),t=H(r.Eq0()),e=Of(r),a=nF(n),o=Gm(r),u=rF(n),f=xE(r);return function(c){var s=qh(c),m=Ml(c),l=function(_){return function(p){return function(i){return function(d){return new h(d,G$(_(d))(function(M){return k$(z$(p(M)(i)))(M)}))}}}};return function(_){return function(p){if(t(_)(p))return s(_);if(e(_)(p))return m(l(a)(o)(p))(_);if(kn)return m(l(u)(f)(p))(_);throw new Error("Failed pattern match at Data.Enum (line 186, column 14 - line 190, column 51): "+[_.constructor.name,p.constructor.name])}}}};var xi=function(n){return function(r){return function(t){return n(r(t)+1|0)}}},Ri=function(n){return function(r){return function(t){return n(r(t)-1|0)}}};var Uh=function(n){return n>=Hi(Yw)&&n<=Hi(Zw)?new v(Qw(n)):D.value},V$={succ:xi(Uh)(Hi),pred:Ri(Uh)(Hi),Ord0:function(){return Bm}};var eF=function(){return{cardinality:Hi(Zw)-Hi(Yw)|0,toEnum:Uh,fromEnum:Hi,Bounded0:function(){return g_},Enum1:function(){return V$}}}();var aF=g(bn);var Bh=function(){var n=aF(vr);return function(r){return n(Vw(r))}}();var oF=function(){var n=aF(vr);return function(r){return n(Jw(r))}}();function Gh(n){return function(){return[].slice.call(n)}}var yt=function(){return window};function iF(n){return n.readyState}var J_=function(){function n(){}return n.value=new n,n}(),rq=function(){function n(){}return n.value=new n,n}(),tq=function(){function n(){}return n.value=new n,n}();var fF=function(n){return n==="loading"?new v(J_.value):n==="interactive"?new v(rq.value):n==="complete"?new v(tq.value):D.value};var aq=g(bn);var Bv=L;var lF=L,sF=L;var _F=function(n){return aq(function(){var r=Un(J_.value);return function(t){return r(fF(t))}}())(function(){return iF(n)})};function pF(n,r,t){var e=Object.prototype.toString.call(t);return e.indexOf("[object HTML")===0&&e.indexOf("Element]")===e.length-8?r(t):n}function kh(n){return function(r){return function(){r.draggable=n}}}var mF=L;var zh=L;var Q_=function(n){return pF(D.value,v.create,n)};function Vh(n){return function(){return n.hash}}function Jh(n){return function(r){return function(){r.hash=n}}}function Zo(n){return function(){return n.document}}function kv(n){return function(){return n.location}}function Qh(n){return function(r){return function(){return r.confirm(n)}}}function K_(n){return function(){return n.localStorage}}var zv=L;var tU=Vn(Jn),eU=b(Ur),gF=function(n){var r=n.MonadEffect0(),t=r.Monad0(),e=t.Bind1(),a=tU(e),o=te(r),u=b(e),f=gn(r),c=t.Applicative0(),s=Zn(c)(ln),m=Ht(c)(Wn),l=Ye(n);return function(_){return a(o("starting spotlight"))(function(){return u(f(eU(yt)(Zo)))(function(p){return u(f(Ph(_)(Bv(p))))(function(i){return u(f(Gh(i)))(s(function(d){return m(zw(d))(function(M){return a(o("spotlighting "+(Nh(d)+(" with local name "+Ah(M)))))(function(){return u(f(Ih(M)))(function(O){return a(f(Fh(O)("spotlight")))(function(){return a(l($u(1e3)))(function(){return f(Lh(O)("spotlight"))})})})})})}))})})})}};var hF=function(n,r){for(var t=n>r?-1:1,e=new Array(t*(r-n)+1),a=n,o=0;a!==r;)e[o++]=a,a+=t;return e[o]=a,e},oU=function(n,r){if(n<1)return[];var t=new Array(n);return t.fill(r)},uU=function(n,r){for(var t=[],e=0,a=0;a<n;a++)t[e++]=r;return t},iU=typeof Array.prototype.fill=="function"?oU:uU,yF=function(){function n(a,o){this.head=a,this.tail=o}var r={};function t(a){return function(o){return new n(a,o)}}function e(a){for(var o=[],u=0,f=a;f!==r;)o[u++]=f.head,f=f.tail;return o}return function(a,o){return e(a(t)(r)(o))}}(),bt=function(n){return n.length},jh=function(n,r,t){return t.length===0?n({}):r(t[0])(t.slice(1))},bF=function(n,r,t,e){return e<0||e>=t.length?r:n(t[e])};var TF=function(n,r,t,e){for(var a=0,o=e.length;a<o;a++)if(t(e[a]))return n(a);return r};var CF=function(n,r,t,e){if(t<0||t>=e.length)return r;var a=e.slice();return a.splice(t,1),n(a)};var fU=function(){function n(r,t,e,a,o,u){var f,c,s,m,l,_,p;for(f=o+(u-o>>1),f-o>1&&n(r,t,a,e,o,f),u-f>1&&n(r,t,a,e,f,u),c=o,s=f,m=o;c<f&&s<u;)l=a[c],_=a[s],p=t(r(l)(_)),p>0?(e[m++]=_,++s):(e[m++]=l,++c);for(;c<f;)e[m++]=a[c++];for(;s<u;)e[m++]=a[s++]}return function(r,t,e){var a;return e.length<2?e:(a=e.slice(0),n(r,t,a,e.slice(0),0,e.length),a)}}(),EF=function(n,r,t){return t.slice(n,r)},MF=function(n,r,t){for(var e=r.length<t.length?r.length:t.length,a=new Array(e),o=0;o<e;o++)a[o]=n(r[o])(t[o]);return a};var wF=function(n,r){return n[r]};function Vv(){return[]}var FF=function(n,r){return r.push.apply(r,n)};function lU(n){return n}var LF=lU;function sU(n){return n.slice()}var SF=sU,_U=function(){function n(r,t,e,a,o,u){var f,c,s,m,l,_,p;for(f=o+(u-o>>1),f-o>1&&n(r,t,a,e,o,f),u-f>1&&n(r,t,a,e,f,u),c=o,s=f,m=o;c<f&&s<u;)l=a[c],_=a[s],p=t(r(l)(_)),p>0?(e[m++]=_,++s):(e[m++]=l,++c);for(;c<f;)e[m++]=a[c++];for(;s<u;)e[m++]=a[s++]}return function(r,t,e){return e.length<2||n(r,t,e,e.slice(0),0,e.length),e}}();var Jv=function(r){return function(t){return function(){return r(t)}}},Kh=function(r){return function(t){return function(e){return function(){return r(t,e)}}}};var gU=b(S_);var Qv=Jv(LF);var hU=Jv(SF),AF=function(n){return function(r){return function(){var e=hU(r)();return n(e)(),Qv(e)()}}};var IF=function(n){return gU(n)(Qv)()};var Yf=function(n){return Kh(FF)([n])};var Ni=function(n){return function(r){return function(t){return n(r,t)}}},Bu=function(n){return function(r){return function(t){return function(e){return n(r,t,e)}}}},Zf=function(n){return function(r){return function(t){return function(e){return function(a){return n(r,t,e,a)}}}}};var HF=function(n){return function(r){for(var t=r.length,e=Array(t),a=0;a<t;a++)e[a]=n(a)(r[a]);return e}};var ge=function(n){return n.mapWithIndex};var Fl={mapWithIndex:HF,Functor0:function(){return zn}};var wU=xn(L_),FU=Ca(ln);var LU=g(In);var SU=Nt();var AU=Bf(ln),IU=x(rt);var PF=Bu(MF);var Zh=function(){return PF(h.create)}();var ny=function(){return Ni(wF)},ry=ny(),X_=function(){return Bu(jh)(U(D.value))(function(n){return function(r){return new v({head:n,tail:r})}})}(),ty=function(n){var r=We(n);return function(t){var e=bt(t),a=function(o){if(o<e)return new v(new h(ry(t)(o),o+1|0));if(kn)return D.value;throw new Error("Failed pattern match at Data.Array (line 163, column 3 - line 165, column 26): "+[o.constructor.name])};return r(a)(0)}},xF=function(){return Bu(jh)(U(D.value))(function(n){return function(r){return new v(r)}})}();var Y_=function(n){return function(r){return AF(Yf(r))(n)()}},ey=Bu(EF);var ay=function(n){return[n]};var rc=Ni(hF);var HU=function(n){return bt(n)===0};var oy=function(n){return function(r){var t=bt(r);if(t<2)return r;if(kn)return IF(function(){var e=function(a){return ry(r)(a)};return function(){var o=Vv();return Yf(e(0))(o)(),ah(1)(t)(function(u){return function(){return Yf(n)(o)(),wU(Yf(e(u))(o))()}})(),o}}());throw new Error("Failed pattern match at Data.Array (line 623, column 21 - line 633, column 17): "+[t.constructor.name])}},ru=function(n){return FU(n)};var RF=function(n){if(HU(n))return D.value;if(kn)return new v(ey(0)(bt(n)-1|0)(n));throw new Error("Failed pattern match at Data.Array (line 351, column 1 - line 351, column 45): "+[n.constructor.name])},Z_=function(){return Zf(bF)(v.create)(D.value)}(),Ll=function(n){return Z_(n)(bt(n)-1|0)};var tu=function(n){return Z_(n)(0)};var eu=function(n){return Ni(yF)(er(n))};var NF=function(n){return AU(n)};var jv=function(){return Zf(TF)(v.create)(D.value)}(),np=function(n){return function(r){return LU(ry(r))(jv(n)(r))}};var OF=function(n){var r=H(n);return function(t){return jv(function(e){return r(e)(t)})}};var rp=function(n){var r=OF(n);return function(t){return function(e){return so(r(t)(e))}}};var uy=function(n){return function(r){var t=n<1;return t?r:ey(n)(bt(r))(r)}};var WF=function(){return Zf(CF)(v.create)(D.value)}(),iy=function(n){return function(r){return function(t){return t.length===0?[]:on(t)(function(e){return SU(WF(e)(t))})(jv(n(r))(t))}}};var Kv=function(n){return function(r){return IU([n])(r)}};var PU=rn(b(fe)),tp=function(n){return PU(function(){var r=on([])(ay);return function(t){return r(n(t))}}())};var Xv=tp(W(q));function fy(n){return function(r){return n===r}}var tc=fy;var NU=xn(bn),OU=_o(),WU=b(Ur);var $U=x(rt),qU=Zn(ir),UU=qU(ln);var Sl=function(n){return n},Zv=function(n){return function(r){return n(function(t){return NU(r(t))})}};var Gu=function(n){return function(r){return n(r)}};var nd=OU,ec={map:function(n){return function(r){return function(t){return r(function(e){return t(n(e))})}}}};var Oi=function(){var r=or([])();return{emitter:function(t){return function(){return Ea(function(a){return $U(a)([t])})(r)(),Ea(iy(tc)(t))(r)}},listener:function(t){return WU(sn(r))(UU(function(e){return e(t)}))}}};var UF=Vn(Jn),BU=te(vo),rd=UF(wr),ep=gn(st),GU=xn(ka),$F=b(wr),kU=NM(Sv),zU=Ht(lt)(Wn),qF=Ye(U_),VU=Cv(pw),JU=Zn(lt)(Wn),QU=gF(U_),cy=gn(vo),ly=function(n){var r=n.Monad0().Bind1(),t=b(r),e=sl(n),a=UF(r);return function(o){var u=gn(o);return function(f){return t(e(function(c){return c.chatServer.isRunning}))(function(c){return t(u(sn(c)))(function(s){return s?t(e(function(m){return m.chatServer.listener}))(function(m){return u(Gu(m)(f))}):a(u(BU("server is not running!")))(function(){return u(uv("SERVER NOT RUNNING, CRASH THE PLANE NO SURVIVOR"))})})})}}},BF=function(n){return rd(ep(Bn(!0)(n.isRunning)))(function(){return GU(yl($F(kU($F(ep(sn(n.queuedMessages)))(function(r){var t=X_(r);if(t instanceof v)return rd(zU(t.value0.head.delayBy)(function(e){return qF($u(VU(e)))}))(function(){return rd(ep(Gu(n.listener)(t.value0.head)))(function(){return rd(JU(QU)(t.value0.head.selector))(function(){return ep(Bn(t.value0.tail)(n.queuedMessages))})})});if(t instanceof D)return qF($u(100));throw new Error("Failed pattern match at Capability.ChatServer (line 78, column 7 - line 88, column 47): "+[t.constructor.name])})))(function(){return ep(Bn(!1)(n.isRunning))})))})},GF=function(n){var r=b(n.Monad0().Bind1()),t=sl(n);return function(e){var a=gn(e);return function(o){return r(t(function(u){return u.chatServer.queuedMessages}))(function(u){return a(Bn(o)(u))})}}},kF=function(){var r=cy(Oi)(),t=cy(or([]))(),e=cy(or(!1))();return{listener:r.listener,emitter:r.emitter,queuedMessages:t,isRunning:e}};var za=function(n){return n.foldrWithIndex};var ho=function(n){return n.foldlWithIndex};var ku=function(n){return n.foldMapWithIndex};var yo=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var ed=function(n){var r=ce(n);return function(t){return new yo(t,r)}};var i2=W(q),P=function(){function n(){}return n.value=new n,n}(),F=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),sy=function(n){return n};var f2=function(n){var r=function(t){return function(e){var a=t,o=!1,u;function f(c,s){if(s instanceof F&&s.value1 instanceof F&&s.value1.value1 instanceof F){a=new F(s,c),e=s.value1.value1.value1;return}var m=function(_){return _ instanceof F&&_.value1 instanceof F&&_.value1.value1 instanceof P?new F(n(_.value0),new F(n(_.value1.value0),P.value)):_ instanceof F&&_.value1 instanceof P?new F(n(_.value0),P.value):P.value},l=function(_){return function(p){var i=_,d=!1,M;function O(_n,Q){if(_n instanceof F&&_n.value0 instanceof F&&_n.value0.value1 instanceof F&&_n.value0.value1.value1 instanceof F){i=_n.value1,p=new F(n(_n.value0.value0),new F(n(_n.value0.value1.value0),new F(n(_n.value0.value1.value1.value0),Q)));return}return d=!0,Q}for(;!d;)M=O(i,p);return M}};return o=!0,l(c)(m(s))}for(;!o;)u=f(a,e);return u}};return r(P.value)},$e={map:f2},JF=g($e);var fr={foldr:function(n){return function(r){var t=function(){var a=function(o){return function(u){var f=o,c=!1,s;function m(l,_){if(_ instanceof P)return c=!0,l;if(_ instanceof F){f=new F(_.value0,l),u=_.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[l.constructor.name,_.constructor.name])}for(;!c;)s=m(f,u);return s}};return a(P.value)}(),e=Nn(fr)(rn(n))(r);return function(a){return e(t(a))}}},foldl:function(n){var r=function(t){return function(e){var a=t,o=!1,u;function f(c,s){if(s instanceof P)return o=!0,c;if(s instanceof F){a=n(c)(s.value0),e=s.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[s.constructor.name])}for(;!o;)u=f(a,e);return u}};return r},foldMap:function(n){var r=x(n.Semigroup0()),t=Sn(n);return function(e){return Nn(fr)(function(a){var o=r(a);return function(u){return o(e(u))}})(t)}}},ad=Nn(fr),c2=er(fr),l2=Ca(fr)(It);var zu={append:function(n){return function(r){return c2(F.create)(r)(n)}}},_y=x(zu),py=function(){return{mempty:P.value,Semigroup0:function(){return zu}}}();var Wi=function(n){var r=w(n);return{show:function(t){return t instanceof P?"Nil":"("+(l2(" : ")(JF(r)(t))+" : Nil)")}}};var Il={traverse:function(n){var r=n.Apply0(),t=g(r.Functor0()),e=Lt(r),a=y(n);return function(o){var u=t(ad(rn(F.create))(P.value)),f=ad(function(c){var s=e(rn(F.create))(c);return function(m){return s(o(m))}})(a(P.value));return function(c){return u(f(c))}}},sequence:function(n){return Mr(Il)(n)(i2)},Functor0:function(){return $e},Foldable1:function(){return fr}};var s2={unfoldr1:function(n){return function(r){var t=function(e){return function(a){var o=e,u=!1,f;function c(s,m){var l=n(s);if(l.value1 instanceof v){o=l.value1.value0,a=new F(l.value0,m);return}if(l.value1 instanceof D)return u=!0,ad(rn(F.create))(P.value)(new F(l.value0,m));throw new Error("Failed pattern match at Data.List.Types (line 135, column 22 - line 137, column 61): "+[l.constructor.name])}for(;!u;)f=c(o,a);return f}};return t(r)(P.value)}}},ap={unfoldr:function(n){return function(r){var t=function(e){return function(a){var o=e,u=!1,f;function c(s,m){var l=n(s);if(l instanceof D)return u=!0,ad(rn(F.create))(P.value)(m);if(l instanceof v){o=l.value0.value1,a=new F(l.value0.value0,m);return}throw new Error("Failed pattern match at Data.List.Types (line 142, column 22 - line 144, column 52): "+[l.constructor.name])}for(;!u;)f=c(o,a);return f}};return t(r)(P.value)}},Unfoldable10:function(){return s2}};var QF={eq1:function(n){var r=H(n);return function(t){return function(e){var a=function(o){return function(u){return function(f){var c=o,s=u,m=!1,l;function _(p,i,d){if(!d)return m=!0,!1;if(p instanceof P&&i instanceof P)return m=!0,d;if(p instanceof F&&i instanceof F){c=p.value1,s=i.value1,f=d&&r(i.value0)(p.value0);return}return m=!0,!1}for(;!m;)l=_(c,s,f);return l}}};return a(t)(e)(!0)}}}},_2=fo(QF);var Hl=function(n){return{eq:_2(n)}};var p2={compare1:function(n){var r=G(n);return function(t){return function(e){var a=function(o){return function(u){var f=o,c=!1,s;function m(l,_){if(l instanceof P&&_ instanceof P)return c=!0,R.value;if(l instanceof P)return c=!0,A.value;if(_ instanceof P)return c=!0,I.value;if(l instanceof F&&_ instanceof F){var p=r(l.value0)(_.value0);if(p instanceof R){f=l.value1,u=_.value1;return}return c=!0,p}throw new Error("Failed pattern match at Data.List.Types (line 60, column 5 - line 60, column 20): "+[l.constructor.name,_.constructor.name])}for(;!c;)s=m(f,u);return s}};return a(t)(e)}}},Eq10:function(){return QF}},m2=lo(p2);var op=function(n){var r=Hl(n.Eq0());return{compare:m2(n),Eq0:function(){return r}}};var my={apply:function(n){return function(r){if(n instanceof P)return P.value;if(n instanceof F)return _y(JF(n.value0)(r))(hn(my)(n.value1)(r));throw new Error("Failed pattern match at Data.List.Types (line 157, column 1 - line 159, column 48): "+[n.constructor.name,r.constructor.name])}},Functor0:function(){return $e}};var Pl={bind:function(n){return function(r){if(n instanceof P)return P.value;if(n instanceof F)return _y(r(n.value0))(b(Pl)(n.value1)(r));throw new Error("Failed pattern match at Data.List.Types (line 164, column 1 - line 166, column 37): "+[n.constructor.name,r.constructor.name])}},Apply0:function(){return my}};var v2={alt:_y,Functor0:function(){return $e}},jF=function(){return{empty:P.value,Alt0:function(){return v2}}}();var h2=g(In);var ZF=function(n){if(n instanceof P)return D.value;if(n instanceof F)return new v({head:n.value0,tail:n.value1});throw new Error("Failed pattern match at Data.List (line 259, column 1 - line 259, column 66): "+[n.constructor.name])},n1=function(n){return We(n)(function(r){return h2(function(t){return new h(t.head,t.tail)})(ZF(r))})};var od=function(n){return new F(n,P.value)};var Vu=function(){var n=function(r){return function(t){var e=r,a=!1,o;function u(f,c){if(c instanceof P)return a=!0,f;if(c instanceof F){e=new F(c.value0,f),t=c.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[f.constructor.name,c.constructor.name])}for(;!a;)o=u(e,t);return o}};return n(P.value)}();var r1=function(n){return n instanceof P};var t1=function(n){if(n instanceof P)return D.value;if(n instanceof F)return new v(n.value0);throw new Error("Failed pattern match at Data.List (line 230, column 1 - line 230, column 22): "+[n.constructor.name])};var Ju=function(n){return er(n)(F.create)(P.value)},ud=function(n){var r=y(n.Applicative0()),t=b(n.Bind1());return function(e){return function(a){return function(o){if(o instanceof P)return r(a);if(o instanceof F)return t(e(a)(o.value0))(function(u){return ud(n)(e)(u)(o.value1)});throw new Error("Failed pattern match at Data.List (line 824, column 1 - line 824, column 72): "+[e.constructor.name,a.constructor.name,o.constructor.name])}}}};var y2=rr();var dy=function(n){return n},Nl=function(){function n(){}return n.value=new n,n}(),Ol=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var up=Do(function(n){return Nl.value});var ip=function(n){return jf(y2(n))};var e1={defer:function(n){return Do(function(r){return ip(n(r))})}},a1=Zc(e1);var Rl=function(n){return function(r){return Do(function(t){return new Ol(n,r)})}},xl={foldr:function(n){return function(r){return function(t){var e=Nn(xl)(rn(Rl))(up);return Nn(xl)(rn(n))(r)(e(t))}}},foldl:function(n){var r=function(t){return function(e){var a=t,o=!1,u;function f(c,s){var m=ip(s);if(m instanceof Nl)return o=!0,c;if(m instanceof Ol){a=n(c)(m.value0),e=m.value1;return}throw new Error("Failed pattern match at Data.List.Lazy.Types (line 127, column 7 - line 129, column 40): "+[m.constructor.name])}for(;!o;)u=f(a,e);return u}};return r},foldMap:function(n){var r=x(n.Semigroup0()),t=Sn(n);return function(e){return Nn(xl)(function(a){return function(o){return r(a)(e(o))}})(t)}}};var b2={unfoldr1:function(){var n=function(r){return function(t){return a1(function(e){var a=r(t);if(a.value1 instanceof v)return Rl(a.value0)(n(r)(a.value1.value0));if(a.value1 instanceof D)return Rl(a.value0)(up);throw new Error("Failed pattern match at Data.List.Lazy.Types (line 151, column 28 - line 153, column 33): "+[a.constructor.name])})}};return n}()},Dy={unfoldr:function(){var n=function(r){return function(t){return a1(function(e){var a=r(t);if(a instanceof D)return up;if(a instanceof v)return Rl(a.value0.value0)(n(r)(a.value0.value1));throw new Error("Failed pattern match at Data.List.Lazy.Types (line 157, column 28 - line 159, column 39): "+[a.constructor.name])})}};return n}(),Unfoldable10:function(){return b2}};var T2=g(Av),C2=rr();var gy=function(n){var r=function(e){var a=!1,o;function u(f){if(f instanceof Nl)return a=!0,Nl.value;if(f instanceof Ol){if(n(f.value0))return a=!0,new Ol(f.value0,gy(n)(f.value1));if(kn){e=ip(f.value1);return}}throw new Error("Failed pattern match at Data.List.Lazy (line 416, column 3 - line 416, column 15): "+[f.constructor.name])}for(;!a;)o=u(e);return o},t=T2(r);return function(e){return dy(t(C2(e)))}};var w2=W(q);var nn=function(){function n(){}return n.value=new n,n}(),mn=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),An=function(){function n(r,t,e,a,o,u,f){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u,this.value6=f}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return function(f){return new n(r,t,e,a,o,u,f)}}}}}}},n}(),$i=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),Qu=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),qi=function(){function n(r,t,e,a,o,u){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return new n(r,t,e,a,o,u)}}}}}},n}(),uu=function(){function n(r,t,e,a,o,u){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return new n(r,t,e,a,o,u)}}}}}},n}(),Ui=function(){function n(r,t,e,a,o,u){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return new n(r,t,e,a,o,u)}}}}}},n}(),id=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}();var Sa=function(n){return function(r){return new mn(nn.value,n,r,nn.value)}},iu=function(n){var r=We(n);return function(t){var e=function(a){var o=!1,u;function f(c){if(c instanceof P)return o=!0,D.value;if(c instanceof F){if(c.value0 instanceof nn){a=c.value1;return}if(c.value0 instanceof mn&&c.value0.value0 instanceof nn&&c.value0.value3 instanceof nn)return o=!0,new v(new h(new h(c.value0.value1,c.value0.value2),c.value1));if(c.value0 instanceof mn&&c.value0.value0 instanceof nn)return o=!0,new v(new h(new h(c.value0.value1,c.value0.value2),new F(c.value0.value3,c.value1)));if(c.value0 instanceof mn){a=new F(c.value0.value0,new F(Sa(c.value0.value1)(c.value0.value2),new F(c.value0.value3,c.value1)));return}if(c.value0 instanceof An){a=new F(c.value0.value0,new F(Sa(c.value0.value1)(c.value0.value2),new F(c.value0.value3,new F(Sa(c.value0.value4)(c.value0.value5),new F(c.value0.value6,c.value1)))));return}throw new Error("Failed pattern match at Data.Map.Internal (line 624, column 18 - line 633, column 71): "+[c.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 623, column 3 - line 623, column 19): "+[c.constructor.name])}for(;!o;)u=f(a);return u};return r(e)(new F(t,P.value))}},F2=iu(Dy);var hy=iu(Qt);var Wl=function(n){var r=Km(n);return function(t){var e=w(Xc(r(t)));return{show:function(a){return"(fromFoldable "+(e(hy(a))+")")}}}};var Xn=function(n){var r=G(n);return function(t){var e=function(a){var o=!1,u;function f(c){if(c instanceof nn)return o=!0,D.value;if(c instanceof mn){var s=r(t)(c.value1);if(s instanceof R)return o=!0,new v(c.value2);if(s instanceof A){a=c.value0;return}a=c.value3;return}if(c instanceof An){var m=r(t)(c.value1);if(m instanceof R)return o=!0,new v(c.value2);var l=r(t)(c.value4);if(l instanceof R)return o=!0,new v(c.value5);if(m instanceof A){a=c.value0;return}if(l instanceof I){a=c.value6;return}a=c.value3;return}throw new Error("Failed pattern match at Data.Map.Internal (line 241, column 5 - line 241, column 22): "+[c.constructor.name])}for(;!o;)u=f(a);return u};return e}},fp=function(n){var r=Xn(n);return function(t){return function(e){return so(r(t)(e))}}};var cp=function(n){return n instanceof nn},qe={map:function(n){return function(r){if(r instanceof nn)return nn.value;if(r instanceof mn)return new mn(g(qe)(n)(r.value0),r.value1,n(r.value2),g(qe)(n)(r.value3));if(r instanceof An)return new An(g(qe)(n)(r.value0),r.value1,n(r.value2),g(qe)(n)(r.value3),r.value4,n(r.value5),g(qe)(n)(r.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 116, column 1 - line 119, column 110): "+[n.constructor.name,r.constructor.name])}}},Bi={mapWithIndex:function(n){return function(r){if(r instanceof nn)return nn.value;if(r instanceof mn)return new mn(ge(Bi)(n)(r.value0),r.value1,n(r.value1)(r.value2),ge(Bi)(n)(r.value3));if(r instanceof An)return new An(ge(Bi)(n)(r.value0),r.value1,n(r.value1)(r.value2),ge(Bi)(n)(r.value3),r.value4,n(r.value4)(r.value5),ge(Bi)(n)(r.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 121, column 1 - line 124, column 152): "+[n.constructor.name,r.constructor.name])}},Functor0:function(){return qe}},f1=function(n){return function(r){return function(t){var e=n,a=r,o=!1,u;function f(c,s,m){if(s instanceof P)return o=!0,m;if(s instanceof F){if(s.value0 instanceof $i){e=c,a=s.value1,t=new mn(m,s.value0.value0,s.value0.value1,s.value0.value2);return}if(s.value0 instanceof Qu){e=c,a=s.value1,t=new mn(s.value0.value0,s.value0.value1,s.value0.value2,m);return}if(s.value0 instanceof qi){e=c,a=s.value1,t=new An(m,s.value0.value0,s.value0.value1,s.value0.value2,s.value0.value3,s.value0.value4,s.value0.value5);return}if(s.value0 instanceof uu){e=c,a=s.value1,t=new An(s.value0.value0,s.value0.value1,s.value0.value2,m,s.value0.value3,s.value0.value4,s.value0.value5);return}if(s.value0 instanceof Ui){e=c,a=s.value1,t=new An(s.value0.value0,s.value0.value1,s.value0.value2,s.value0.value3,s.value0.value4,s.value0.value5,m);return}throw new Error("Failed pattern match at Data.Map.Internal (line 462, column 3 - line 467, column 88): "+[s.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 1 - line 459, column 80): "+[s.constructor.name,m.constructor.name])}for(;!o;)u=f(e,a,t);return u}}},ae=function(n){var r=f1(n),t=G(n);return function(e){return function(a){var o=function(f){return function(c){var s=f,m=!1,l;function _(p,i){if(p instanceof P)return m=!0,new mn(i.value0,i.value1,i.value2,i.value3);if(p instanceof F){if(p.value0 instanceof $i)return m=!0,r(p.value1)(new An(i.value0,i.value1,i.value2,i.value3,p.value0.value0,p.value0.value1,p.value0.value2));if(p.value0 instanceof Qu)return m=!0,r(p.value1)(new An(p.value0.value0,p.value0.value1,p.value0.value2,i.value0,i.value1,i.value2,i.value3));if(p.value0 instanceof qi){s=p.value1,c=new id(new mn(i.value0,i.value1,i.value2,i.value3),p.value0.value0,p.value0.value1,new mn(p.value0.value2,p.value0.value3,p.value0.value4,p.value0.value5));return}if(p.value0 instanceof uu){s=p.value1,c=new id(new mn(p.value0.value0,p.value0.value1,p.value0.value2,i.value0),i.value1,i.value2,new mn(i.value3,p.value0.value3,p.value0.value4,p.value0.value5));return}if(p.value0 instanceof Ui){s=p.value1,c=new id(new mn(p.value0.value0,p.value0.value1,p.value0.value2,p.value0.value3),p.value0.value4,p.value0.value5,new mn(i.value0,i.value1,i.value2,i.value3));return}throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 5 - line 503, column 108): "+[p.value0.constructor.name,i.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 3 - line 495, column 56): "+[p.constructor.name,i.constructor.name])}for(;!m;)l=_(s,c);return l}},u=function(f){return function(c){var s=f,m=!1,l;function _(p,i){if(i instanceof nn)return m=!0,o(p)(new id(nn.value,e,a,nn.value));if(i instanceof mn){var d=t(e)(i.value1);if(d instanceof R)return m=!0,r(p)(new mn(i.value0,e,a,i.value3));if(d instanceof A){s=new F(new $i(i.value1,i.value2,i.value3),p),c=i.value0;return}s=new F(new Qu(i.value0,i.value1,i.value2),p),c=i.value3;return}if(i instanceof An){var d=t(e)(i.value1);if(d instanceof R)return m=!0,r(p)(new An(i.value0,e,a,i.value3,i.value4,i.value5,i.value6));var M=t(e)(i.value4);if(M instanceof R)return m=!0,r(p)(new An(i.value0,i.value1,i.value2,i.value3,e,a,i.value6));if(d instanceof A){s=new F(new qi(i.value1,i.value2,i.value3,i.value4,i.value5,i.value6),p),c=i.value0;return}if(d instanceof I&&M instanceof A){s=new F(new uu(i.value0,i.value1,i.value2,i.value4,i.value5,i.value6),p),c=i.value3;return}s=new F(new Ui(i.value0,i.value1,i.value2,i.value3,i.value4,i.value5),p),c=i.value6;return}throw new Error("Failed pattern match at Data.Map.Internal (line 478, column 3 - line 478, column 55): "+[p.constructor.name,i.constructor.name])}for(;!m;)l=_(s,c);return l}};return u(P.value)}}},fd=function(n){var r=f1(n),t=G(n);return function(e){var a=function(c){return function(s){var m=c,l=!1,_;function p(i,d){if(i instanceof P)return l=!0,d;if(i instanceof F){if(i.value0 instanceof $i&&i.value0.value2 instanceof nn&&d instanceof nn)return l=!0,r(i.value1)(new mn(nn.value,i.value0.value0,i.value0.value1,nn.value));if(i.value0 instanceof Qu&&i.value0.value0 instanceof nn&&d instanceof nn)return l=!0,r(i.value1)(new mn(nn.value,i.value0.value1,i.value0.value2,nn.value));if(i.value0 instanceof $i&&i.value0.value2 instanceof mn){m=i.value1,s=new An(d,i.value0.value0,i.value0.value1,i.value0.value2.value0,i.value0.value2.value1,i.value0.value2.value2,i.value0.value2.value3);return}if(i.value0 instanceof Qu&&i.value0.value0 instanceof mn){m=i.value1,s=new An(i.value0.value0.value0,i.value0.value0.value1,i.value0.value0.value2,i.value0.value0.value3,i.value0.value1,i.value0.value2,d);return}return i.value0 instanceof $i&&i.value0.value2 instanceof An?(l=!0,r(i.value1)(new mn(new mn(d,i.value0.value0,i.value0.value1,i.value0.value2.value0),i.value0.value2.value1,i.value0.value2.value2,new mn(i.value0.value2.value3,i.value0.value2.value4,i.value0.value2.value5,i.value0.value2.value6)))):i.value0 instanceof Qu&&i.value0.value0 instanceof An?(l=!0,r(i.value1)(new mn(new mn(i.value0.value0.value0,i.value0.value0.value1,i.value0.value0.value2,i.value0.value0.value3),i.value0.value0.value4,i.value0.value0.value5,new mn(i.value0.value0.value6,i.value0.value1,i.value0.value2,d)))):i.value0 instanceof qi&&i.value0.value2 instanceof nn&&i.value0.value5 instanceof nn&&d instanceof nn?(l=!0,r(i.value1)(new An(nn.value,i.value0.value0,i.value0.value1,nn.value,i.value0.value3,i.value0.value4,nn.value))):i.value0 instanceof uu&&i.value0.value0 instanceof nn&&i.value0.value5 instanceof nn&&d instanceof nn?(l=!0,r(i.value1)(new An(nn.value,i.value0.value1,i.value0.value2,nn.value,i.value0.value3,i.value0.value4,nn.value))):i.value0 instanceof Ui&&i.value0.value0 instanceof nn&&i.value0.value3 instanceof nn&&d instanceof nn?(l=!0,r(i.value1)(new An(nn.value,i.value0.value1,i.value0.value2,nn.value,i.value0.value4,i.value0.value5,nn.value))):i.value0 instanceof qi&&i.value0.value2 instanceof mn?(l=!0,r(i.value1)(new mn(new An(d,i.value0.value0,i.value0.value1,i.value0.value2.value0,i.value0.value2.value1,i.value0.value2.value2,i.value0.value2.value3),i.value0.value3,i.value0.value4,i.value0.value5))):i.value0 instanceof uu&&i.value0.value0 instanceof mn?(l=!0,r(i.value1)(new mn(new An(i.value0.value0.value0,i.value0.value0.value1,i.value0.value0.value2,i.value0.value0.value3,i.value0.value1,i.value0.value2,d),i.value0.value3,i.value0.value4,i.value0.value5))):i.value0 instanceof uu&&i.value0.value5 instanceof mn?(l=!0,r(i.value1)(new mn(i.value0.value0,i.value0.value1,i.value0.value2,new An(d,i.value0.value3,i.value0.value4,i.value0.value5.value0,i.value0.value5.value1,i.value0.value5.value2,i.value0.value5.value3)))):i.value0 instanceof Ui&&i.value0.value3 instanceof mn?(l=!0,r(i.value1)(new mn(i.value0.value0,i.value0.value1,i.value0.value2,new An(i.value0.value3.value0,i.value0.value3.value1,i.value0.value3.value2,i.value0.value3.value3,i.value0.value4,i.value0.value5,d)))):i.value0 instanceof qi&&i.value0.value2 instanceof An?(l=!0,r(i.value1)(new An(new mn(d,i.value0.value0,i.value0.value1,i.value0.value2.value0),i.value0.value2.value1,i.value0.value2.value2,new mn(i.value0.value2.value3,i.value0.value2.value4,i.value0.value2.value5,i.value0.value2.value6),i.value0.value3,i.value0.value4,i.value0.value5))):i.value0 instanceof uu&&i.value0.value0 instanceof An?(l=!0,r(i.value1)(new An(new mn(i.value0.value0.value0,i.value0.value0.value1,i.value0.value0.value2,i.value0.value0.value3),i.value0.value0.value4,i.value0.value0.value5,new mn(i.value0.value0.value6,i.value0.value1,i.value0.value2,d),i.value0.value3,i.value0.value4,i.value0.value5))):i.value0 instanceof uu&&i.value0.value5 instanceof An?(l=!0,r(i.value1)(new An(i.value0.value0,i.value0.value1,i.value0.value2,new mn(d,i.value0.value3,i.value0.value4,i.value0.value5.value0),i.value0.value5.value1,i.value0.value5.value2,new mn(i.value0.value5.value3,i.value0.value5.value4,i.value0.value5.value5,i.value0.value5.value6)))):i.value0 instanceof Ui&&i.value0.value3 instanceof An?(l=!0,r(i.value1)(new An(i.value0.value0,i.value0.value1,i.value0.value2,new mn(i.value0.value3.value0,i.value0.value3.value1,i.value0.value3.value2,i.value0.value3.value3),i.value0.value3.value4,i.value0.value3.value5,new mn(i.value0.value3.value6,i.value0.value4,i.value0.value5,d)))):(l=!0,Xo("The impossible happened in partial function `up`."))}throw new Error("Failed pattern match at Data.Map.Internal (line 552, column 5 - line 573, column 86): "+[i.constructor.name])}for(;!l;)_=p(m,s);return _}},o=function(c){return function(s){var m=c,l=!1,_;function p(i,d){if(d instanceof mn&&d.value0 instanceof nn&&d.value3 instanceof nn)return l=!0,a(i)(nn.value);if(d instanceof mn){m=new F(new Qu(d.value0,d.value1,d.value2),i),s=d.value3;return}if(d instanceof An&&d.value0 instanceof nn&&d.value3 instanceof nn&&d.value6 instanceof nn)return l=!0,a(new F(new Qu(nn.value,d.value1,d.value2),i))(nn.value);if(d instanceof An){m=new F(new Ui(d.value0,d.value1,d.value2,d.value3,d.value4,d.value5),i),s=d.value6;return}return l=!0,Xo("The impossible happened in partial function `removeMaxNode`.")}for(;!l;)_=p(m,s);return _}},u=function(c){var s=!1,m;function l(_){if(_ instanceof mn&&_.value3 instanceof nn)return s=!0,{key:_.value1,value:_.value2};if(_ instanceof mn){c=_.value3;return}if(_ instanceof An&&_.value6 instanceof nn)return s=!0,{key:_.value4,value:_.value5};if(_ instanceof An){c=_.value6;return}return s=!0,Xo("The impossible happened in partial function `maxNode`.")}for(;!s;)m=l(c);return m},f=function(c){return function(s){var m=c,l=!1,_;function p(i,d){if(d instanceof nn)return l=!0,D.value;if(d instanceof mn){var M=t(e)(d.value1);if(d.value3 instanceof nn&&M instanceof R)return l=!0,new v(new h(d.value2,a(i)(nn.value)));if(M instanceof R){var O=u(d.value0);return l=!0,new v(new h(d.value2,o(new F(new $i(O.key,O.value,d.value3),i))(d.value0)))}if(M instanceof A){m=new F(new $i(d.value1,d.value2,d.value3),i),s=d.value0;return}m=new F(new Qu(d.value0,d.value1,d.value2),i),s=d.value3;return}if(d instanceof An){var _n=function(){return d.value0 instanceof nn&&d.value3 instanceof nn&&d.value6 instanceof nn}(),M=t(e)(d.value4),Q=t(e)(d.value1);if(_n&&Q instanceof R)return l=!0,new v(new h(d.value2,r(i)(new mn(nn.value,d.value4,d.value5,nn.value))));if(_n&&M instanceof R)return l=!0,new v(new h(d.value5,r(i)(new mn(nn.value,d.value1,d.value2,nn.value))));if(Q instanceof R){var O=u(d.value0);return l=!0,new v(new h(d.value2,o(new F(new qi(O.key,O.value,d.value3,d.value4,d.value5,d.value6),i))(d.value0)))}if(M instanceof R){var O=u(d.value3);return l=!0,new v(new h(d.value5,o(new F(new uu(d.value0,d.value1,d.value2,O.key,O.value,d.value6),i))(d.value3)))}if(Q instanceof A){m=new F(new qi(d.value1,d.value2,d.value3,d.value4,d.value5,d.value6),i),s=d.value0;return}if(Q instanceof I&&M instanceof A){m=new F(new uu(d.value0,d.value1,d.value2,d.value4,d.value5,d.value6),i),s=d.value3;return}m=new F(new Ui(d.value0,d.value1,d.value2,d.value3,d.value4,d.value5),i),s=d.value6;return}throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 16 - line 548, column 80): "+[d.constructor.name])}for(;!l;)_=p(m,s);return _}};return f(P.value)}},jr={foldr:function(n){return function(r){return function(t){if(t instanceof nn)return r;if(t instanceof mn)return er(jr)(n)(n(t.value2)(er(jr)(n)(r)(t.value3)))(t.value0);if(t instanceof An)return er(jr)(n)(n(t.value2)(er(jr)(n)(n(t.value5)(er(jr)(n)(r)(t.value6)))(t.value3)))(t.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 133, column 17 - line 136, column 85): "+[t.constructor.name])}}},foldl:function(n){return function(r){return function(t){if(t instanceof nn)return r;if(t instanceof mn)return Nn(jr)(n)(n(Nn(jr)(n)(r)(t.value0))(t.value2))(t.value3);if(t instanceof An)return Nn(jr)(n)(n(Nn(jr)(n)(n(Nn(jr)(n)(r)(t.value0))(t.value2))(t.value3))(t.value5))(t.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 137, column 17 - line 140, column 85): "+[t.constructor.name])}}},foldMap:function(n){var r=Sn(n),t=x(n.Semigroup0());return function(e){return function(a){if(a instanceof nn)return r;if(a instanceof mn)return t(ar(jr)(n)(e)(a.value0))(t(e(a.value2))(ar(jr)(n)(e)(a.value3)));if(a instanceof An)return t(ar(jr)(n)(e)(a.value0))(t(e(a.value2))(t(ar(jr)(n)(e)(a.value3))(t(e(a.value5))(ar(jr)(n)(e)(a.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 141, column 17 - line 144, column 93): "+[a.constructor.name])}}}},Tt={foldrWithIndex:function(n){return function(r){return function(t){if(t instanceof nn)return r;if(t instanceof mn)return za(Tt)(n)(n(t.value1)(t.value2)(za(Tt)(n)(r)(t.value3)))(t.value0);if(t instanceof An)return za(Tt)(n)(n(t.value1)(t.value2)(za(Tt)(n)(n(t.value4)(t.value5)(za(Tt)(n)(r)(t.value6)))(t.value3)))(t.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 26 - line 150, column 120): "+[t.constructor.name])}}},foldlWithIndex:function(n){return function(r){return function(t){if(t instanceof nn)return r;if(t instanceof mn)return ho(Tt)(n)(n(t.value1)(ho(Tt)(n)(r)(t.value0))(t.value2))(t.value3);if(t instanceof An)return ho(Tt)(n)(n(t.value4)(ho(Tt)(n)(n(t.value1)(ho(Tt)(n)(r)(t.value0))(t.value2))(t.value3))(t.value5))(t.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 151, column 26 - line 154, column 120): "+[t.constructor.name])}}},foldMapWithIndex:function(n){var r=Sn(n),t=x(n.Semigroup0());return function(e){return function(a){if(a instanceof nn)return r;if(a instanceof mn)return t(ku(Tt)(n)(e)(a.value0))(t(e(a.value1)(a.value2))(ku(Tt)(n)(e)(a.value3)));if(a instanceof An)return t(ku(Tt)(n)(e)(a.value0))(t(e(a.value1)(a.value2))(t(ku(Tt)(n)(e)(a.value3))(t(e(a.value4)(a.value5))(ku(Tt)(n)(e)(a.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 155, column 26 - line 158, column 128): "+[a.constructor.name])}}},Foldable0:function(){return jr}},c1=za(Tt),L2=ho(Tt),l1=function(){return c1(function(n){return function(r){return function(t){return new F(n,t)}}})(P.value)}();var s1=function(n){var r=Of(n),t=Kc(n),e=Gm(n);return function(a){return function(o){return function(u){return function(f){return function(c){var s=function(){if(u instanceof v)return function(p){return r(p)(u.value0)};if(u instanceof D)return U(!1);throw new Error("Failed pattern match at Data.Map.Internal (line 363, column 7 - line 367, column 22): "+[u.constructor.name])}(),m=function(){if(f instanceof v)return function(p){return t(p)(f.value0)};if(f instanceof D)return U(!1);throw new Error("Failed pattern match at Data.Map.Internal (line 370, column 7 - line 374, column 22): "+[f.constructor.name])}(),l=function(){if(u instanceof v&&f instanceof v)return function(p){return e(u.value0)(p)&&e(p)(f.value0)};if(u instanceof v&&f instanceof D)return function(p){return e(u.value0)(p)};if(u instanceof D&&f instanceof v)return function(p){return e(p)(f.value0)};if(u instanceof D&&f instanceof D)return U(!0);throw new Error("Failed pattern match at Data.Map.Internal (line 377, column 7 - line 385, column 21): "+[u.constructor.name,f.constructor.name])}(),_=function(p){if(p instanceof nn)return o;if(p instanceof mn)return a(a(function(){var i=s(p.value1);return i?o:_(p.value0)}())(function(){var i=l(p.value1);return i?c(p.value1)(p.value2):o}()))(function(){var i=m(p.value1);return i?o:_(p.value3)}());if(p instanceof An)return a(a(a(a(function(){var i=s(p.value1);return i?o:_(p.value0)}())(function(){var i=l(p.value1);return i?c(p.value1)(p.value2):o}()))(function(){var i=s(p.value4)||m(p.value1);return i?o:_(p.value3)}()))(function(){var i=l(p.value4);return i?c(p.value4)(p.value5):o}()))(function(){var i=m(p.value4);return i?o:_(p.value6)}());throw new Error("Failed pattern match at Data.Map.Internal (line 403, column 10 - line 415, column 67): "+[p.constructor.name])};return _}}}}}},lp=function(n){var r=s1(n);return function(t){return r(x(t.Semigroup0()))(Sn(t))}},cd=function(){var n=function(r){return function(t){var e=r,a=!1,o;function u(f,c){if(c instanceof nn)return a=!0,f;if(c instanceof mn){e=new v({key:c.value1,value:c.value2}),t=c.value0;return}if(c instanceof An){e=new v({key:c.value1,value:c.value2}),t=c.value0;return}throw new Error("Failed pattern match at Data.Map.Internal (line 338, column 5 - line 338, column 22): "+[f.constructor.name,c.constructor.name])}for(;!a;)o=u(e,t);return o}};return n(D.value)}();var oc=function(n){var r=Xm(n);return function(t){var e=H(Qc(r(t)));return{eq:function(a){return function(o){return e(hy(a))(hy(o))}}}}};var Qn=function(){return nn.value}(),Pt=function(n){var r=ae(n);return function(t){return Nn(t)(function(e){return function(a){return r(a.value0)(a.value1)(e)}})(Qn)}},$l=function(n){var r=Pt(n)(xl);return function(t){var e=gy(Jo(t));return function(a){return r(e(F2(a)))}}},ld=function(n){var r=$l(n);return function(t){return r(U(t))}},by=function(n){var r=$l(n);return function(t){return r(function(e){return U(t(e))})}};var _1=function(n){var r=ae(n);return function(t){return c1(function(e){return function(a){return function(o){return on(o)(function(u){return r(e)(u)(o)})(t(e)(a))}}})(Qn)}},ql=function(n){var r=_1(n);return function(t){return r(U(t))}},Va=function(n){var r=fd(n);return function(t){return function(e){return on(e)(yr)(r(t)(e))}}};var Ul=function(n){return ql(n)(w2)};var uc=function(n){var r=Xn(n),t=Va(n),e=ae(n);return function(a){return function(o){return function(u){var f=a(r(o)(u));if(f instanceof D)return t(o)(u);if(f instanceof v)return e(o)(f.value0)(u);throw new Error("Failed pattern match at Data.Map.Internal (line 596, column 15 - line 598, column 25): "+[f.constructor.name])}}}};var Ty=function(n){var r=uc(n);return function(t){return function(e){return function(a){return r(function(){var o=on(a)(rn(t)(a));return function(u){return v.create(o(u))}}())(e)}}}},sd=function(n){var r=uc(n);return function(t){return function(e){return function(a){var o=function(u){return function(f){return function(c){return r(function(){var s=on(c)(t(c));return function(m){return v.create(s(m))}}())(u)(f)}}};return L2(o)(a)(e)}}}},Cy=function(){return function(n){var r=sd(n);return function(t){var e=x(t);return{append:function(a){return function(o){return r(e)(a)(o)}}}}}},S2=Cy(),p1=function(){return function(n){var r=S2(n);return function(t){var e=r(t);return{mempty:Qn,Semigroup0:function(){return e}}}}},Bl=function(n){return sd(n)(U)},Ey=function(n){var r=s1(n),t=Bl(n);return function(e){return function(a){return r(t)(Qn)(e)(a)(Sa)}}},My=function(n){var r=Bl(n);return function(t){return Nn(t)(r)(Qn)}},wy=function(n){var r=uc(n);return function(t){return function(e){return function(a){return r(on(D.value)(t))(e)(a)}}}};var m1=Ei(tt);var vn=function(){function n(){}return n.value=new n,n}(),Ln=function(){function n(){}return n.value=new n,n}(),$n=function(){function n(){}return n.value=new n,n}(),an=function(){function n(){}return n.value=new n,n}(),Ze={show:function(n){if(n instanceof vn)return"Up";if(n instanceof Ln)return"Right";if(n instanceof $n)return"Down";if(n instanceof an)return"Left";throw new Error("Failed pattern match at Game.Direction (line 13, column 10 - line 17, column 20): "+[n.constructor.name])}},Aa={eq:function(n){return function(r){return n instanceof vn&&r instanceof vn||n instanceof Ln&&r instanceof Ln||n instanceof $n&&r instanceof $n||n instanceof an&&r instanceof an}}},jn={compare:function(n){return function(r){if(n instanceof vn&&r instanceof vn)return R.value;if(n instanceof vn)return A.value;if(r instanceof vn)return I.value;if(n instanceof Ln&&r instanceof Ln)return R.value;if(n instanceof Ln)return A.value;if(r instanceof Ln)return I.value;if(n instanceof $n&&r instanceof $n)return R.value;if(n instanceof $n)return A.value;if(r instanceof $n)return I.value;if(n instanceof an&&r instanceof an)return R.value;throw new Error("Failed pattern match at Game.Direction (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return Aa}},v1={succ:function(n){if(n instanceof vn)return new v(Ln.value);if(n instanceof Ln)return new v($n.value);if(n instanceof $n)return new v(an.value);if(n instanceof an)return D.value;throw new Error("Failed pattern match at Game.Direction (line 20, column 10 - line 24, column 20): "+[n.constructor.name])},pred:function(n){if(n instanceof vn)return D.value;if(n instanceof Ln)return new v(vn.value);if(n instanceof $n)return new v(Ln.value);if(n instanceof an)return new v($n.value);throw new Error("Failed pattern match at Game.Direction (line 25, column 10 - line 29, column 22): "+[n.constructor.name])},Ord0:function(){return jn}},H2=function(){return{bottom:vn.value,top:an.value,Ord0:function(){return jn}}}(),ic={cardinality:4,fromEnum:function(n){if(n instanceof vn)return 0;if(n instanceof Ln)return 1;if(n instanceof $n)return 2;if(n instanceof an)return 3;throw new Error("Failed pattern match at Game.Direction (line 37, column 14 - line 41, column 14): "+[n.constructor.name])},toEnum:function(n){return n===0?new v(vn.value):n===1?new v(Ln.value):n===2?new v($n.value):n===3?new v(an.value):D.value},Bounded0:function(){return H2},Enum1:function(){return v1}},d1=function(n){if(n instanceof vn)return $n.value;if(n instanceof Ln)return an.value;if(n instanceof $n)return vn.value;if(n instanceof an)return Ln.value;throw new Error("Failed pattern match at Game.Direction (line 53, column 21 - line 57, column 17): "+[n.constructor.name])},he=function(){return tF(v1)(V_)(vn.value)(an.value)}();var D1=w(Or),g1=G(Sr);var Ja={show:function(n){return"("+(D1(n.x)+(","+(D1(n.y)+")")))}},bo={eq:function(n){return function(r){return n.x===r.x&&n.y===r.y}}},P2=H(bo),pt={compare:function(n){return function(r){var t=g1(n.x)(r.x);return t instanceof A?A.value:t instanceof I?I.value:g1(n.y)(r.y)}},Eq0:function(){return bo}};var Ar=function(n){return function(r){return{x:n,y:r}}},Gl=function(n){return function(r){if(r instanceof vn)return Ar(n.x)(n.y-1|0);if(r instanceof Ln)return Ar(n.x+1|0)(n.y);if(r instanceof $n)return Ar(n.x)(n.y+1|0);if(r instanceof an)return Ar(n.x-1|0)(n.y);throw new Error("Failed pattern match at Game.Location (line 30, column 37 - line 34, column 28): "+[r.constructor.name])}},Fy=function(n){return function(r){return np(function(t){return P2(Gl(n)(t))(r)})(he)}};var O2=ar(fr),W2=Nn(fr),$2=er(fr);var q2=function(n){return n};var _d=function(n){return l1(n)},h1=function(n){var r=n1(n);return function(t){return r(_d(t))}};var sp=function(n){var r=fp(n);return function(t){return function(e){return r(t)(e)}}};var Ly=function(n){var r=ae(n);return function(t){return function(e){return r(t)(void 0)(e)}}},y1=q2,kl={foldMap:function(n){var r=O2(n);return function(t){var e=r(t);return function(a){return e(_d(a))}}},foldl:function(n){return function(r){var t=W2(n)(r);return function(e){return t(_d(e))}}},foldr:function(n){return function(r){var t=$2(n)(r);return function(e){return t(_d(e))}}}};var b1=function(n){var r=H(oc(n)(qm));return{eq:function(t){return function(e){return r(t)(e)}}}};var pd=Qn,fu=function(n){var r=Nn(n);return function(t){var e=Ly(t);return r(function(a){return function(o){return e(o)(a)}})(pd)}};var zl=function(){var n=xn(qe);return function(r){return y1(n(r))}}();var at=function(){function n(){}return n.value=new n,n}(),ja=function(){function n(){}return n.value=new n,n}(),ju=function(){function n(){}return n.value=new n,n}(),cu=function(){function n(){}return n.value=new n,n}(),Et=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Mt=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),k2={eq:function(n){return function(r){return n instanceof at&&r instanceof at||n instanceof ja&&r instanceof ja||n instanceof ju&&r instanceof ju||n instanceof cu&&r instanceof cu}}},T1=H(k2),C1={eq:function(n){return function(r){return n instanceof Et&&r instanceof Et||n instanceof Mt&&r instanceof Mt?T1(n.value0)(r.value0):!1}}};var Vl=function(n){if(n instanceof at)return 1;if(n instanceof ja)return 2;if(n instanceof ju)return 4;if(n instanceof cu)return 8;throw new Error("Failed pattern match at Game.Piece.Port (line 11, column 9 - line 15, column 16): "+[n.constructor.name])};var md=function(n){if(n instanceof Et||n instanceof Mt)return n.value0;throw new Error("Failed pattern match at Game.Piece.Port (line 61, column 16 - line 63, column 30): "+[n.constructor.name])},Iy=function(n){if(n instanceof Et)return new Mt(n.value0);if(n instanceof Mt)return new Et(n.value0);throw new Error("Failed pattern match at Game.Piece.Port (line 53, column 1 - line 53, column 29): "+[n.constructor.name])};var Ia=function(n){return n instanceof Et},Hy=function(){var n=At(tt);return function(r){return n(Ia(r))}}(),_p=function(n){if(n instanceof at)return D.value;if(n instanceof ja)return new v(at.value);if(n instanceof ju)return new v(ja.value);if(n instanceof cu)return new v(cu.value);throw new Error("Failed pattern match at Game.Piece.Port (line 23, column 17 - line 27, column 28): "+[n.constructor.name])},vd=function(n){if(n instanceof at)return new v(ja.value);if(n instanceof ja)return new v(ju.value);if(n instanceof ju)return new v(cu.value);if(n instanceof cu)return D.value;throw new Error("Failed pattern match at Game.Piece.Port (line 30, column 18 - line 34, column 22): "+[n.constructor.name])};var z2=G(Cr),V2=Xn(jn),J2=ld(jn),Q2=ol()(),j2=Vg(),K2=rr();var fc={show:function(n){return n}},Jl={eq:function(n){return function(r){return n===r}}},cc={compare:function(n){return function(r){return z2(n)(r)}},Eq0:function(){return Jl}},pp=function(n){return n.updatePort},dd=function(n){return n.updateCapacity},oe=function(n){return n.name},Co=function(n){return n.getPorts},Ql=function(n){var r=Co(n);return function(t){return function(e){return V2(e)(r(t))}}},mp=function(n){var r=Co(n);return function(t){return zl(J2(Hy)(r(t)))}};var Py=function(n){return n.getCapacity},lc=function(n){return n.eval},xy=function(){return function(n){return function(r){return new v(Q2(j2)(function(t){var e={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.capacity=n,e})(r))}}},Ry=function(){return function(n){return new v(K2(n).capacity)}};var X2=w(Or),Y2=G(Sr),Oy=Uf(Pe),Z2=Jr(ic),Ny=$r(ic),nB=function(n){return n},vp={show:function(n){return"Rotation "+(X2(n*90|0)+"\xB0")}},jl={eq:function(n){return function(r){return n===r}}},Dd={compare:function(n){return function(r){return Y2(n)(r)}},Eq0:function(){return jl}},Wt=function(n){return Oy(n)(4)},rB={bottom:Wt(0),top:Wt(3),Ord0:function(){return Dd}},tB={succ:function(n){return n===3?D.value:new v(Wt(n+1|0))},pred:function(n){return n===0?D.value:new v(Wt(n-1|0))},Ord0:function(){return Dd}},eB={cardinality:4,fromEnum:function(n){return n},toEnum:function(n){return v.create(nB(n))},Bounded0:function(){return rB},Enum1:function(){return tB}},aB=$r(eB),dp={append:function(n){return function(r){return Wt(n+r|0)}}},Dp={mempty:Wt(0),Semigroup0:function(){return dp}},E1={ginverse:function(n){return Wt(-n|0)},Monoid0:function(){return Dp}},Eo=function(n){return function(r){return Un(vn.value)(Z2(Oy(Ny(n)+aB(r)|0)(4)))}},Ka=function(n){return function(r){return Wt(Ny(r)-Oy(Ny(n))(4)|0)}};var gp=w(Ja),M1=w(fc),oB=w(vp),Kl=H(bo),w1=H(Jl),uB=H(jl),hp=G(pt),F1=G(cc),iB=G(Dd),fB=av(jr)(co),cB=je(Ei(m1)),lB=H(Di),sB=Rt(co);var Xl=function(){function n(){}return n.value=new n,n}(),gd=function(){function n(){}return n.value=new n,n}(),ue=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),ye=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Xa=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),be=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Ya=function(){function n(){}return n.value=new n,n}(),Mo=function(){function n(){}return n.value=new n,n}(),wo=function(){function n(){}return n.value=new n,n}(),Xu=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),$t=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),hd=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Wy={show:function(n){if(n instanceof ue)return"Added "+(gp(n.value0)+(" at "+M1(n.value1)));if(n instanceof ye)return"Removed "+(gp(n.value0)+(" at "+M1(n.value1)));if(n instanceof Xa)return"Moved piece from "+(gp(n.value0)+(" to "+gp(n.value1)));if(n instanceof be)return"Rotated by "+(oB(n.value1)+(" at "+gp(n.value0)));if(n instanceof Ya)return"Undo last boardEvent";if(n instanceof Mo)return"Incremented board size";if(n instanceof wo)return"Decremented board size";if(n instanceof Xu)return"Multiple boardEvents: "+w(Wi(Wy))(n.value0);throw new Error("Failed pattern match at Game.GameEvent (line 50, column 10 - line 58, column 73): "+[n.constructor.name])}},L1={eq:function(n){return function(r){return n instanceof Xl&&r instanceof Xl||n instanceof gd&&r instanceof gd}}},_B=H(L1),pB={compare:function(n){return function(r){if(n instanceof Xl&&r instanceof Xl)return R.value;if(n instanceof Xl)return A.value;if(r instanceof Xl)return I.value;if(n instanceof gd&&r instanceof gd)return R.value;throw new Error("Failed pattern match at Game.GameEvent (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return L1}},mB=G(pB),$y={eq:function(n){return function(r){return n instanceof ue&&r instanceof ue||n instanceof ye&&r instanceof ye?Kl(n.value0)(r.value0)&&w1(n.value1)(r.value1):n instanceof Xa&&r instanceof Xa?Kl(n.value0)(r.value0)&&Kl(n.value1)(r.value1):n instanceof be&&r instanceof be?Kl(n.value0)(r.value0)&&uB(n.value1)(r.value1):n instanceof Ya&&r instanceof Ya||n instanceof Mo&&r instanceof Mo||n instanceof wo&&r instanceof wo?!0:n instanceof Xu&&r instanceof Xu?H(Hl($y))(n.value0)(r.value0):!1}}},vB=H($y),dB={eq:function(n){return function(r){return n instanceof $t&&r instanceof $t?vB(n.value0)(r.value0):n instanceof hd&&r instanceof hd?_B(n.value0)(r.value0):!1}}},S1={compare:function(n){return function(r){if(n instanceof ue&&r instanceof ue){var t=hp(n.value0)(r.value0);return t instanceof A?A.value:t instanceof I?I.value:F1(n.value1)(r.value1)}if(n instanceof ue)return A.value;if(r instanceof ue)return I.value;if(n instanceof ye&&r instanceof ye){var t=hp(n.value0)(r.value0);return t instanceof A?A.value:t instanceof I?I.value:F1(n.value1)(r.value1)}if(n instanceof ye)return A.value;if(r instanceof ye)return I.value;if(n instanceof Xa&&r instanceof Xa){var t=hp(n.value0)(r.value0);return t instanceof A?A.value:t instanceof I?I.value:hp(n.value1)(r.value1)}if(n instanceof Xa)return A.value;if(r instanceof Xa)return I.value;if(n instanceof be&&r instanceof be){var t=hp(n.value0)(r.value0);return t instanceof A?A.value:t instanceof I?I.value:iB(n.value1)(r.value1)}if(n instanceof be)return A.value;if(r instanceof be)return I.value;if(n instanceof Ya&&r instanceof Ya)return R.value;if(n instanceof Ya)return A.value;if(r instanceof Ya)return I.value;if(n instanceof Mo&&r instanceof Mo)return R.value;if(n instanceof Mo)return A.value;if(r instanceof Mo)return I.value;if(n instanceof wo&&r instanceof wo)return R.value;if(n instanceof wo)return A.value;if(r instanceof wo)return I.value;if(n instanceof Xu&&r instanceof Xu)return G(op(S1))(n.value0)(r.value0);throw new Error("Failed pattern match at Game.GameEvent (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return $y}},DB=G(S1),A1={compare:function(n){return function(r){if(n instanceof $t&&r instanceof $t)return DB(n.value0)(r.value0);if(n instanceof $t)return A.value;if(r instanceof $t)return I.value;if(n instanceof hd&&r instanceof hd)return mB(n.value0)(r.value0);throw new Error("Failed pattern match at Game.GameEvent (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return dB}},gB=by(A1),hB=Ty(A1);var I1=function(n){return function(r){return r instanceof $t&&r.value0 instanceof Xa?Kl(n)(r.value0.value1):!1}};var H1=function(n){return n instanceof $t&&n.value0 instanceof ue};var yB=function(n){return function(r){return on(!1)(n)(t1(r.gameEventHistory))}},P1=function(){return{gameEventHistory:P.value,allGameEvents:Qn}}(),bB=function(n){return function(r){return function(t){return function(e){return n(fB(gB(t)(e.allGameEvents)))(r)}}}},qy=cB(yB)(bB(lB)(1));var x1=function(n){return function(r){return{gameEventHistory:new F(n,r.gameEventHistory),allGameEvents:hB(sB)(n)(1)(r.allGameEvents)}}};var Uy=L,R1=L;var CB=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var O1=function(n){return function(r){return Uy(function(t){return n(t.value0)(t.value1)})(r)}};var W1=function(n){return function(r){return R1(new CB(n,r))}},By={map:function(n){return function(r){return Uy(function(t){return W1(function(e){return n(t.value0(e))})(t.value1)})(r)}}};var $1=W1(W(q));var MB=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}();var yd=function(n){return MB.create(H(n.Eq0()))(G(n))},wB={eq:function(n){return function(r){return n.value0(n.value2)(r.value2)}}},q1={compare:function(n){return function(r){return n.value1(n.value2)(r.value2)}},Eq0:function(){return wB}};var ky=C_(Cr)(q1);var LB=fd(ky),SB=Xn(ky),AB=ae(ky);var U1=function(){return function(n){var r=Vr(n);return function(t){var e=yd(t);return function(a){return function(o){return function(u){return LB(new h(r(a),e(o)))(u)}}}}}},bp=function(){return function(n){var r=Vr(n);return function(t){var e=yd(t);return function(a){return function(o){return function(u){return SB(new h(r(a),e(o)))(u)}}}}}},B1=function(){return function(n){var r=Vr(n);return function(t){var e=yd(t);return function(a){return function(o){return function(u){return function(f){return AB(new h(r(a),e(o)))(u)(f)}}}}}}},G1=function(n){var r=Zn(n)(jr);return function(t){return function(e){return r(function(a){return e(a)})(t)}}},Yl=Qn;var Zl=function(n){return function(r){return r.split(n)}},Td=function(n){return n.toLowerCase()},Cp=function(n){return n.toUpperCase()};var Ha=function(n){return function(r){return r.join(n)}};var ns=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Yu=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var zy={map:function(n){return function(r){if(r instanceof ns)return new ns(r.value0,r.value1);if(r instanceof Yu)return new Yu(n(r.value0));throw new Error("Failed pattern match at Halogen.Query.Input (line 0, column 0 - line 0, column 0): "+[r.constructor.name])}}};var Kr=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),Mp=L,ra=function(n,r){return n.value2(n.value1,r)},Xr=L,ta=function(n){return n.value3(n.value1)},ie=Mp(function(n){return n.value0});var k1=g(zn),XB=g(Qo);var Za=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Lo=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),lu=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),su=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ea=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),z1=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),V1=function(n){return function(r){return n(r)}};var J1=L;var YB={bimap:function(n){return function(r){return V1(function(t){return J1(new z1(function(e){return n(t.value0(e))},function(e){return r(t.value1(e))},t.value2))})}}},Q1=xe(YB),j1={bimap:function(n){return function(r){return function(t){return t instanceof Za?new Za(t.value0):t instanceof ea?new ea(Q1(n)(r)(t.value0)):new ea(J1(new z1(n,r,t)))}}}},Zu=V1(function(n){var r=function(t){if(t instanceof Za)return new Za(t.value0);if(t instanceof Lo)return new Lo(t.value0,t.value1,n.value0(t.value2),k1(r)(t.value3));if(t instanceof lu)return new lu(t.value0,t.value1,n.value0(t.value2),k1(XB(r))(t.value3));if(t instanceof su)return new su(n.value1(t.value0));if(t instanceof ea)return new ea(Q1(n.value0)(n.value1)(t.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): "+[t.constructor.name])};return r(n.value2)});function sc(n,r){return r[n]}function Vy(n,r){return r.hasOwnProperty(n)}function ni(n,r,t){t[n]=r}function Jy(n,r){for(var t=[],e=0;e<n.length;e++)t.push(r(e,n[e]));return t}function Qy(n,r){for(var t=0;t<n.length;t++)r(n[t])}function jy(n,r){for(var t=Object.keys(n),e=0;e<t.length;e++){var a=t[e];r(a,n[a])}}function Ky(n,r,t,e,a){for(var o=[],u=n.length,f=r.length,c=0;;){if(c<u)c<f?o.push(t(c,n[c],r[c])):e(c,n[c]);else if(c<f)o.push(a(c,r[c]));else break;c++}return o}function wp(n,r,t){for(var e={},a=0;a<n.length;a++){var o=n[a],u=r(o);e[u]=t(u,a,o)}return e}function Fp(n,r,t,e,a,o){for(var u={},f=0;f<r.length;f++){var c=r[f],s=t(c);n.hasOwnProperty(s)?u[s]=e(s,f,n[s],c):u[s]=o(s,f,c)}for(var s in n)s in u||a(s,n[s]);return u}function _c(n,r){return n===r}function Xy(n,r){return r.createTextNode(n)}function Yy(n,r){r.textContent=n}function Md(n,r,t){return n!=null?t.createElementNS(n,r):t.createElement(r)}function ki(n,r,t){var e=t.childNodes.item(n)||null;e!==r&&t.insertBefore(r,e)}function Lp(n,r){r&&n.parentNode===r&&r.removeChild(n)}function Sp(n){return n.parentNode}function wd(n,r,t,e){n!=null?e.setAttributeNS(n,r,t):e.setAttribute(r,t)}function Fd(n,r,t){n!=null?t.removeAttributeNS(n,r):t.removeAttribute(r)}function Zy(n,r,t){return n!=null?t.hasAttributeNS(n,r):t.hasAttribute(r)}function nb(n,r,t){t.addEventListener(n,r,!1)}function rb(n,r,t){t.removeEventListener(n,r,!1)}var tb=void 0;var Ld=function(){return{}};var eb=sc,ab=L,ob=ni,ub=Ld;var Ap=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}};var fb=function(n){return ta(n.widget)},cb=Ap("patchWidget","Halogen.VDom.DOM",function(){return function(n,r){if(r instanceof ea)return cb(291)(n,Zu(r.value0));if(r instanceof su){var t=ra(n.widget,r.value0),e=Mp(function(a){return Xr(new Kr(a.value0,{build:n.build,widget:t},cb(296),fb))})(t);return e}return fb(n),n.build(r)}}),aG=cb(286),Sd=function(n){var r=Sp(n.node);return Lp(n.node,r)},Ad=Ap("patchText","Halogen.VDom.DOM",function(){return function(n,r){if(r instanceof ea)return Ad(82)(n,Zu(r.value0));if(r instanceof Za){if(n.value===r.value0)return Xr(new Kr(n.node,n,Ad(85),Sd));if(kn){var t={build:n.build,node:n.node,value:r.value0};return Yy(r.value0,n.node),Xr(new Kr(n.node,t,Ad(89),Sd))}}return Sd(n),n.build(r)}}),oG=Ad(77),Id=function(n){var r=Sp(n.node);return Lp(n.node,r),jy(n.children,function(t,e){return ta(e)}),ta(n.attrs)},Hd=function(n){var r=Sp(n.node);return Lp(n.node,r),Qy(n.children,ta),ta(n.attrs)},X1=function(n,r,t,e){var a=r===e;return a?n instanceof v&&t instanceof v&&n.value0===t.value0||n instanceof D&&t instanceof D:!1},Pd=Ap("patchElem","Halogen.VDom.DOM",function(){return function(n,r){if(r instanceof ea)return Pd(135)(n,Zu(r.value0));if(r instanceof Lo&&X1(n.ns,n.name,r.value0,r.value1)){var t=bt(r.value3),e=bt(n.children);if(e===0&&t===0){var c=ra(n.attrs,r.value2),s={build:n.build,node:n.node,attrs:c,ns:r.value0,name:r.value1,children:n.children};return Xr(new Kr(n.node,s,Pd(149),Hd))}var a=function(m,l){return ta(l)},o=function(m,l,_){var p=ra(l,_);return ki(m,ie(p),n.node),p},u=function(m,l){var _=n.build(l);return ki(m,ie(_),n.node),_},f=Ky(n.children,r.value3,o,a,u),c=ra(n.attrs,r.value2),s={build:n.build,node:n.node,attrs:c,ns:r.value0,name:r.value1,children:f};return Xr(new Kr(n.node,s,Pd(172),Hd))}return Hd(n),n.build(r)}}),uG=Pd(130),xd=Ap("patchKeyed","Halogen.VDom.DOM",function(){return function(n,r){if(r instanceof ea)return xd(222)(n,Zu(r.value0));if(r instanceof lu&&X1(n.ns,n.name,r.value0,r.value1)){var t=bt(r.value3);if(n.length===0&&t===0){var f=ra(n.attrs,r.value2),c={build:n.build,node:n.node,attrs:f,ns:r.value0,name:r.value1,children:n.children,length:0};return Xr(new Kr(n.node,c,xd(237),Id))}var e=function(s,m){return ta(m)},a=function(s,m,l,_){var p=ra(l,_.value1);return ki(m,ie(p),n.node),p},o=function(s,m,l){var _=n.build(l.value1);return ki(m,ie(_),n.node),_},u=Fp(n.children,r.value3,et,a,e,o),f=ra(n.attrs,r.value2),c={build:n.build,node:n.node,attrs:f,ns:r.value0,name:r.value1,children:u,length:t};return Xr(new Kr(n.node,c,xd(261),Id))}return Id(n),n.build(r)}}),iG=xd(217),fG=function(n,r,t){var e=n.buildWidget(n)(t),a=Mp(function(o){return Xr(new Kr(o.value0,{build:r,widget:e},aG,fb))})(e);return a},cG=function(n,r,t){var e=Xy(t,n.document),a={build:r,node:e,value:t};return Xr(new Kr(e,a,oG,Sd))},lG=function(n,r,t,e,a,o){var u=Md(Uu(t),e,n.document),f=xh(u),c=function(_,p,i){var d=r(i.value1);return ki(p,ie(d),f),d},s=wp(o,et,c),m=n.buildAttributes(u)(a),l={build:r,node:f,attrs:m,ns:t,name:e,children:s,length:bt(o)};return Xr(new Kr(f,l,iG,Id))},sG=function(n,r,t,e,a,o){var u=Md(Uu(t),e,n.document),f=xh(u),c=function(_,p){var i=r(p);return ki(_,ie(i),f),i},s=Jy(o,c),m=n.buildAttributes(u)(a),l={build:r,node:f,attrs:m,ns:t,name:e,children:s};return Xr(new Kr(f,l,uG,Hd))},Ip=function(n){var r=Ap("build","Halogen.VDom.DOM",function(){return function(e){if(e instanceof Za)return cG(n,r(59),e.value0);if(e instanceof Lo)return sG(n,r(60),e.value0,e.value1,e.value2,e.value3);if(e instanceof lu)return lG(n,r(61),e.value0,e.value1,e.value2,e.value3);if(e instanceof su)return fG(n,r(62),e.value0);if(e instanceof ea)return r(63)(Zu(e.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): "+[e.constructor.name])}}),t=r(58);return t};function Rd(n){return typeof n}var Z1=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};var nL=function(n){return function(r){return function(t){return(t|0)===t?n(t):r}}},qt=function(n){return n};var Nd=function(n){return function(r){return r.toString(n)}};var Od=isFinite;var _b=function(n){return function(r){return Math.atan2(n,r)}};var pb=Math.round;var tL=3.141592653589793;var eL=ma(zm),aL=va(zm);var mb=16;var vb=function(){return nL(v.create)(D.value)}(),gG=function(n){if(!Od(n))return 0;if(n>=qt(eL))return eL;if(n<=qt(aL))return aL;if(kn)return Un(0)(vb(n));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[n.constructor.name])},oL=function(n){return gG(pb(n))};var uL=function(n){return(n&1)===0};var db=function(){var n=ed(jF);return function(r){return sy(n(r))}}();var iL=function(n){return function(r){return new yo(n,new F(r.value0,r.value1))}};var Db=function(n){return n.split("")},$d=function(n){return n};var _u=function(n){return n.length};var cL=function(n){return function(r){return function(t){return function(e){var a=e.indexOf(t);return a===-1?r:n(a)}}}};var Hp=function(n){return function(r){return r.substr(0,n)}},pc=function(n){return function(r){return r.substring(n)}};var gb=function(n){return function(r){return{before:r.substring(0,n),after:r.substring(n)}}};var zi=function(n){return function(r){if(n>=0&&n<r.length)return r.charAt(n);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var qd=function(n){return function(r){var t=gb(_u(n))(r),e=t.before===n;return e?new v(t.after):D.value}};var hb=function(){return cL(v.create)(D.value)}();function pL(n,r,t,e){return t in e?r(e[t]):n}function Ud(n){return function(r){var t=[];for(var e in r)hasOwnProperty.call(r,e)&&t.push(n(e)(r[e]));return t}}var wG=Object.keys||Ud(function(n){return function(){return n}});var Bd=function(n){var r=ty(n),t=Ud(h.create);return function(e){return r(t(e))}};var mc=function(){return Zf(pL)(D.value)(v.create)}();var Vi=function(){return L};function ti(n){return function(){return function(r){return n(r)()}}}function vc(n){return function(r){return function(t){return function(e){return function(){return e.addEventListener(n,r,t)}}}}}function dc(n){return function(r){return function(t){return function(e){return function(){return e.removeEventListener(n,r,t)}}}}}var HG=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},mL=g(ct),vL=g(In),Tb=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Cb=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ei=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),Ji=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),pu=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),ai=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),PG=sc,bb=ni,xG=function(n,r){var t=Zy(null,n,r);if(t)return Fd(null,n,r);var e=Rd(sc(n,r));return e==="string"?ni(n,"",r):n==="rowSpan"?ni(n,1,r):n==="colSpan"?ni(n,1,r):ni(n,tb,r)},dL=function(n){if(n instanceof ei&&n.value0 instanceof v)return"attr/"+(n.value0.value0+(":"+n.value1));if(n instanceof ei)return"attr/:"+n.value1;if(n instanceof Ji)return"prop/"+n.value0;if(n instanceof pu)return"handler/"+n.value0;if(n instanceof ai)return"ref";throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): "+[n.constructor.name])},DL=L;var gL=L,hL=L,Eb={map:function(n){return function(r){return r instanceof pu?new pu(r.value0,mL(vL(n))(r.value1)):r instanceof ai?new ai(mL(vL(n))(r.value0)):r}}};var yL=function(n){return function(r){var t=function(m){return function(l,_){if(_ instanceof ei)return Fd(Uu(_.value0),_.value1,r);if(_ instanceof Ji)return xG(_.value0,r);if(_ instanceof pu){var p=eb(_.value0,m);return rb(_.value0,et(p),r)}if(_ instanceof ai)return void 0;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): "+[_.constructor.name])}},e=function(m){return m instanceof v?n(m.value0)():void 0},a=function(m){var l=mc("ref")(m.props);return l instanceof v&&l.value0 instanceof ai?e(l.value0.value0(new Cb(r))):void 0},o=function(m,l){return function(_,p,i,d){if(i instanceof ei&&d instanceof ei){var M=i.value2===d.value2;return M||wd(Uu(d.value0),d.value1,d.value2,r),d}if(i instanceof Ji&&d instanceof Ji){var O=_c(i.value1,d.value1);if(O)return d;if(d.value0==="value"){var _n=PG("value",r),Q=_c(_n,d.value1);return Q||bb(d.value0,d.value1,r),d}return bb(d.value0,d.value1,r),d}if(i instanceof pu&&d instanceof pu){var V=eb(d.value0,m);return Bn(d.value1)(yr(V))(),ob(d.value0,V,l),d}return d}},u=function(m){return function(l,_,p){if(p instanceof ei)return wd(Uu(p.value0),p.value1,p.value2,r),p;if(p instanceof Ji)return bb(p.value0,p.value1,r),p;if(p instanceof pu){var i=sc(p.value0,m);if(Vy(p.value0,m))return Bn(p.value1)(yr(i))(),p;var d=or(p.value1)(),M=ti(function(O){return function(){var Q=sn(d)();return e(Q(O))}})();return ob(p.value0,new h(M,d),m),nb(p.value0,M,r),p}if(p instanceof ai)return e(p.value0(new Tb(r))),p;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): "+[p.constructor.name])}},f=HG("patchProp","Halogen.VDom.DOM.Prop",function(){return function(m,l){var _=ub(),p=t(m.events),i=o(m.events,_),d=u(_),M=Fp(m.props,l,dL,i,p,d),O={events:ab(_),props:M};return Xr(new Kr(void 0,O,f(100),a))}}),c=f(87),s=function(m){var l=ub(),_=wp(m,dL,u(l)),p={events:ab(l),props:_};return Xr(new Kr(void 0,p,c,a))};return s}};var RG=g(zn),NG=g(Eb),OG=g(zy);var WG=xe(j1),Fb=function(n){return n},Lb=function(n){return Fb(su.create(n))},$G=function(n){return n.toPropValue},Cn=function(n){return Fb(Za.create(n))},CL=function(n){return new ai(function(r){return n(function(t){if(t instanceof Tb)return new v(t.value0);if(t instanceof Cb)return D.value;throw new Error("Failed pattern match at Halogen.HTML.Core (line 109, column 21 - line 111, column 23): "+[t.constructor.name])}(r))})},EL=function(n){var r=$G(n);return function(t){var e=Ji.create(t);return function(a){return e(r(a))}}};var kd={toPropValue:DL};var ML={toPropValue:gL};var wL={toPropValue:hL};var Sb=function(){return pu.create}(),Ab=function(n){return function(r){return function(t){return function(e){return new Lo(n,r,t,e)}}}},FL={bimap:function(n){return function(r){return function(t){return WG(RG(NG(OG(r))))(n)(t)}}}};var LL=function(n){return function(r){return ei.create(n)(r)}};var UG=W(q);var zd=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Ib=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Hb=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),AL=function(n){return function(r){return new Hb(n,r)}},Pb=function(){return Ib.create}(),IL=function(n){var r=y(n);return function(t){return function(e){return function(a){return function(o){return function(u){if(o instanceof zd)return new h(new F({func:r(o.value0),count:u},t),e);if(o instanceof Ib)return new h(new F({func:a(o.value0),count:u},t),e);if(o instanceof Hb)return IL(n)(t)(iL(o.value1)(e))(a)(o.value0)(u+1|0);throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): "+[o.constructor.name])}}}}}},HL=function(n){var r=hn(n.Apply0());return function(t){return function(e){return function(a){if(t instanceof P)return new j(a);if(t instanceof F){var o=r(t.value0.func)(a),u=t.value0.count===1;if(u)return t.value1 instanceof P?new j(o):HL(n)(t.value1)(e)(o);if(e instanceof P)return new j(o);if(e instanceof F)return new K(new h(new F({func:o,count:t.value0.count-1|0},t.value1),new yo(e.value0,e.value1)));throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): "+[e.constructor.name])}throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): "+[t.constructor.name])}}}},xb={map:function(n){return function(r){return AL(new zd(n))(r)}}},PL=function(n){var r=HL(n),t=y(n),e=IL(n);return function(a){return function(o){var u=function(f){var c=!1,s;function m(l){if(l.value1.value0 instanceof zd){var _=r(l.value0)(l.value1.value1)(t(l.value1.value0.value0));if(_ instanceof j)return c=!0,_.value0;if(_ instanceof K){f=_.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): "+[_.constructor.name])}if(l.value1.value0 instanceof Ib){var _=r(l.value0)(l.value1.value1)(a(l.value1.value0.value0));if(_ instanceof j)return c=!0,_.value0;if(_ instanceof K){f=_.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): "+[_.constructor.name])}if(l.value1.value0 instanceof Hb){var p=new yo(l.value1.value0.value1,l.value1.value1);f=e(l.value0)(p)(a)(l.value1.value0.value0)(1);return}throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): "+[l.value1.value0.constructor.name])}for(;!c;)s=m(f);return s};return u(new h(P.value,db(o)))}}},xL=function(n){return PL(n)(UG)},Rb={apply:function(n){return function(r){return AL(n)(r)}},Functor0:function(){return xb}},Nb=function(){return{pure:zd.create,Apply0:function(){return Rb}}}(),BG=PL(Nb),Vd=function(n){return BG(function(r){return Pb(n(r))})};var Jd=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var RL=function(n){var r=!1,t;function e(a){if(a.value0 instanceof P&&a.value1 instanceof P)return r=!0,D.value;if(a.value0 instanceof P){n=new Jd(Vu(a.value1),P.value);return}if(a.value0 instanceof F)return r=!0,new v(new h(a.value0.value0,new Jd(a.value0.value1,a.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[a.constructor.name])}for(;!r;)t=e(n);return t},NL=function(n){return function(r){return new Jd(n.value0,new F(r,n.value1))}};var OL=function(n){return n.value0 instanceof P&&n.value1 instanceof P};var Wb=function(){return new Jd(P.value,P.value)}();var Qi=function(){function n(){}return n.value=new n,n}(),Pp=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var WL=function(n){return function(r){if(n instanceof Qi)return r;if(r instanceof Qi)return n;if(n instanceof Pp)return new Pp(n.value0,NL(n.value1)(r));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[n.constructor.name,r.constructor.name])}},kG=function(n){return function(r){return function(t){var e=function(o){return function(u){return function(f){var c=o,s=u,m=!1,l;function _(p,i,d){if(d instanceof P)return m=!0,i;if(d instanceof F){c=p,s=p(i)(d.value0),f=d.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[p.constructor.name,i.constructor.name,d.constructor.name])}for(;!m;)l=_(c,s,f);return l}}},a=function(o){return function(u){var f=o,c=!1,s;function m(l,_){var p=RL(l);if(p instanceof D)return c=!0,e(function(i){return function(d){return d(i)}})(r)(_);if(p instanceof v){f=p.value0.value1,u=new F(n(p.value0.value0),_);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[p.constructor.name])}for(;!c;)s=m(f,u);return s}};return a(t)(P.value)}}},Qd=function(n){if(n instanceof Qi)return D.value;if(n instanceof Pp)return new v(new h(n.value0,function(){var r=OL(n.value1);return r?Qi.value:kG(WL)(Qi.value)(n.value1)}()));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[n.constructor.name])};var $L=function(){return Qi.value}(),$b=WL,qb=function(n){return function(r){return $b(new Pp(n,Wb))(r)}};var zG=function(n){return qb(n)(Qi.value)};var xp={append:$b},VG=function(){return{mempty:Qi.value,Semigroup0:function(){return xp}}}();var Ub=function(n){var r=ar(n)(VG);return function(t){return r(zG)(t)}},qL=function(n){return function(r){return $b(n)(new Pp(r,Wb))}};var JG=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},QG=x(xp),jG=g(ct);var Bb=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Rp=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Np=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),BL=function(n){var r=!1,t;function e(a){var o=function(c){return c},u=function(c){return function(s){return new Bb(c.value0,QG(c.value1)(s))}};if(a.value0 instanceof Rp){var f=Qd(a.value1);if(f instanceof D)return r=!0,new Rp(a.value0.value0);if(f instanceof v){n=u(o(f.value0.value0)(a.value0.value0))(f.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[f.constructor.name])}if(a.value0 instanceof Np)return r=!0,new Np(a.value0.value0,function(c){return u(a.value0.value1(c))(a.value1)});throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[a.value0.constructor.name])}for(;!r;)t=e(n);return t};var GL=function(n){return new Bb(n,$L)};var jd={Applicative0:function(){return es},Bind1:function(){return ts}},Kd={map:function(n){return function(r){return ur(ts)(function(){var t=y(es);return function(e){return t(n(e))}}())(r)}}},ts={bind:function(n){return function(r){return new Bb(n.value0,qL(n.value1)(r))}},Apply0:function(){return kL(0)}},es={pure:function(n){return GL(Rp.create(n))},Apply0:function(){return kL(0)}},kL=JG("freeApply","Control.Monad.Free",function(){return{apply:re(jd),Functor0:function(){return Kd}}});var KG=b(ts),zL=y(es);var no=function(n){return GL(new Np(n,function(r){return zL(r)}))};var XG=function(n){var r=function(t){var e=BL(t);if(e instanceof Rp)return zL(e.value0);if(e instanceof Np)return KG(n(e.value0))(jG(r)(e.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 168, column 10 - line 170, column 33): "+[e.constructor.name])};return r},VL=function(n){return XG(function(r){return no(n(r))})};var JL=function(n){var r=n.Monad0(),t=g(r.Bind1().Apply0().Functor0()),e=y(r.Applicative0()),a=Xe(n);return function(o){var u=function(f){var c=BL(f);if(c instanceof Rp)return t(gt.create)(e(c.value0));if(c instanceof Np)return t(function(s){return ht.create(c.value1(s))})(o(c.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[c.constructor.name])};return a(u)}};var kb=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),QL=L,zb=L;var Jb=W(q);var e3=bp(),a3=ol()();var jL=function(n){return n},KL=function(n){return n},Dc=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),gc=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),as=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),mu=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),hc=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),yc=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),os=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),us=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),is=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),fs=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),bc=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),o3=function(n){return n},cs=function(n){return n};var ji=function(n){return no(new gc(function(r){return n},Jb))};var aa=function(n){return no(new yc(n,void 0))};var Yd=function(){return function(n){var r=e3(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return no(new hc(zb(new kb(function(f){var c=y(f);return function(s){var m=on(c(D.value))(s),l=e(a)(o);return function(_){return m(l(_))}}},u,Jb))))}}}}}},Qb=Sr,Zd=Sr;var XL={lift:function(n){return function(r){return cs(no(mu.create(r)))}}},jb=jd,ot={state:function(n){return cs(no(Dc.create(n)))},Monad0:function(){return jb}};var wt=function(n){return{liftEffect:function(){var r=gn(n);return function(t){return cs(no(mu.create(r(t))))}}(),Monad0:function(){return jb}}},nD=function(n){return{ask:no(new mu(Ba(n))),Monad0:function(){return jb}}},rD=function(n){var r=wt(n.MonadEffect0());return{liftAff:function(){var t=Ye(n);return function(e){return cs(no(mu.create(t(e))))}}(),MonadEffect0:function(){return r}}};var Xd=function(n){return function(r){return function(t){var e=function(a){if(a instanceof Dc)return new Dc(a.value0);if(a instanceof gc)return new gc(a.value0,a.value1);if(a instanceof as)return new as(a.value0,a.value1);if(a instanceof mu)return new mu(r(a.value0));if(a instanceof hc)return new hc(a.value0);if(a instanceof yc)return new yc(a.value0,a.value1);if(a instanceof os)return new os(a3(o3)(Vd(Xd(n)(r)))(a.value0));if(a instanceof us)return new us(Xd(n)(r)(a.value0),a.value1);if(a instanceof is)return new is(a.value0,a.value1);if(a instanceof fs)return new fs(a.value0,a.value1);if(a instanceof bc)return new bc(a.value0,a.value1);throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 312, column 8 - line 323, column 29): "+[a.constructor.name])};return VL(e)(t)}}},ls=function(n){return no(new bc(n,Jb))},oa=Kd;var mt=ts;var Gr=es;var ss=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),_s=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ps=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),ms=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),vs=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var u3=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},i3=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}();var f3=function(n,r){return _c(n.value0,r.value0)&&_c(n.value1,r.value1)&&n.value1(n.value3,r.value3)};var YL=function(n){return n.value2(n.value3)},ZL=function(n){return function(r){return new i3(r.value0,r.value1,function(t){return n(r.value2(t))},r.value3)}},nS=ZL;var rS=function(n){var r=function(o){return ta(o.vdom)},t=u3("patchThunk","Halogen.VDom.Thunk",function(){return function(o,u){var f=f3(o.thunk,u);if(f)return Xr(new Kr(ie(o.vdom),o,t(112),r));var c=ra(o.vdom,n(YL(u)));return Xr(new Kr(ie(c),{vdom:c,thunk:u},t(115),r))}}),e=t(108),a=function(o){return function(u){var f=Ip(o)(n(YL(u)));return Xr(new Kr(ie(f),{thunk:u,vdom:f},e,r))}};return a};var tD=sa(oa),Yb=Zn(Gr)(Wn),c3=g(oa),eS=xu(FL);var tS=y(Gr),l3=bp(),s3=U1(),_3=B1(),Ki=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ds=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),eD=L,aD=L,Ft=function(n){return function(r){if(r instanceof ss)return tD(Yb(n.handleAction)(n.initialize))(r.value0);if(r instanceof _s)return tD(Yb(n.handleAction)(n.finalize))(r.value0);if(r instanceof ps)return tD(Yb(n.handleAction)(n.receive(r.value0)))(r.value1);if(r instanceof ms)return tD(n.handleAction(r.value0))(r.value1);if(r instanceof vs)return O1(function(t){var e=c3(on(r.value1(void 0))(t));return function(a){return e(n.handleQuery(a))}})(r.value0);throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 71): "+[r.constructor.name])}},aS=L,vt=L,oS=function(n){return function(r){return function(t){if(t instanceof Ki)return eD(function(e){return new Ki(aS({get:e.get,pop:e.pop,set:e.set,component:Ds(n)(r)(e.component),input:e.input,output:e.output}))})(t.value0);if(t instanceof ds)return new ds(nS(eS(oS(n)(r)))(t.value0));throw new Error("Failed pattern match at Halogen.Component (line 279, column 17 - line 284, column 53): "+[t.constructor.name])}}},Ds=function(n){var r=Xd(n);return function(t){return aD(function(e){return vt({initialState:e.initialState,render:function(){var a=eS(oS(n)(t));return function(o){return a(e.render(o))}}(),eval:function(){var a=r(t);return function(o){return a(e.eval(o))}}()})})}};var Te=function(){return{handleAction:U(tS(void 0)),handleQuery:U(tS(D.value)),receive:U(D.value),initialize:D.value,finalize:D.value}}(),Zb=function(){return function(n){var r=l3(n),t=s3(n),e=_3(n);return function(a){var o=r(a),u=t(a),f=e(a);return function(c){return function(s){return function(m){return function(l){return function(_){return aS({get:o(c)(s),pop:u(c)(s),set:f(c)(s),component:m,input:l,output:_})}}}}}}}};var oD={suspend:yw,fork:yl,join:W_,Monad0:function(){return Yo},Functor1:function(){return Mw}};var uD=function(n){return n.fork};var M3=xn(oa);var iS=Yd(),w3=W(q),F3=ur(hr);var Op=function(){return function(n){var r=iS(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return M3(e(a)(o)(u(void 0)))}}}}}};var rT=function(){return function(n){var r=iS(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return e(a)(o)(u(w3))}}}}}};var tT=function(){var n=g(oa)(function(r){return F3(Q_)(r)});return function(r){return n(ls(r))}}();var I3=io(ir);var fS=function(n){return function(r){return nd(function(t){return function(){var a=or(D.value)(),o=Zv(r)(function(u){return function(){var c=sn(a)(),s=n.select(u),m=on(!1)(n.eq(s))(c);return I3(m)(function(){return Bn(new v(s))(a)(),t(s)()})()}})();return Sl(o)}})}};var P3=b(wr),x3=gn(st),R3=y(lt),N3=g(ka),O3=Dr(XL);var W3=Dr(Dl);var cS=function(n){return Vf(n)};var lS=function(n){return Jf(n)},sS=function(n){var r=n.Monad0(),t=b(dv(r.Bind1())),e=Ba(gv(r)),a=gn(Jf(n)),o=y(r.Applicative0()),u=lS(n);return{getStore:t(e)(function(f){return a(sn(f.value))}),updateStore:function(f){return t(e)(function(c){return a(function(){var m=sn(c.value)(),l=c.reducer(m)(f);return Bn(l)(c.value)(),Gu(c.listener)(l)()})})},emitSelected:function(f){var c=fS(f);return function(s){return o(c(function(m){return m.emitter}(s)))}},MonadEffect0:function(){return u}}};var _S=function(n){return Nv(n)},pS=function(n){return mv(n)};var fD=function(n){return n.updateStore},$3=function(n){var r=Ds(n.Bind1().Apply0().Functor0());return function(t){return function(e){return function(a){return P3(x3(function(){var u=or(t)(),f=Oi();return{value:u,emitter:f.emitter,listener:f.listener,reducer:e}}))(function(o){return R3({emitter:o.emitter,component:r(function(u){return H_(u)(o)})(a)})})}}}},mS=function(n){var r=$3(n);return function(t){return function(e){return function(a){return N3(function(o){return o.component})(r(t)(e)(a))}}}};var vS=function(n){return n.getStore},dS=function(n){return n.emitSelected},DS=function(n){var r=n.MonadEffect0(),t=O3(r.Monad0()),e=wt(r);return{getStore:t(vS(n)),updateStore:function(){var a=fD(n);return function(o){return t(a(o))}}(),emitSelected:function(){var a=dS(n);return function(o){return t(a(o))}}(),MonadEffect0:function(){return e}}};var gS=function(n){var r=n.MonadEffect0(),t=W3(r.Monad0()),e=Jf(r);return{getStore:t(vS(n)),updateStore:function(){var a=fD(n);return function(o){return t(a(o))}}(),emitSelected:function(){var a=dS(n);return function(o){return t(a(o))}}(),MonadEffect0:function(){return e}}};var q3=cS(Yo),U3=pS(ka),yS=b(wr),B3=Vn(Jn)(wr),G3=y(lt),k3=Ds(U3),z3=mS(Yo);var bS=gS(sS(st));var TS=gv(q3);var CS=Nv(_S(U_));var V3=yS(gn(st)(kF))(function(n){return B3(BF(n))(function(){return G3({chatServer:n})})}),ES=function(n){return yS(V3)(function(r){var t=k3(function(e){return H_(e)(r)})(n);return z3(P1)(rn(x1))(t)})};var wS=function(n){var r=Vr(n);return function(){return function(){return function(t){return function(e){return function(a){return Su(r(t))(e)(a)}}}}}};var Wp=function(n){var r=Vr(n);return function(){return function(t){return function(e){return Se(r(t))(e)}}}};var K3=function(){function n(u){this.fn=u}var r={},t=function(u,f){this.head=u,this.tail=f};function e(u){return new t(u,r)}function a(u){return function(f){return new t(u,f)}}function o(u){for(var f=[],c=u;c!==r;)f.push(c.head),c=c.tail;return f}return function(u,f,c){var s=function(l,_){return u(f(a)(c(l)))(_)},m=function(l,_,p){if(_===0)return l;var i=p[_-1];return new n(function(){var d=m(s(i,l),_-1,p);return d})};return function(l){for(var _=f(e)(c(l[l.length-1])),p=m(_,l.length-1,l);p instanceof n;)p=p.fn();return f(o)(p)}}}();var FS=function(n){return n};var LS=rt;var aT=zn;var SS=ln;var nk=Nt();var gs=FS;var oT=function(n){return n};var IS=function(n){return function(r){return gs(Y_(n)(r))}},HS=function(n){return function(r){return gs(Y_(oT(n))(r))}},PS=function(n){return gs(ay(n))};var xS=function(n){if(bt(n)>0)return new v(gs(n));if(kn)return D.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[n.constructor.name])};var uT=function(n){return function(r){return gs(Kv(n)(r))}};var cD=function(n){return function(r){return nk(n(oT(r)))}},iT=cD(tu),fT=cD(RF),cT=cD(Ll),lT=cD(xF);var rk=function(n){return function(r){return n(oT(r))}};var tk=function(n){var r=rk(n);return function(t){return gs(r(t))}},sT=function(n){return tk(Kv(n))};var NS={bifoldMap:function(n){var r=x(n.Semigroup0());return function(t){return function(e){return function(a){return r(t(a.value0))(e(a.value1))}}}},bifoldr:function(n){return function(r){return function(t){return function(e){return n(e.value0)(r(e.value1)(t))}}}},bifoldl:function(n){return function(r){return function(t){return function(e){return r(n(t)(e.value0))(e.value1)}}}}};var pT=function(n){return n.bitraverse};var WS=function(n){var r=pT(n);return function(t){var e=r(t),a=y(t);return function(o){return e(o)(a)}}};var mT={bitraverse:function(n){var r=n.Apply0(),t=hn(r),e=g(r.Functor0());return function(a){return function(o){return function(u){return t(e(h.create)(a(u.value0)))(o(u.value1))}}}},bisequence:function(n){var r=n.Apply0(),t=hn(r),e=g(r.Functor0());return function(a){return t(e(h.create)(a.value0))(a.value1)}},Bifunctor0:function(){return Mi},Bifoldable1:function(){return NS}};function pk(n){return n.replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16)})}function $S(n,r,t){try{return r(pk(encodeURIComponent(t)))}catch(e){return n(e)}}function qS(n,r,t){try{return r(decodeURIComponent(t))}catch(e){return n(e)}}var $p=function(){return Bu($S)(U(D.value))(v.create)}();var vT=function(){return Bu(qS)(U(D.value))(v.create)}();var US={segments:[],params:[],hash:""};var Dk=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},BS=pT(mT)(me),GS=Mr(Jt)(me);var gk=g(aT),hk=g(ct);var yk=Nn(SS),bk=Ig(Ci),Tk=x(LS),Ck=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Ek=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var Mk=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),gT=function(){function n(){}return n.value=new n,n}(),Ra=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),oi=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),So=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Tc=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Ce=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),kS=function(){return new Tc(function(n){var r=X_(n.segments);return r instanceof v?new oi({segments:r.value0.tail,params:n.params,hash:n.hash},r.value0.head):new Ra(gT.value)})}();var zS=function(){return Ce.create}(),wk=function(){var n=function(l){return{segments:l.value0.value0,params:l.value0.value1,hash:l.value1}},r=function(l){return function(_){return _===""?[]:Zl(l)(_)}},t=function(l){return function(_){return function(p){var i=hb(_)(p);if(i instanceof v)return new h(Hp(i.value0)(p),pc(i.value0+_u(_)|0)(p));if(i instanceof D)return l(p);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 191, column 5 - line 193, column 23): "+[i.constructor.name])}}},e=function(l){var _=vT(l);if(_ instanceof D)return new j(new Mk(l));if(_ instanceof v)return new K(_.value0);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 195, column 29 - line 197, column 22): "+[_.constructor.name])},a=function(){var l=BS(e)(e),_=t(rn(h.create)(""))("=");return function(p){return l(_(p))}}(),o=function(){var l=GS(a),_=r("&");return function(p){return l(_(p))}}(),u=function(){var l=r("/");return function(_){return function(p){return p.length===2&&p[0]===""&&p[1]===""?new K([""]):GS(e)(p)}(l(_))}}(),f=function(){var l=BS(u)(o),_=t(rn(h.create)(""))("?");return function(p){return l(_(p))}}(),c=g(ga)(n),s=WS(mT)(me)(f),m=t(rn(h.create)(""))("#");return function(l){return c(s(m(l)))}}();var Fk={map:function(n){return function(r){if(r instanceof Ra)return new Ra(r.value0);if(r instanceof oi)return new oi(r.value0,n(r.value1));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 0, column 0 - line 0, column 0): "+[r.constructor.name])}}},VS=g(Fk),Xi={map:function(n){return function(r){if(r instanceof So)return new So(gk(g(Xi)(n))(r.value0));if(r instanceof Tc)return new Tc(hk(VS(n))(r.value0));if(r instanceof Ce)return new Ce(r.value0,g(Xi)(n)(r.value1));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 0, column 0 - line 0, column 0): "+[r.constructor.name])}}};var JS=function(){return new Tc(function(n){var r=tu(n.segments);if(r instanceof D)return new oi(n,void 0);if(r instanceof v)return new Ra(new Ek(r.value0));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 266, column 3 - line 268, column 45): "+[r.constructor.name])})}(),Lk=function(n){return function(r){var t=tu(r.segments);return t instanceof v&&n===t.value0?new oi({segments:uy(1)(r.segments),params:r.params,hash:r.hash},void 0):t instanceof v?new Ra(new Ck(n,t.value0)):new Ra(gT.value)}},QS=Dk("runRouteParser","Routing.Duplex.Parser",function(){var n=function(t){return function(e){return function(a){return e instanceof Ra?QS(161)(t)(a):e}}},r=function(t){return function(e){var a=t,o=!1,u;function f(c,s){if(s instanceof So)return o=!0,yk(n(c))(new Ra(gT.value))(s.value0);if(s instanceof Tc)return o=!0,s.value0(c);if(s instanceof Ce){var m=Lk(s.value0)(c);if(m instanceof Ra)return o=!0,new Ra(m.value0);if(m instanceof oi){a=m.value0,e=s.value1;return}throw new Error("Failed pattern match at Routing.Duplex.Parser (line 157, column 7 - line 159, column 40): "+[m.constructor.name])}throw new Error("Failed pattern match at Routing.Duplex.Parser (line 153, column 14 - line 159, column 40): "+[s.constructor.name])}for(;!o;)u=f(a,e);return u}};return r}),DT=QS(150);var jS=function(n){return bk(wk)(function(){var r=rn(DT)(n);return function(t){return function(e){if(e instanceof Ra)return new j(e.value0);if(e instanceof oi)return new K(e.value1);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 200, column 49 - line 202, column 29): "+[e.constructor.name])}(r(t))}}())};var hs={apply:function(n){return function(r){return new Tc(function(t){var e=DT(t)(n);if(e instanceof Ra)return new Ra(e.value0);if(e instanceof oi)return VS(e.value1)(DT(e.value0)(r));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 81, column 5 - line 83, column 56): "+[e.constructor.name])})}},Functor0:function(){return Xi}},KS={pure:function(){var n=rn(oi.create);return function(r){return Tc.create(n(r))}}(),Apply0:function(){return hs}};var Sk=function(n){return function(r){var t=function(o){return HS(n)(r)};if(r instanceof Ce){var e=cT(n);if(e instanceof Ce){var a=r.value0===e.value0;return a?IS(fT(n))(new Ce(r.value0,Lr(ys)(e.value1)(r.value1))):t(!0)}return t(!0)}return t(!0)}},ys={alt:function(n){return function(r){return n instanceof So&&r instanceof So?new So(Ik(n.value0)(r.value0)):n instanceof So?new So(Sk(n.value0)(r)):r instanceof So?new So(Ak(n)(r.value0)):n instanceof Ce&&r instanceof Ce&&n.value0===r.value0?new Ce(n.value0,Lr(ys)(n.value1)(r.value1)):new So(sT(n)(PS(r)))}},Functor0:function(){return Xi}},Ak=function(n){return function(r){var t=function(o){return sT(n)(r)};if(n instanceof Ce){var e=iT(r);if(e instanceof Ce){var a=n.value0===e.value0;return a?uT(new Ce(n.value0,Lr(ys)(n.value1)(e.value1)))(lT(r)):t(!0)}return t(!0)}return t(!0)}},Ik=function(n){return function(r){var t=n,e=!1,a;function o(u,f){var c=function(i){if(kn)return Tk(u)(f);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 103, column 1 - line 107, column 35): "+[u.constructor.name,f.constructor.name])},s=cT(u);if(s instanceof Ce){var m=iT(f);if(m instanceof Ce){var l=s.value0===m.value0;if(l){var _=uT(new Ce(s.value0,Lr(ys)(s.value1)(m.value1)))(lT(f)),p=xS(fT(u));if(p instanceof v){t=p.value0,r=_;return}if(p instanceof D)return e=!0,_;throw new Error("Failed pattern match at Routing.Duplex.Parser (line 116, column 9 - line 118, column 25): "+[p.constructor.name])}return e=!0,c(!0)}return e=!0,c(!0)}return e=!0,c(!0)}for(;!e;)a=o(t,r);return a}};var YS=x(VE(m_));var qp={append:function(n){return function(r){return function(t){return r(n(t))}}}},hT=function(n){return function(r){return{segments:Y_(r.segments)(n),params:r.params,hash:r.hash}}},Hk=function(n){var r=function(o){return o.length===1&&o[0]===""?"/":Ha("/")(tp($p)(o))},t=function(o){return function(u){return u===""?$p(o):YS($p(o))(YS(new v("="))($p(u)))}},e=function(o){return o.length===0?"":"?"+Ha("&")(tp(Jo(t))(o))},a=function(o){return o===""?"":"#"+o};return r(n.segments)+(e(n.params)+a(n.hash))};var ZS=function(){var n=Ag(US),r=rr();return function(t){return Hk(n(r(t)))}}(),nA={mempty:W(q),Semigroup0:function(){return qp}};var tA=x(qp),Pk=iE(hs),xk=y(KS);var Rk=hn(hs),eA=g(Xi);var Nk=Sn(nA);var Ok=hn(Jc),Wk=g(ct),ro=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var yT=function(){return new ro(hT,kS)}();var aA={dimap:function(n){return function(r){return function(t){return new ro(function(e){return t.value0(n(e))},eA(r)(t.value1))}}}},oA=function(n){return function(r){return ZS(n.value0(r))}},bT=function(n){return function(r){return new ro(function(t){return tA(hT(n))(r.value0(t))},zS(n)(r.value1))}},$k=function(){var n=rn(er(ln)(bT)),r=Zl("/");return function(t){return n(r(t))}}(),uA=$k(""),iA=function(n){return jS(n.value1)};var qk={map:function(n){return function(r){return new ro(r.value0,eA(n)(r.value1))}}};var fA=function(n){return new ro(n.value0,Pk(n.value1)(JS))};var Uk={apply:function(n){return function(r){return new ro(Ok(Wk(tA)(n.value0))(r.value0),Rk(n.value1)(r.value1))}},Functor0:function(){return qk}},TT={pure:function(){var n=ro.create(U(Nk));return function(r){return n(xk(r))}}(),Apply0:function(){return Uk}};var cA=W(q),Bk=x(qp),Gk=hn(hs),bs=g(Xi),kk=Lr(ys),zk=Vt(aA),Up=function(){return y(TT)(Hu.value)}(),ET={gRouteDuplexCtr:cA},Ts={gRouteDuplexCtr:cA},sD=function(n){return n.gRouteDuplexCtr},lA=function(n){var r=sD(n);return function(t){return function(e){var a=r(e),o=function(f){return Bk(t.value0(f.value0))(a.value0(f.value1))},u=Gk(bs(Yc.create)(bs(Wg)(t.value1)))(a.value1);return new ro(o,u)}}},CT=function(n){return n.gRouteDuplex},Bp=function(n){var r=CT(n);return function(t){var e=CT(t);return{gRouteDuplex:function(a){return function(o){var u=r(a)(o),f=e(a)(o),c=function(m){if(m instanceof _e)return u.value0(m.value0);if(m instanceof Er)return f.value0(m.value0);throw new Error("Failed pattern match at Routing.Duplex.Generic (line 51, column 11 - line 53, column 22): "+[m.constructor.name])},s=kk(bs(_e.create)(u.value1))(bs(Er.create)(f.value1));return new ro(c,s)}}}}},sA=function(n){var r=$g(n),t=kE(n);return function(e){var a=zk(r)(t),o=CT(e)(fA);return function(u){return a(o(u))}}};var Cs=function(n){var r=Wp(n)();return function(){return function(t){var e=sD(t);return{gRouteDuplex:function(a){return function(o){var u=a(e(r(Tn.value)(o))),f=function(s){return u.value0(s)},c=bs(GE)(u.value1);return new ro(f,c)}}}}}};var MT={gRouteDuplexCtr:function(n){return new ro(function(r){return n.value0(r)},bs(Wg)(n.value1))}};var wT=function(n){var r=sD(n);return{gsep:function(t){var e=bT(t);return function(a){return e(r(a))}}}};var pA=function(n){return{gsep:lA(n)}},_D=function(n){return n.gsep};var rz=typeof Array.from=="function",JEn=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",QEn=typeof String.prototype.fromCodePoint=="function",tz=typeof String.prototype.codePointAt=="function",dA=function(n){return tz?function(r){return r.codePointAt(0)}:n};var DA=function(n){return function(r){return rz?function(t){return Array.from(t,r)}:n}};var Gp=$r(eF),az=g(In),oz=We(Qt);var gA=function(n){return function(r){return(((n-55296|0)*1024|0)+(r-56320|0)|0)+65536|0}};var hA=function(n){return 56320<=n&&n<=57343},yA=function(n){return 55296<=n&&n<=56319},uz=function(n){var r=_u(n);if(r===0)return D.value;if(r===1)return new v({head:Gp(zi(0)(n)),tail:""});var t=Gp(zi(1)(n)),e=Gp(zi(0)(n)),a=yA(e)&&hA(t);return a?new v({head:gA(e)(t),tail:pc(2)(n)}):new v({head:e,tail:pc(1)(n)})},iz=function(n){return az(function(r){return new h(r.head,r.tail)})(uz(n))},fz=function(n){return oz(iz)(n)},cz=function(n){var r=Gp(zi(0)(n)),t=yA(r)&&_u(n)>1;if(t){var e=Gp(zi(1)(n)),a=hA(e);return a?gA(r)(e):r}return r},lz=dA(cz),sz=DA(fz)(lz),pD=function(n){return bt(sz(n))};var LT="hashchange";var mD=b(Ur),AT=g(bn),ST=ur(Ur),dz=Lu(Ur),Dz=hn(Yg),gz=y(ir),hz=Vc(bn),TA=function(n){return mD(mD(yt)(kv))(Jh(n))},bA=mD(mD(yt)(kv))(function(){var n=AT(function(){var r=Un(""),t=qd("#");return function(e){return r(t(e))}}());return function(r){return n(Vh(r))}}());var yz=function(n){return function(r){return function(){var e=ST(or)(ST(r)(bA))(),a=AT(zv)(yt)(),o=ti(function(u){return ST(rn(Bn)(e))(dz(Dz(AT(n)(sn(e)))(bA)))})();return vc(LT)(o)(!1)(a)(),dc(LT)(o)(!1)(a)}}},CA=function(n){var r=sM(n);return function(t){return function(e){var a=function(o){var u=on(gz(o))(function(c){return hz(new v(c))(e(o)(c))}),f=r(0);return function(c){return u(f(t(c)))}};return yz(a)(a(D.value))}}};var IT=_D(wT(Ts)),Cc=function(){function n(){}return n.value=new n,n}(),Yi=function(){function n(){}return n.value=new n,n}(),Zi=function(){function n(){}return n.value=new n,n}(),vu=function(){function n(){}return n.value=new n,n}(),nf=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),bz={to:function(n){if(n instanceof _e)return Cc.value;if(n instanceof Er&&n.value0 instanceof _e)return Yi.value;if(n instanceof Er&&n.value0 instanceof Er&&n.value0.value0 instanceof _e)return Zi.value;if(n instanceof Er&&n.value0 instanceof Er&&n.value0.value0 instanceof Er&&n.value0.value0.value0 instanceof _e)return vu.value;if(n instanceof Er&&n.value0 instanceof Er&&n.value0.value0 instanceof Er&&n.value0.value0.value0 instanceof Er)return new nf(n.value0.value0.value0.value0.value0,n.value0.value0.value0.value0.value1);throw new Error("Failed pattern match at Capability.Navigate (line 20, column 1 - line 20, column 32): "+[n.constructor.name])},from:function(n){if(n instanceof Cc)return new _e(Hu.value);if(n instanceof Yi)return new Er(new _e(Hu.value));if(n instanceof Zi)return new Er(new Er(new _e(Hu.value)));if(n instanceof vu)return new Er(new Er(new Er(new _e(Hu.value))));if(n instanceof nf)return new Er(new Er(new Er(new Er(new Yc(n.value0,n.value1)))));throw new Error("Failed pattern match at Capability.Navigate (line 20, column 1 - line 20, column 32): "+[n.constructor.name])}},vD={eq:function(n){return function(r){return n instanceof Cc&&r instanceof Cc||n instanceof Yi&&r instanceof Yi||n instanceof Zi&&r instanceof Zi||n instanceof vu&&r instanceof vu?!0:n instanceof nf&&r instanceof nf?n.value0===r.value0&&n.value1===r.value1:!1}}};var HT=uA(sA(bz)(Bp(Cs({reflectSymbol:function(){return"Home"}})()(Ts))(Bp(Cs({reflectSymbol:function(){return"About"}})()(Ts))(Bp(Cs({reflectSymbol:function(){return"Instructions"}})()(Ts))(Bp(Cs({reflectSymbol:function(){return"PuzzleSelect"}})()(Ts))(Cs({reflectSymbol:function(){return"Puzzle"}})()(ET))))))({Home:Up,About:IT("about")(Up),Instructions:IT("how-to-play")(Up),PuzzleSelect:IT("puzzleSelect")(Up),Puzzle:_D(wT(ET))("puzzle")(_D(pA(MT))(yT)(yT))}));var Es=function(n){var r=gn(n);return function(t){return r(TA(oA(HT)(t)))}};var PT=function(n){return n};var MA={dimap:function(n){return function(r){return function(t){return function(e){return t(n(e))}}}}},Ir={first:function(n){return function(r){return n(et(r))}},second:function(n){return function(r){return n(yr(r))}},Profunctor0:function(){return MA}};var dD=function(n){var r=Sn(T_(n));return{left:function(t){return Wr(t)(r)},right:function(t){return Wr(r)(t)},Profunctor0:function(){return MA}}};var Ec=function(n){return n.right};var tf={left:function(n){return function(r){if(r instanceof j)return new j(n(r.value0));if(r instanceof K)return new K(r.value0);throw new Error("Failed pattern match at Data.Profunctor.Choice (line 32, column 1 - line 35, column 16): "+[n.constructor.name,r.constructor.name])}},right:g(ga),Profunctor0:function(){return x_}};var Cz=W(q),br={first:function(n){return function(r){return new h(n(r.value0),r.value1)}},second:g(Qo),Profunctor0:function(){return x_}},zp=function(n){return n.second},Vp=function(n){return n.first},Ez=function(n){var r=c_(n.Semigroupoid0());return function(t){var e=Vp(t),a=zp(t);return function(o){return function(u){return r(e(o))(a(u))}}}},xT=function(n){var r=W(n),t=c_(n.Semigroupoid0()),e=Ez(n);return function(a){var o=Vt(a.Profunctor0()),u=e(a);return function(f){return function(c){var s=o(Cz)(function(m){return new h(m,m)})(r);return t(s)(u(f)(c))}}}};var Mz=ul()()()();var wA={wander:function(n){return Mz(mo)(n(th))},Strong0:function(){return br},Choice1:function(){return tf}};var RT=function(n){return n},xz={dimap:function(n){return function(r){return function(t){return r(t)}}}};var LA={left:function(n){return new j(n)},right:function(n){return new K(n)},Profunctor0:function(){return xz}};var $z=rr();var qz=tv()()(PT);var IA=function(n){var r=qz(n)(function(t){return kg(v.create(t))});return function(t){return $z(r(t))}};var HA=W(q);var PA=tv()()(RT),OT=function(n){return function(r){return function(t){var e=t.Profunctor0(),a=Vt(e),o=Ec(t),u=vh(e);return function(f){return a(r)(Wr(HA)(HA))(o(u(n)(f)))}}}},xA=function(n){return function(r){return function(t){return OT(n)(function(e){return on(new j(e))(K.create)(r(e))})(t)}}};function NA(n){return function(r){return function(){return r.getItem(n)}}}function WT(n){return function(r){return function(t){return function(){t.setItem(n,r)}}}}function $T(n){return function(){n.clear()}}var Gz=g(bn);var OA=function(n){var r=Gz(vr),t=NA(n);return function(e){return r(t(e))}};var Ms=b(Ur),WA=w(yi()()(Iu({reflectSymbol:function(){return"puzzleName"}})(bi({reflectSymbol:function(){return"suiteName"}})(Da))(Da))),zz=Ve(bn),Vz=ur(hr),ui=function(){function n(){}return n.value=new n,n}(),du=function(){function n(){}return n.value=new n,n}(),$A={show:function(n){if(n instanceof ui)return"Incomplete";if(n instanceof du)return"Completed";throw new Error("Failed pattern match at Capability.Progress (line 38, column 10 - line 40, column 31): "+[n.constructor.name])}};var qA=function(n){var r=function(e){if(e instanceof ui)return"Incomplete";if(e instanceof du)return"Completed";throw new Error("Failed pattern match at Capability.Progress (line 29, column 13 - line 31, column 31): "+[e.constructor.name])},t=function(e){return e==="Incomplete"?new v(ui.value):e==="Completed"?new v(du.value):D.value};return xA(r)(t)(n)},Jz=qA(LA),Qz=qA(dD(zg)),DD=function(n){var r=gn(n);return function(t){return function(e){return r(Ms(Ms(yt)(K_))(WT(WA(t))(PA(Jz)(e))))}}},UA=function(n){var r=gn(n);return function(t){return r(zz(Ms(Ms(yt)(K_))(OA(WA(t))))(Vz(IA(Qz))))}},BA=function(n){return gn(n)(Ms(Ms(yt)(K_))($T))};var jz=y(pe);var qT=function(n){return Ab(jz(n))},Ee=function(){return Ab(D.value)}();var GA=Ee("h1"),Mc=GA([]),kA=Ee("h2"),ii=kA([]),zA=Ee("h3"),Qp=zA([]);var VA=Ee("li"),UT=VA([]);var Du=Ee("span"),wc=Du([]);var JA=Ee("table"),BT=JA([]);var jp=Ee("td");var GT=function(n){return Ee("textarea")(n)([])};var QA=Ee("tr"),kT=QA([]);var jA=Ee("ul"),zT=jA([]);var dt=Ee("div"),jt=dt([]);var af=Ee("button");var KA=function(n){return Ee("br")(n)([])},Kp=KA([]);var XA=Ee("b"),gD=XA([]);var Fc=Ee("a");function YA(n){return n.target}function Xp(n){return function(){return n.preventDefault()}}var hD=function(n){return vr(YA(n))};var nI="drop";var rI="dragover",tI="dragleave",eI="dragexit",aI="dragenter",oI="dragend",uI="drag";var VT="DOMContentLoaded";var JT="keydown";var cI="mouseup",lI="mouseover";var sI="mousemove";var _I="mousedown";var pI="click";var Yp=L;var ao=function(n){return function(r){return Sb(n)(function(t){return new v(new Yu(r(t)))})}};var Me=function(){var n=ao(pI);return function(r){return n(Yp(r))}}();var yD=function(){var n=ao(_I);return function(r){return n(Yp(r))}}();var mI=function(){var n=ao(sI);return function(r){return n(Yp(r))}}();var vI=function(){var n=ao(lI);return function(r){return n(Yp(r))}}(),bD=function(){var n=ao(cI);return function(r){return n(Yp(r))}}();var Lc=L,dI=function(){var n=ao(uI);return function(r){return n(Lc(r))}}(),TD=function(){var n=ao(oI);return function(r){return n(Lc(r))}}(),DI=function(){var n=ao(aI);return function(r){return n(Lc(r))}}(),gI=function(){var n=ao(eI);return function(r){return n(Lc(r))}}(),hI=function(){var n=ao(tI);return function(r){return n(Lc(r))}}(),yI=function(){var n=ao(rI);return function(r){return n(Lc(r))}}();var bI=function(){var n=ao(nI);return function(r){return n(Lc(r))}}();var TI=rr();var CI=function(){var n=function(r){return function(t){return new v(new ns(r,t))}};return function(r){return CL(n(r))}}(),Zp=function(n){return EL(n)},c5=Zp(wL),QT=Zp(kd),EI=Zp(ML);var MI=EI("rows");var wI=function(n){return Zp(n)("value")};var ua=QT("id");var CD=c5("draggable");var FI=EI("cols");var ED=function(){var n=QT("className"),r=Ha(" "),t=g(zn)(TI);return function(e){return n(r(t(e)))}}(),Kt=function(){var n=QT("className");return function(r){return n(TI(r))}}();var xt=function(){return LL(D.value)}();var Fs=xt("style");var l5=b(Ur),s5=Nr(ir),_5=BA(vo),p5=function(){function n(){}return n.value=new n,n}(),LI=function(n){var r=gn(wt(n.MonadEffect0())),t=function(o){return dt([Kt("about-component")])([Mc([Cn("about page")]),af([Me(function(u){return p5.value})])([Cn("Delete all progress")])])},e=function(o){return{}},a=Ft({handleAction:function(o){return r(function(){var f=l5(yt)(Qh("Really delete all progress?"))();return s5(f)(_5)()})},handleQuery:Te.handleQuery,receive:Te.receive,initialize:Te.initialize,finalize:Te.finalize});return vt({eval:a,initialState:e,render:t})};var SI=b(wr),AI=gn(st),v5=Ht(lt)(ln),d5=ru(It),D5=Vn(Jn)(wr),g5=y(lt),h5=wI(kd),y5=g(In),II=b(mt),b5=g(ec),T5=y(Gr),C5=de(ot),HI=function(){function n(){}return n.value=new n,n}(),MD=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),PI=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),jT=["    :::     :::::::::  :::::::::: ::::::::: ","  :+: :+:   :+:    :+: :+:        :+:    :+:"," +:+   +:+  +:+    +:+ +:+        +:+    +:+","+#++:++#++: +#++:++#+  +#++:++#   +#+    +:+","+#+     +#+ +#+    +#+ +#+        +#+    +#+","#+#     #+# #+#    #+# #+#        #+#    #+#","###     ### #########  ########## ######### "],E5=SI(AI(Oi))(function(n){return SI(yl(v5(Db(d5(`
`)(jT)))(function(r){return D5(AI(Gu(n.listener)(r)))(function(){return $u(1)})})))(function(){return g5(n.emitter)})}),xI=function(n){var r=Ye(rD(n)),t=Es(wt(n.MonadEffect0())),e=function(u){return dt([ua("home-component")])([GT([ua("title"),h5(u.titleText),FI(Un(100)(y5(_u)(tu(jT)))-4|0),MI(bt(jT))]),Kp,Fc([Me(function(f){return new MD(vu.value)}),Kt("link")])([Cn("Puzzle Select")]),Kp,Fc([Me(function(f){return new MD(Zi.value)}),Kt("link")])([Cn("How to play")]),Kp,Fc([Me(function(f){return new MD(Yi.value)}),Kt("link")])([Cn("About")])])},a=function(u){return{titleText:""}},o=Ft({handleAction:function(u){if(u instanceof HI)return II(r(E5))(function(f){return II(ji(b5(PI.create)(f)))(function(){return T5(void 0)})});if(u instanceof MD)return t(u.value0);if(u instanceof PI)return C5(function(f){var c={};for(var s in f)({}).hasOwnProperty.call(f,s)&&(c[s]=f[s]);return c.titleText=f.titleText+$d(u.value0),c});throw new Error("Failed pattern match at Component.Home (line 75, column 22 - line 83, column 77): "+[u.constructor.name])},handleQuery:Te.handleQuery,receive:Te.receive,initialize:new v(HI.value),finalize:Te.finalize});return vt({eval:o,initialState:a,render:e})};var RI=function(n){var r=function(a){return jt([Mc([Cn("How to play")]),ii([Cn("Pieces")]),ii([Cn("Board")]),ii([Cn("Specification")])])},t=function(a){return{}},e=Ft(Te);return vt({eval:e,initialState:t,render:r})};var F5=Zn(ir)(Wn),NI=function(n){return function(r){return function(t){return nd(function(e){return function(){var o=ti(function(u){return F5(e)(t(u))})();return vc(n)(o)(!1)(r)(),dc(n)(o)(!1)(r)}})}}};function wD(n){return n.key}function FD(n){return n.ctrlKey}var OI=en("KeyboardEvent");var I5=b(Ur),$I=function(){var r=I5(yt)(Zo)(),t=lF(r);return NI(JT)(t)(OI)};var Ls=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),KT=function(n){return function(r){return"["+(n.value0+("='"+(n.value1(r)+"']")))}},XT=function(){return new Ls("data-puzzle-progress",function(n){if(n instanceof du)return"completed";if(n instanceof ui)return"incomplete";throw new Error("Failed pattern match at Component.DataAttribute (line 40, column 51 - line 42, column 29): "+[n.constructor.name])})}();var LD=function(){return new Ls("data-location",w(Ja))}(),qI=function(){return new Ls("data-direction",function(){var n=w(Ze);return function(r){return Td(n(r))}}())}(),YT=function(){return new Ls("data-connected",function(n){return n?"connected":"not-connected"})}(),UI=function(){return new Ls("data-username",W(q))}(),SD=function(){return new Ls("data-available-piece",function(n){return n})}(),Na=function(n){return function(r){return xt(n.value0)(n.value1(r))}};var P5=NF(It),x5=Ve(zn);var BI=w(Or);var R5=Xn(jn);var ZT=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),GI=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),nC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),rC=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),kI=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),AD=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),tC={show:function(n){return P5(x5([12,8,4,0])(function(r){return Nd(mb)(n>>r&15)}))}};var gu=function(){return{ff:0,tt:-1,not:function(n){return~n},implies:function(n){return function(r){return~n|r}},disj:function(n){return function(r){return n|r}},conj:function(n){return function(r){return n&r}}}}(),zI=ya(gu),N5=ha(gu),O5=At(gu),W5=ba(gu),$5=je(gu),ID=function(){return{ff:new ZT(zI),tt:new ZT(N5),not:nC.create,implies:function(n){return function(r){return new rC(new nC(n),r)}},disj:rC.create,conj:kI.create}}(),As={eq:function(n){return function(r){return BI(n)===BI(r)}}};var Xt=function(){return GI.create}();var VI=function(n){var r=function(t){if(t instanceof ZT)return t.value0;if(t instanceof GI)return Un(zI)(R5(t.value0)(n));if(t instanceof nC)return O5(r(t.value0));if(t instanceof rC)return W5(r(t.value0))(r(t.value1));if(t instanceof kI)return $5(r(t.value0))(r(t.value1));if(t instanceof AD){var e=r(t.value1),a=r(t.value0);return a^e}throw new Error("Failed pattern match at Game.Expression (line 99, column 8 - line 106, column 45): "+[t.constructor.name])};return r};var JI=g(In);var nm=function(n){return function(r){return r(function(t){return n(t)})}},hu=function(n){return function(r){return function(t){return t(n)(r)}}},Hr={name:nm(function(n){return oe(n)}),getCapacity:nm(function(n){return Py(n)}),updateCapacity:function(n){return function(r){return r(function(t){var e=hu(t),a=dd(t);return function(o){return JI(e)(a(n)(o))}})}},eval:nm(function(n){return lc(n)}),getPorts:nm(function(n){return Co(n)}),updatePort:function(n){return function(r){return function(t){return t(function(e){var a=hu(e),o=pp(e);return function(u){return JI(a)(o(n)(r)(u))}})}}}},QI=oe(Hr),Sc={eq:Rm(H(Jl))(QI)},Hs={compare:Rm(G(cc))(QI),Eq0:function(){return Sc}};var q5=Xn(jn),jI=sa(qe),KI=ae(jn),XI=Vn(Jn)(hr),YI=Pi(Ti),U5=le(Aa),B5=Nu(Wn)(tt),G5=Va(jn),ZI=y(pe),k5=Pt(jn)(fr),z5=g($e);var V5={name:function(n){return n.pieceId},eval:function(n){return function(r){var t=Un(0)(q5(an.value)(r));return jI(n.outputPorts)(t)}},getCapacity:function(n){return new v(n.capacity)},updateCapacity:function(n){return function(r){return new v({pieceId:r.pieceId,capacity:n,outputPorts:r.outputPorts})}},getPorts:function(n){return KI(an.value)(new Et(n.capacity))(jI(n.outputPorts)(new Mt(n.capacity)))},updatePort:function(n){return function(r){return function(t){return n instanceof an&&r instanceof v&&r.value0 instanceof Mt?new v({pieceId:t.pieceId,capacity:r.value0.value0,outputPorts:t.outputPorts}):XI(YI(U5(n)(an.value)))(function(){return XI(YI(B5(Ia)(r)))(function(){var e=on(G5(n))(function(o){return KI(n)(void 0)})(r)(t.outputPorts),a=cp(e);return ZI(a?{pieceId:t.pieceId,capacity:t.capacity,outputPorts:Sa(Ln.value)(void 0)}:{pieceId:t.pieceId,capacity:t.capacity,outputPorts:e})})})}}}},J5=hu(V5),nH=function(n){var r=Ju(n);return function(t){return function(e){return J5({pieceId:t,capacity:at.value,outputPorts:k5(z5(function(a){return new h(a,void 0)})(r(e)))})}}},HD=nH(ln),rH=function(){return HD("super")([vn.value,Ln.value,$n.value])}(),rm=function(){return HD("right")([$n.value])}(),tm=function(){return HD("left")([vn.value])}(),ia=function(){return HD("id")([Ln.value])}(),em=[ia,tm,rm,rH];var xs=w(Or),X5=w(He);var yu=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),of=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}(),tH=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),eH=function(){function n(){}return n.value=new n,n}();var PD=function(n){if(n instanceof yu)return"rgb("+(xs(n.value0)+(","+(xs(n.value1)+(","+(xs(n.value2)+")")))));if(n instanceof of)return"rgba("+(xs(n.value0)+(","+(xs(n.value1)+(","+(xs(n.value2)+(","+(X5(n.value3)+")")))))));if(n instanceof tH)return n.value0;if(n instanceof eH)return"None";throw new Error("Failed pattern match at Halogen.Svg.Attributes.Color (line 24, column 14 - line 28, column 20): "+[n.constructor.name])};var Rs=w(He);var oH=function(){function n(){}return n.value=new n,n}(),Ut=function(){function n(){}return n.value=new n,n}();var eC=_o();var uH=function(n){return function(r){if(n instanceof oH)return r;if(n instanceof Ut)return Cp(r);throw new Error("Failed pattern match at Halogen.Svg.Attributes.Path (line 81, column 24 - line 83, column 20): "+[n.constructor.name])}};var iH=function(n){return function(r){return function(t){return function(e){return uH(r)(n)+(Rs(t)+(", "+Rs(e)))}}}};var c4=function(n){return function(r){return function(t){return function(e){return function(a){return function(o){return uH(r)(n)+(Rs(t)+(", "+(Rs(e)+(", "+(Rs(a)+(", "+Rs(o)))))))}}}}}};var uf=c4("q");var aC=iH("m"),Io=iH("l");var Ge=w(He),cH=function(){function n(r,t,e,a,o,u){this.value0=r,this.value1=t,this.value2=e,this.value3=a,this.value4=o,this.value5=u}return n.create=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return new n(r,t,e,a,o,u)}}}}}},n}(),Ns=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),lH=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),ff=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}(),sH=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),_H=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var xD=function(n){if(n instanceof cH)return"matrix("+(Ge(n.value0)+(","+(Ge(n.value1)+(","+(Ge(n.value2)+(","+(Ge(n.value3)+(","+(Ge(n.value4)+(","+(Ge(n.value5)+")")))))))))));if(n instanceof Ns)return"translate("+(Ge(n.value0)+(","+(Ge(n.value1)+")")));if(n instanceof lH)return"scale("+(Ge(n.value0)+(","+(Ge(n.value1)+")")));if(n instanceof ff)return"rotate("+(Ge(n.value0)+(","+(Ge(n.value1)+(","+(Ge(n.value2)+")")))));if(n instanceof sH)return"skewX("+(Ge(n.value0)+")");if(n instanceof _H)return"skewY("+(Ge(n.value0)+")");throw new Error("Failed pattern match at Halogen.Svg.Attributes.Transform (line 28, column 18 - line 34, column 39): "+[n.constructor.name])};var Os=w(He),RD=g(zn);var uC=function(){var n=xt("width");return function(r){return n(Os(r))}}(),am=function(n){return function(r){return function(t){return function(e){return xt("viewBox")(Ha(" ")(RD(Os)([n,r,t,e])))}}}},Ws=function(){var n=xt("transform"),r=Ha(" "),t=RD(xD);return function(e){return n(r(t(e)))}}();var ND=function(){var n=xt("stop-opacity");return function(r){return n(Os(r))}}(),om=function(){var n=xt("stop-color");return function(r){return n(PD(r))}}();var pH=function(){var n=xt("points"),r=ru(It)(" "),t=RD(function(e){return Os(e.value0)+(","+Os(e.value1))});return function(e){return n(r(t(e)))}}();var um=xt("offset");var mH=xt("id"),vH=xt("href"),iC=function(){var n=xt("height");return function(r){return n(Os(r))}}();var dH=function(){var n=xt("gradientTransform"),r=Ha(" "),t=RD(xD);return function(e){return n(r(t(e)))}}();var DH=function(n){return xt("fill")("url('"+(n+"')"))};var gH=function(){var n=xt("fill");return function(r){return n(PD(r))}}();var hH=function(){var n=xt("d"),r=Ha(" ");return function(t){return n(r(eC(t)))}}();var fC=function(){var n=xt("class"),r=Ha(" "),t=_o();return function(e){return n(r(t(e)))}}();var cf=qT("http://www.w3.org/2000/svg");var Ac=cf("g"),bH=function(n){return cf("image")(n)([])};var TH=cf("linearGradient");var CH=function(n){return cf("path")(n)([])};var EH=function(n){return cf("polyline")(n)([])};var im=function(n){return cf("stop")(n)([])},fm=cf("svg");var MH=cf("defs");var ut=x(rt),L4=h1(Qt),S4=NE(Sr),A4=Ta(Pe),SH=H(As),I4=w(Or),H4=ru(It),P4=W(q),x4=mp(Hr),AH=Xn(jn),R4=oe(Hr),FH=b(fe),N4=$r(ic),LH=y(Wa),O4=eu(Wn),W4=rp(Sc),$4=function(n){var r=[Io(Ut.value)(65)(0)],t=[Io(Ut.value)(100)(65)],e=ut([uf(Ut.value)(60)(35)(50)(35),Io(Ut.value)(100)(35)])(t),a=ut([uf(Ut.value)(35)(35)(35)(0)])(r),o=ut([Io(Ut.value)(100)(35)])(t),u=[Io(Ut.value)(0)(35)],f=ut([Io(Ut.value)(0)(65)])(u),c=ut([uf(Ut.value)(65)(65)(0)(65)])(u),s=ut([uf(Ut.value)(35)(65)(0)(65)])(u),m=[Io(Ut.value)(35)(100)],l=ut([uf(Ut.value)(65)(35)(65)(100)])(m),_=ut([Io(Ut.value)(50)(65),uf(Ut.value)(60)(65)(65)(100)])(m),p=ut([Io(Ut.value)(65)(100)])(m);return ut([aC(Ut.value)(0)(35)])(function(){var i=L4(n);return i.length===1&&i[0]instanceof vn?ut(a)(c):i.length===2&&i[0]instanceof vn&&i[1]instanceof Ln?ut(a)(ut(e)(f)):i.length===3&&i[0]instanceof vn&&i[1]instanceof Ln&&i[2]instanceof $n?ut(a)(ut(e)(ut(_)(s))):i.length===2&&i[0]instanceof vn&&i[1]instanceof $n?ut(a)(ut(p)(s)):i.length===1&&i[0]instanceof Ln?ut(o)(f):i.length===2&&i[0]instanceof Ln&&i[1]instanceof $n?ut(o)(ut(_)(s)):i.length===1&&i[0]instanceof $n?ut(l)(s):[]}())},q4=function(n){var r=function(t){return S4(0)(255)(t*A4(100+n|0)(100)|0)};return function(t){return t instanceof yu?new yu(r(t.value0),r(t.value1),r(t.value2)):t instanceof of?new of(r(t.value0),r(t.value1),r(t.value2),t.value3):t}},U4=function(n){return bH([vH("./images/"+(n+".png")),uC(40),iC(40)])},B4=function(){return new yu(208,135,221)}(),IH=function(n){var r=function(){var a=SH(n.signal)(0);return a?"off":"on"}(),t=function(){var a=Ia(n.port);return a?"in":"out"}(),e=I4(Vl(md(n.port)))+"bit";return H4("-")(["port-gradient",t,r,e])},G4=function(){return new yu(228,100,156)}();var k4=function(){return new yu(117,208,191)}(),z4=function(){return new yu(120,204,250)}(),HH=function(n){return function(r){return function(){var t=SH(r)(0);return t?q4(-1):P4}()(function(){var t=md(n);if(t instanceof at)return k4;if(t instanceof ja)return z4;if(t instanceof ju)return B4;if(t instanceof cu)return G4;throw new Error("Failed pattern match at Component.Piece.Render (line 163, column 3 - line 167, column 21): "+[t.constructor.name])}())}},V4=function(n){var r=HH(n.port)(n.signal);return TH([mH(IH(n)),dH([new ff(90,0,0)])])(function(){if(n.port instanceof Et)return[im([um("5%"),om(r),ND(.5)]),im([um("95%"),om(r)])];if(n.port instanceof Mt)return[im([um("5%"),om(r),ND(.5)]),im([um("95%"),om(r),ND(0)])];throw new Error("Failed pattern match at Component.Piece.Render (line 181, column 5 - line 189, column 8): "+[n.port.constructor.name])}())},cC=function(n){return function(r){var t=function(){if(r.port instanceof Et)return[new h(10,0),new h(10,12),new h(0,12),new h(25,25),new h(50,12),new h(40,12),new h(40,0)];if(r.port instanceof Mt)return[new h(10,0),new h(10,25),new h(40,25),new h(40,0)];throw new Error("Failed pattern match at Component.Piece.Render (line 143, column 23 - line 158, column 10): "+[r.port.constructor.name])}();return Ac([])([MH([])([V4(r)]),EH([pH(t),fC(["port"]),Na(YT)(r.connected),DH("#"+IH(r))])])}},J4=function(n){var r=function(a){return function(o){return o instanceof yu?new of(o.value0,o.value1,o.value2,a):o instanceof of?new of(o.value0,o.value1,o.value2,a):o}},t=$4(x4(n.piece)),e=Un({port:new Et(at.value),signal:0,connected:!1})(AH(an.value)(n.portStates));return Ac([Ws([new ff(qt(n.rotation)*90,50,50),new Ns(0,0)])])([CH([hH(t),fC(["port"]),Na(YT)(e.connected),gH(r(.5)(HH(e.port)(e.signal)))])])},OD=function(n){var r=Ac([Ws([new Ns(30,30)])])([fm([uC(50),iC(50)])([U4(R4(n.piece))])]),t=FH(he)(function(e){var a=N4(Eo(e)(n.rotation));return LH(Ac([Ws([new ff(qt(a)*90,50,50),new Ns(25,0)])])(FH(O4(AH(e)(n.portStates)))(function(o){return LH(cC(Eo(e)(n.rotation))(o))})))});return fm([am(0)(0)(100)(100)])(function(){var e=W4(n.piece)(em);return e?[J4(n)]:ut(t)([r])}())};var cm=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),lm=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),sm=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),_m=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),sC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),WD=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),$D=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),qD=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),UD=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),BD=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),_C=function(n){return{piece:n,location:Ar(0)(0),rotation:Wt(0),isRotating:D.value,portStates:Qn}};var Q4=function(n){return function(r){var t=Vt(r.Profunctor0()),e=Vp(r);return function(a){return t(n)(function(o){return o.value1(o.value0)})(e(a))}}},Ic=function(n){return function(r){return function(t){return Q4(function(e){return new h(n(e),function(a){return r(e)(a)})})(t)}}};var Fe=function(n){var r=Wp(n)(),t=wS(n)()();return function(){return function(){return function(e){return function(a){return Ic(r(e))(rn(t(e)))(a)}}}}};var PH=Zb();var kD=function(){return function(n){var r=PH(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return function(f){return Lb(new Ki(e(a)(o)(u)(f)(U(D.value))))}}}}}}},zD=function(){return function(n){var r=PH(n);return function(t){var e=r(t);return function(a){return function(o){return function(u){return function(f){return function(c){return Lb(new Ki(e(a)(o)(u)(f)(function(s){return v.create(c(s))})))}}}}}}}};var lf=L;function mm(n){return n.clientX}function vm(n){return n.clientY}var mC=L;var K4=w(He),fi=Vn(Jn)(mt),Hc=de(ot),VD=y(Gr),Pc=b(mt),JD=Zn(Gr)(Wn),X4=g(bn),Y4=se(Um),vC=gi(fM(v_)(v_)),RH=Ne(ot),NH=function(n){var r=wt(n),t=te(r),e=gn(r),a=function(s){var m=Je(s.isRotating),l=on(0)(function(_){return _.currentRotation})(s.isRotating);return dt([ED(["piece-component"]),CD(m),Fs("transform: rotate("+(K4(l)+"rad);")),CI("piece"),TD(WD.create(s.location)),dI($D.create),yD(qD.create),mI(UD.create),bD(BD.create(s.location))])([lf(OD(s))])},o=function(s){return{piece:s.piece,location:s.location,rotation:Wt(0),isRotating:D.value,portStates:s.portStates}},u=function(s){return new h(qt(mm(s)),qt(vm(s)))},f=function(s){return function(){var l=Cl(s)(),_=(l.right+l.left)/2,p=(l.bottom+l.top)/2;return new h(_,p)}},c=Ft({finalize:D.value,handleAction:function(s){if(s instanceof sC)return fi(Hc(function(m){var l={};for(var _ in m)({}).hasOwnProperty.call(m,_)&&(l[_]=m[_]);return l.piece=s.value0.piece,l.location=s.value0.location,l.portStates=s.value0.portStates,l}))(function(){return fi(t("initialising piece"))(function(){return VD(void 0)})});if(s instanceof WD)return aa(new _m(s.value0));if(s instanceof $D)return VD(void 0);if(s instanceof qD)return Pc(tT("piece"))(JD(function(m){return Pc(e(X4(Y4(.5))(Hh(zh(m)))))(function(l){return Pc(e(f(zh(m))))(function(_){var p=vC(u(s.value0))(_),i=l*l>p.value0*p.value0+p.value1*p.value1;return i?fi(t("moving"))(function(){return Hc(function(d){var M={};for(var O in d)({}).hasOwnProperty.call(d,O)&&(M[O]=d[O]);return M.isRotating=D.value,M})}):fi(t("started rotation"))(function(){return fi(e(kh(!1)(m)))(function(){return Hc(function(d){var M={};for(var O in d)({}).hasOwnProperty.call(d,O)&&(M[O]=d[O]);return M.isRotating=new v({initialClickPosition:u(s.value0),currentRotation:0}),M})})})})})}));if(s instanceof UD)return Pc(ls("piece"))(JD(function(m){return Pc(RH(function(l){return l.isRotating}))(JD(function(l){var _=u(s.value0);return Pc(e(f(m)))(function(p){var i=vC(l.initialClickPosition)(p),d=vC(_)(p),M=function(Q){return function(V){return Q.value0*V.value0+Q.value1*V.value1}},O=function(Q){return function(V){return Q.value0*V.value1-V.value0*Q.value1}},_n=_b(O(i)(d))(M(i)(d));return Hc(function(Q){var V={};for(var S in Q)({}).hasOwnProperty.call(Q,S)&&(V[S]=Q[S]);return V.isRotating=new v({initialClickPosition:l.initialClickPosition,currentRotation:_n}),V})})}))}));if(s instanceof BD)return fi(Pc(RH(function(m){return m.isRotating}))(JD(function(m){var l=Wt(oL(4*m.currentRotation/(2*tL)));return aa(new sm(s.value0,l))})))(function(){return fi(Hc(function(m){var l={};for(var _ in m)({}).hasOwnProperty.call(m,_)&&(l[_]=m[_]);return l.isRotating=D.value,l}))(function(){return t("mouse UP???")})});throw new Error("Failed pattern match at Component.Piece (line 99, column 21 - line 148, column 28): "+[s.constructor.name])},handleQuery:function(s){if(s instanceof cm)return fi(Hc(function(m){var l={};for(var _ in m)({}).hasOwnProperty.call(m,_)&&(l[_]=m[_]);return l.portStates=s.value0,l}))(function(){return VD(D.value)});if(s instanceof lm)return fi(Hc(function(m){var l={};for(var _ in m)({}).hasOwnProperty.call(m,_)&&(l[_]=m[_]);return l.piece=s.value0,l}))(function(){return VD(D.value)});throw new Error("Failed pattern match at Component.Piece (line 149, column 20 - line 155, column 23): "+[s.constructor.name])},initialize:D.value,receive:function(s){return D.value}});return vt({eval:c,initialState:o,render:a})};var fa=function(n){return function(r){var t=n(r);return t.value0}};var t6=W(q),e6=xT(q)(br);var a6=function(n){return function(r){var t=zp(r);return function(e){var a=Vt(e.Profunctor0()),o=Ec(e);return function(u){return a(n)(function(f){return Wr(t6)(f.value0)(f.value1)})(t(o(u)))}}}},WH=function(n){return function(r){return function(t){return function(e){return a6(e6(n)(r))(t)(e)}}}};var $H=_o();var u6=function(n){return function(r){return function(t){var e=Vt(t);return function(a){return e(n)(r)(a)}}}};var qH=function(){return function(){return function(n){return u6($H)($H)(n)}}};var f6=qH()(),dm=function(){return function(){return function(n){return f6(n)}}};var DC=function(n){return OT(v.create)(on(new j(D.value))(K.create))(n)};var qs=function(n){return n.ix};var sf=function(n){var r=wy(n),t=Xn(n);return{ix:function(e){return function(a){return function(o){var u=function(c){return function(s){return r(function(m){return new v(s)})(e)(c)}},f=function(c){return on(new j(c))(K.create)(t(e)(c))};return WH(u)(f)(a)(o)}}}}};var BH=function(n){return n},xc=function(n){return function(r){return BH(n)(U(r))}};var gC=function(n){var r=xn(n.Monad0().Bind1().Apply0().Functor0()),t=zf(n);return function(e){return function(a){return r(t(BH(e)(a)))}}};var Rc=function(n){var r=xn(n.Monad0().Bind1().Apply0().Functor0()),t=zf(n);return function(e){return function(a){return r(t(xc(e)(a)))}}};var Us=function(n){var r=gC(n);return function(t){var e=x(t);return function(a){var o=r(a),u=rn(e);return function(f){return o(u(f))}}}};var _f=function(n){var r=Xn(n),t=Va(n),e=ae(n),a=sf(n);return{at:function(o){return function(u){return Ic(r(o))(function(f){return Vm(function(c){return t(o)(f)})(function(c){return e(o)(c)(f)})})(u)}},Index0:function(){return a}}};var pf=function(n){return n.at};var GH=rr(),c6=W(q);var Gs=function(n){return GH(n(c6))},ks=function(n){return function(r){return Gs(r)(n)}},Yt=function(n){var r=Ne(n);return function(t){return r(function(e){return ks(e)(t)})}},KD=function(n){return function(r){var t=GH(r);return function(e){return t(n(e))}}};var XD=g($e);var kH=We(ap),zH=g(In),Nc=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}();var l6={map:function(n){return function(r){return new Nc(XD(n)(r.value0),n(r.value1),XD(n)(r.value2))}}};var VH=function(n){return new Nc(P.value,n,P.value)},hC=function(n){if(n.value2 instanceof P)return D.value;if(n.value2 instanceof F)return new v(new Nc(new F(n.value1,n.value0),n.value2.value0,n.value2.value1));throw new Error("Failed pattern match at Data.Zipper (line 68, column 30 - line 70, column 50): "+[n.value2.constructor.name])};var yC=function(n){if(n.value0 instanceof P)return D.value;if(n.value0 instanceof F)return new v(new Nc(n.value0.value1,n.value0.value0,new F(n.value1,n.value2)));throw new Error("Failed pattern match at Data.Zipper (line 63, column 29 - line 65, column 50): "+[n.value0.constructor.name])};var s6={extend:function(n){return function(r){var t=function(o){return new h(o,o)},e=kH(function(o){return zH(t)(yC(o))})(r),a=kH(function(o){return zH(t)(hC(o))})(r);return new Nc(XD(n)(e),n(r),XD(n)(a))}},Functor0:function(){return l6}},_6={extract:function(n){return n.value1},Extend0:function(){return s6}},bC=y_(_6);var JH=function(n){return function(r){return new Nc(new F(r.value1,r.value0),n,P.value)}},QH=function(n){return Ic(bC)(function(r){return function(t){return new Nc(r.value0,t,r.value2)}})(n)};var m6=g($e),v6=Sn(py),d6=x(xp),D6=Ub(fr),g6=Ub(ln);var jH=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),TC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),h6=function(n){return n};var KH=function(n){var r=fp(n),t=Va(n),e=Xn(n);return function(a){var o=function(c){return function(s){var m=c,l=!1,_;function p(i,d){var M=Qd(d);if(M instanceof D)return l=!0,i;if(M instanceof v&&M.value0.value0 instanceof jH){var O={result:new F(M.value0.value0.value0,i.result),unvisited:i.unvisited};m=O,s=M.value0.value1;return}if(M instanceof v&&M.value0.value0 instanceof TC){if(r(M.value0.value0.value0)(i.unvisited)){var _n={result:i.result,unvisited:t(M.value0.value0.value0)(i.unvisited)},Q=on(v6)(yr)(e(M.value0.value0.value0)(a));m=_n,s=d6(D6(m6(TC.create)(Q)))(qb(new jH(M.value0.value0.value0))(M.value0.value1));return}if(kn){m=i,s=M.value0.value1;return}}throw new Error("Failed pattern match at Data.Graph (line 126, column 7 - line 144, column 40): "+[M.constructor.name])}for(;!l;)_=p(m,s);return _}},u={unvisited:a,result:P.value},f=function(c){var s=!1,m;function l(_){var p=cd(_.unvisited);if(p instanceof v){c=o(_)(g6([new TC(p.value0.key)]));return}if(p instanceof D)return s=!0,_.result;throw new Error("Failed pattern match at Data.Graph (line 120, column 7 - line 122, column 26): "+[p.constructor.name])}for(;!s;)m=l(c);return m};return f(u)}};var XH=h6;var YH=function(n){return n.ginverse};var T6=H(Aa),C6=H(bo),E6=x(Ng),M6=G(pt),w6=G(jn);var CC={eq:function(n){return function(r){return T6(n.dir)(r.dir)&&C6(n.loc)(r.loc)}}},ZH={compare:function(n){return function(r){return E6(M6(n.loc)(r.loc))(w6(n.dir)(r.dir))}},Eq0:function(){return CC}};var EC=function(n){return function(r){return{loc:n,dir:r}}},nP=function(n){return EC(Gl(n.loc)(n.dir))(d1(n.dir))};var L6={reflectSymbol:function(){return"rotation"}};var S6=H(CC),A6=G(ZH);var mf=Ta(Pe),eP=dm()(),I6=Fe({reflectSymbol:function(){return"size"}})()(),H6=Fe(L6)()(),P6=Fe({reflectSymbol:function(){return"pieces"}})()(),Oc=b(fe),aP=y(Wa),x6=sp(pt),oP=pf(_f(pt)),R6=b(hr),N6=Ql(Hr),uP=qs(sf(pt)),iP=dD(Dp),O6=YH(E1),Vs=iu(Qt),W6=Co(Hr),fP=g(ct),cP=Pt(jn)(ln),$6=g(In),q6=eu(kl),U6=mp(Hr),Js=bl(qa),B6=g(zn),G6=Pt(pt)(ln),lP=iM(Om)(zu),sP=p1()(pt)(lP),k6=lp(pt)(sP),z6=x(Cy()(pt)(lP)),V6=lc(Hr),J6=Fa(Jt),Dm=Xn(jn),Q6=KH(pt),j6=Ul(jn),K6=Li(Wn)(tt),X6=$l(jn),Y6=b(Rv(qa));var Z6={eq:function(n){return function(r){return S6(n)(r)}}},ci={compare:function(n){return function(r){return A6(n)(r)}},Eq0:function(){return Z6}},nV=Ey(ci),rV=My(ci)(ln),Wc=Pt(ci)(ln),_P=Ul(ci),ZD=Bl(ci),pP=Xn(ci),tV=lp(ci)(sP),eV=fu(ln)(ci),aV=sp(ci);var gm=function(n){var r=function(t){if(t instanceof nn)return nn.value;if(t instanceof mn)return new mn(r(t.value0),n(t.value1),t.value2,r(t.value3));if(t instanceof An)return new An(r(t.value0),n(t.value1),t.value2,r(t.value3),n(t.value4),t.value5,r(t.value6));throw new Error("Failed pattern match at Game.Board (line 209, column 10 - line 212, column 88): "+[t.constructor.name])};return r},mP={size:3,pieces:Qn},YD=function(n){return n.loc},oV=function(n){return n.dir},vf=function(n){return function(r){return{loc:n,dir:r}}},uV=function(n){return gm(vf(n))},ng=function(n){var r=gm(oV),t=nV(new v(vf(n)(vn.value)))(new v(vf(n)(an.value)));return function(e){return r(t(e))}},bu=EC,rg=function(n){return function(r){if(r instanceof vn)return bu(Ar(mf(n.size)(2))(0))(r);if(r instanceof Ln)return bu(Ar(n.size-1|0)(mf(n.size)(2)))(r);if(r instanceof $n)return bu(Ar(mf(n.size)(2))(n.size-1|0))(r);if(r instanceof an)return bu(Ar(0)(mf(n.size)(2)))(r);throw new Error("Failed pattern match at Game.Board (line 132, column 6 - line 136, column 67): "+[r.constructor.name])}},$c=function(n){var r=eP(n.Profunctor0()),t=I6(Tn.value)(n);return function(e){return r(t(e))}},vP=$c(Ir),MC=function(n){return H6(Tn.value)(n)},dP=MC(Ir),df=function(n){var r=eP(n.Profunctor0()),t=P6(Tn.value)(n);return function(e){return r(t(e))}},qc=df(Ir),iV=Gs(function(){var n=KD(zl);return function(r){return qc(n(r))}}()),DP=function(n){var r=Gs(vP)(n),t=Oc(rc(0)(r-1|0))(function(a){return Oc(rc(0)(r-1|0))(function(o){return aP(Ar(o)(a))})}),e=iV(n);return np(function(a){return x6(a)(e)})(t)},Qs=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Yt(n),a=y(r.Applicative0());return function(o){return t(e(function(){var u=oP(o.loc)(Ir);return function(f){return qc(u(f))}}()))(function(u){return a(R6(u)(function(f){return N6(f.piece)(o.dir)}))})}},rP=Qs(Js),fV=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Ne(n),a=y(r.Applicative0());return function(o){return t(e(Gs(function(){var u=uP(o.loc)(Ir)(iP);return function(f){return qc(u(dP(f)))}}())))(function(u){return a(bu(o.loc)(Eo(o.dir)(u)))})}},Uc=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Ne(n),a=y(r.Applicative0());return function(o){return t(e(Gs(function(){var u=uP(o.loc)(Ir)(iP);return function(f){return qc(u(dP(f)))}}())))(function(u){return a(vf(o.loc)(Eo(o.dir)(O6(u))))})}},cV=Uc(Js),lV=function(n){var r=n.Monad0(),t=r.Bind1(),e=b(t),a=t.Apply0(),o=g(a.Functor0()),u=r.Applicative0(),f=Ko(u)(Jt),c=y(u),s=Uc(n),m=Qs(n),l=e(Yt(n)(qc))(function(p){return o(rV)(f(Vs(p))(function(i){return o(Wc)(f(Vs(W6(i.value1.piece)))(function(d){return c(new h(vf(i.value0)(d.value0),d.value1))}))}))}),_=o(_P)(e(Oe(n))(function(p){return o(Wc)(f(he)(function(i){return e(s(rg(p)(i)))(function(d){return o(h.create(d))(m(d))})}))}));return hn(a)(o(ZD)(_))(l)},wC=function(n){var r=n.Monad0(),t=r.Bind1(),e=g(t.Apply0().Functor0()),a=r.Applicative0(),o=Ko(a)(Jt),u=b(t),f=Oe(n),c=Uc(n),s=y(a);return function(m){return e(fP(cP)(Xv))(o(he)(function(l){return u(f)(function(_){return u(c(rg(_)(l)))(function(p){return s($6(h.create(l))(pP(p)(m)))})})}))}},hm=function(n){var r=b(n.Monad0().Bind1()),t=fV(n),e=Uc(n);return function(a){return r(t(a))(function(o){return e(nP(o))})}},tP=hm(Js),gP=function(n){var r=Wc(Oc(Vs(n.pieces))(function(e){return Oc(q6(U6(e.value1.piece)))(function(a){var o=vf(e.value0)(a),u=fa(tP(o))(n),f=so(fa(rP(u))(n));return f?[new h(o,u)]:[]})})),t=Wc(Oc(B6(rg(n))(he))(function(e){var a=fa(cV(e))(n),o=fa(tP(a))(n),u=fa(rP(a))(n);if(u instanceof v&&u.value0 instanceof Et)return[new h(a,o)];if(u instanceof v&&u.value0 instanceof Mt)return[new h(o,a)];if(u instanceof D)return[];throw new Error("Failed pattern match at Game.Board (line 176, column 7 - line 179, column 22): "+[u.constructor.name])}));return ZD(t)(r)},sV=function(n){var r=n.Monad0(),t=r.Bind1(),e=b(t),a=Yt(n),o=y(r.Applicative0()),u=function(f){return function(c){return G6([new h(YD(f),new h(void 0,od(YD(c)))),new h(YD(c),new h(void 0,P.value))])}};return e(g(t.Apply0().Functor0())(gP)(Oe(n)))(function(f){var c=tV(D.value)(D.value)(u)(f);return e(a(qc))(function(s){var m=k6(D.value)(D.value)(function(l){return function(_){return Sa(l)(new h(void 0,P.value))}})(s);return o(XH(z6(c)(m)))})})},_V=function(n){var r=n.Monad0(),t=r.Bind1(),e=g(t.Apply0().Functor0()),a=b(t),o=Yt(n),u=r.Applicative0(),f=Ko(u)(Jt),c=hm(n),s=y(u);return function(m){return function(l){return e(ZD(m))(a(o(function(){var _=oP(l)(Ir);return function(p){return qc(_(p))}}()))(function(_){var p=on(Qn)(function(i){return uV(l)(V6(i.piece)(ng(l)(m)))})(_);return a(fP(e(Wc))(f(Vs(p)))(function(i){return a(c(i.value0))(function(d){return s(new h(d,i.value1))})}))(function(i){return s(ZD(p)(i))})}))}}},hP=function(n){var r=n.Monad0(),t=r.Bind1(),e=b(t),a=Yt(n),o=t.Apply0(),u=g(o.Functor0()),f=r.Applicative0(),c=J6(f),s=hn(o),m=Uc(n),l=y(f),_=sV(n),p=ud(r),i=_V(n);return function(d){var M=e(a(vP))(function(O){return u(function(_n){return _P(Wc(_n))})(c([s(u(h.create)(m(bu(Ar(mf(O)(2))(0))(vn.value))))(l(Dm(vn.value)(d))),s(u(h.create)(m(bu(Ar(O-1|0)(mf(O)(2)))(Ln.value))))(l(Dm(Ln.value)(d))),s(u(h.create)(m(bu(Ar(mf(O)(2))(O-1|0))($n.value))))(l(Dm($n.value)(d))),s(u(h.create)(m(bu(Ar(0)(mf(O)(2)))(an.value))))(l(Dm(an.value)(d)))]))});return e(_)(function(O){var _n=Q6(O);return e(M)(function(Q){return e(p(i)(Q)(_n))(function(V){return l(V)})})})}},pV=hP(Js),yP=function(n){var r=n.Monad0(),t=r.Bind1(),e=b(t),a=g(t.Apply0().Functor0()),o=Oe(n),u=hP(n),f=lV(n),c=y(r.Applicative0());return function(s){return e(a(gP)(o))(function(m){var l=eV(Oc(Vs(m))(function(_){return[_.value0,_.value1]}));return e(u(s))(function(_){return e(f)(function(p){return c(Wc(Oc(Vs(p))(function(i){var d=Un(0)(pP(i.value0)(_)),M=aV(i.value0)(l);return aP(new h(i.value0,{connected:M,port:i.value1,signal:d}))})))})})})}},bP=function(n){var r=n.Monad0(),t=r.Bind1(),e=g(t.Apply0().Functor0()),a=b(t),o=Ko(r.Applicative0())(Jt),u=Uc(n),f=Qs(n);return e(j6)(a(Oe(n))(function(c){return e(cP)(o(he)(function(s){return a(u(rg(c)(s)))(function(m){return e(h.create(s))(f(m))})}))}))};var FC=function(n){var r=n.Monad0().Bind1(),t=b(r),e=bP(n),a=g(r.Apply0().Functor0()),o=wC(n);return function(u){return t(e)(function(f){var c=function(s){return function(m){return K6(function(l){return!Ia(l)})(Dm(s)(f))}};return a(X6(c))(o(u))})}},mV=FC(Js),tg={name:function(n){return"board"},eval:function(n){return function(r){return fa(Y6(pV(r))(mV))(n)}},getCapacity:function(n){return D.value},updateCapacity:function(n){return function(r){return D.value}},getPorts:fa(bP(Js)),updatePort:function(n){return function(r){return function(t){return D.value}}}};var vV=$c(Ir);var TP=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Yt(n),a=y(r.Applicative0());return function(o){return t(e(vV))(function(u){return a(0<=o.x&&o.x<u&&0<=o.y&&o.y<u)})}};var DV=ql(jn),gV=Ve(qe),Df=Pt(jn)(ln),CP=je(ID),Zt=function(){function n(){}return n.value=new n,n}(),ke=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var hV={name:function(n){return n.name},eval:function(n){return function(r){return rn(DV)(n.ports)(function(t){if(t instanceof Zt)return D.value;if(t instanceof ke)return new v(VI(r)(t.value0));throw new Error("Failed pattern match at Game.Piece.BasicPiece (line 34, column 61 - line 36, column 64): "+[t.constructor.name])})}},getCapacity:Ry(),updateCapacity:xy(),getPorts:function(n){return gV(n.ports)(function(r){if(r instanceof Zt)return new Et(n.capacity);if(r instanceof ke)return new Mt(n.capacity);throw new Error("Failed pattern match at Game.Piece.BasicPiece (line 41, column 44 - line 43, column 43): "+[r.constructor.name])})},updatePort:function(n){return function(r){return function(t){return D.value}}}},gf=hu(hV),EP=function(){return gf({name:"xor",capacity:at.value,ports:Df([new h(an.value,Zt.value),new h(vn.value,Zt.value),new h(Ln.value,new ke(new AD(Xt(an.value),Xt(vn.value))))])})}(),eg=function(){return gf({name:"or",capacity:at.value,ports:Df([new h(an.value,Zt.value),new h(vn.value,Zt.value),new h(Ln.value,new ke(ba(ID)(Xt(an.value))(Xt(vn.value))))])})}(),ag=function(){return gf({name:"not",capacity:at.value,ports:Df([new h(an.value,Zt.value),new h(Ln.value,new ke(At(ID)(Xt(an.value))))])})}(),LC=function(){return gf({name:"half-adder",capacity:at.value,ports:Df([new h(an.value,Zt.value),new h(vn.value,Zt.value),new h(Ln.value,new ke(new AD(Xt(an.value),Xt(vn.value)))),new h($n.value,new ke(CP(Xt(an.value))(Xt(vn.value))))])})}(),Ks=function(){return gf({name:"cross",capacity:at.value,ports:Df([new h(an.value,Zt.value),new h(vn.value,Zt.value),new h(Ln.value,new ke(Xt(an.value))),new h($n.value,new ke(Xt(vn.value)))])})}(),og=function(){return gf({name:"corner-cut",capacity:at.value,ports:Df([new h(an.value,Zt.value),new h(vn.value,Zt.value),new h(Ln.value,new ke(Xt(vn.value))),new h($n.value,new ke(Xt(an.value)))])})}(),ug=function(){return gf({name:"chicken",capacity:at.value,ports:Df([new h(an.value,Zt.value),new h(Ln.value,Zt.value),new h(vn.value,new ke(Xt(Ln.value))),new h($n.value,new ke(Xt(an.value)))])})}(),ig=function(){return gf({name:"and",capacity:at.value,ports:Df([new h(an.value,Zt.value),new h(vn.value,Zt.value),new h(Ln.value,new ke(CP(Xt(an.value))(Xt(vn.value))))])})}(),Xs=[ag,eg,ig,EP,Ks,og,ug];var SC=[];var AC=Xn(jn),IC=Pt(jn)(ln),ym=b(hr),bm=y(pe);var bV={name:function(n){return"mux"},eval:function(n){return function(r){var t=Un(0)(AC(an.value)(r)),e=Vl(n.inputCapacity),a=1<<e&t,o=t>>e;return IC([new h(Ln.value,o),new h($n.value,a)])}},getCapacity:function(n){return new v(n.inputCapacity)},updateCapacity:function(n){return function(r){return ym(_p(n))(function(){return bm({inputCapacity:n})})}},getPorts:function(n){return Un(Qn)(ym(_p(n.inputCapacity))(function(r){return bm(IC([new h(an.value,new Et(n.inputCapacity)),new h(Ln.value,new Mt(r)),new h($n.value,new Mt(r))]))}))},updatePort:function(n){return function(r){return function(t){return n instanceof an&&r instanceof v&&r.value0 instanceof Mt?ym(_p(r.value0.value0))(function(e){return bm({inputCapacity:e})}):D.value}}}},TV={name:function(n){return"demux"},eval:function(n){return function(r){var t=Un(0)(AC(vn.value)(r)),e=Un(0)(AC(an.value)(r)),a=Vl(n.inputCapacity),o=t<<a|e;return Sa(Ln.value)(o)}},getCapacity:function(n){return new v(n.inputCapacity)},updateCapacity:function(n){return function(r){return ym(vd(n))(function(){return bm({inputCapacity:n})})}},getPorts:function(n){return Un(Qn)(ym(vd(n.inputCapacity))(function(r){return bm(IC([new h(vn.value,new Et(n.inputCapacity)),new h(an.value,new Et(n.inputCapacity)),new h(Ln.value,new Mt(r))]))}))},updatePort:function(n){return function(r){return function(t){return D.value}}}},cg=function(){return hu(bV)({inputCapacity:ja.value})}(),CV=function(){return hu(TV)({inputCapacity:at.value})}(),MP=[cg,CV];var HC=x(rt),EV=oe(Hr),MV=w(fc),wV=Xn(cc),FV=HC(Xs)(HC(SC)(HC(em)(MP))),LV=Pt(cc)(ln)(g(zn)(function(n){return new h(EV(n),n)})(FV)),lg=function(n){var r="piece lookup crash on "+(MV(n)+"... WITH NO SURVIVORS");return JE(function(t){return Xo(r)})(wV(n)(LV))};var Ys=df(Ir),Tu=pf(_f(pt)),SV=pp(Hr),Zs=df(br),LP=qs(sf(pt)),PC=rr(),sg=Vn(Jn),AV=At(tt),IV=MC(br),HV=g(ga),PV=Nu(ln)(tt),xV=OE(Sr),RV=fl(kl);var xC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),RC=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),NV=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var OV=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var SP=function(n){return bl(dl(n))},AP=function(n){return Pw(_v(n))};var IP=function(n){var r=pr(n),t=y(n.Monad0().Applicative0());return function(e){var a=uL(e)||e<3||e>9;return a?r(new OV(e)):t(e)}},WV=function(n){var r=n.Monad0(),t=b(r.Bind1()),e=Yt(n),a=r.Applicative0(),o=Zn(a)(Wn),u=Ht(a)(Wn),f=Rc(n);return function(c){return function(s){return t(e(function(){var m=Tu(c.loc)(Ir);return function(l){return Ys(m(l))}}()))(o(function(m){return u(SV(c.dir)(s)(m.piece))(function(l){return f(function(){var _=LP(c.loc)(br)(tf);return function(p){return Zs(_(p))}}())(function(){var _={};for(var p in m)({}).hasOwnProperty.call(m,p)&&(_[p]=m[p]);return _.piece=l,_}())})}))}}},_g=function(n){var r=n.Monad0(),t=Ht(r.Applicative0())(ln),e=b(r.Bind1()),a=Qs(n),o=hm(n),u=WV(n);return function(f){return t(he)(function(c){var s=vf(f)(c);return e(a(s))(function(m){return e(o(s))(function(l){return u(l)(m)})})})}},HP=function(n){return function(r){return function(t){return vl(Mh(PC(r))(t))}}},$V=HP(qa),PP=function(n){return function(r){return PC($V(n)(r))}},NC=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=t.Bind1(),a=b(e),o=sg(e),u=Nr(t.Applicative0()),f=pr(r),c=Kg(t),s=g(e.Apply0().Functor0());return function(m){var l=Yt(m),_=Rc(m),p=_g(m);return function(i){return function(d){return a(l(function(){var M=Tu(i)(Ir);return function(O){return Ys(M(O))}}()))(function(M){return o(u(Je(M))(f(new RC(i))))(function(){return o(c(s(so)(l(function(){var O=Tu(d)(Ir);return function(_n){return Ys(O(_n))}}())))(f(new xC(d))))(function(){return o(_(function(){var O=Tu(i)(br);return function(_n){return Zs(O(_n))}}())(D.value))(function(){return o(_(function(){var O=Tu(d)(br);return function(_n){return Zs(O(_n))}}())(M))(function(){return o(p(i))(function(){return p(d)})})})})})})}}}},xP=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=Kg(t),a=g(t.Bind1().Apply0().Functor0()),o=pr(r);return function(u){var f=TP(u);return function(c){return e(a(AV)(f(c)))(o(new NV(c)))}}},OC=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=t.Bind1(),a=sg(e),o=xP(n),u=b(e),f=pr(r),c=y(t.Applicative0());return function(s){var m=o(s),l=Yt(s),_=Rc(s),p=_g(s);return function(i){return a(m(i))(function(){return u(l(function(){var d=Tu(i)(Ir);return function(M){return Ys(d(M))}}()))(function(d){if(d instanceof D)return f(new RC(i));if(d instanceof v)return a(_(function(){var M=Tu(i)(br);return function(O){return Zs(M(O))}}())(D.value))(function(){return a(p(i))(function(){return c(d.value0.piece)})});throw new Error("Failed pattern match at Game.Board.Operation (line 151, column 3 - line 156, column 27): "+[d.constructor.name])})})}}},WC=function(n){var r=Oe(n),t=kf(n);return function(e){var a=e.MonadThrow0(),o=b(a.Monad0().Bind1()),u=IP(a);return o(r)(function(f){return o(u(f.size+2|0))(function(c){return t({size:c,pieces:gm(function(s){return Ar(s.x+1|0)(s.y+1|0)})(f.pieces)})})})}},$C=function(n){var r=Yt(n);return function(t){var e=t.MonadThrow0(),a=e.Monad0(),o=b(a.Bind1()),u=pr(e),f=y(a.Applicative0());return function(c){return o(r(function(){var s=Tu(c)(Ir);return function(m){return Ys(s(m))}}()))(on(u(new RC(c)))(f))}}},qV=function(n){var r=$C(n);return function(t){var e=g(t.MonadThrow0().Monad0().Bind1().Apply0().Functor0()),a=r(t);return function(o){return e(function(u){return u.piece})(a(o))}}},qC=function(n){var r=n.MonadThrow0().Monad0().Bind1(),t=b(r),e=sg(r);return function(a){var o=qV(a)(n),u=Us(a)(dp),f=_g(a);return function(c){return function(s){return t(o(c))(function(){return e(u(function(){var m=LP(c)(br)(tf);return function(l){return Zs(m(IV(l)))}}())(s))(function(){return f(c)})})}}}};var UV=function(n){var r=g(n.Bind1().Apply0().Functor0()),t=HP(n);return function(e){return function(a){return r(HV(et))(t(e)(a))}}},BV=UV(qa),RP=function(n){return function(r){return PC(BV(n)(r))}};var UC=function(n){var r=Oe(n),t=kf(n);return function(e){var a=e.MonadThrow0(),o=b(a.Monad0().Bind1()),u=IP(a),f=pr(a);return o(r)(function(c){return o(u(c.size-2|0))(function(s){var m=function(_){return PV(xV(1)(c.size))([_.x,_.y])},l=RV(function(_){return!m(_)})(zl(c.pieces));if(l instanceof v)return f(new xC(l.value0));if(l instanceof D)return t({size:s,pieces:gm(function(_){return Ar(_.x-1|0)(_.y-1|0)})(c.pieces)});throw new Error("Failed pattern match at Game.Board.Operation (line 195, column 3 - line 199, column 83): "+[l.constructor.name])})})}};var BC=function(n){var r=n.MonadThrow0(),t=r.Monad0().Bind1(),e=sg(t),a=xP(n),o=b(t),u=pr(r);return function(f){var c=a(f),s=Yt(f),m=Rc(f),l=_g(f);return function(_){return function(p){return e(c(_))(function(){return o(s(function(){var i=Tu(_)(Ir);return function(d){return Ys(i(d))}}()))(function(i){return e(function(){if(i instanceof D)return m(function(){var d=Tu(_)(br);return function(M){return Zs(d(M))}}())(new v({piece:p,rotation:Wt(0)}));if(i instanceof v)return u(new xC(_));throw new Error("Failed pattern match at Game.Board.Operation (line 142, column 3 - line 144, column 48): "+[i.constructor.name])}())(function(){return l(_)})})})}}}},GC=function(n){var r=WC(n),t=UC(n);return function(e){var a=BC(e)(n),o=e.MonadThrow0().Monad0(),u=xn(o.Bind1().Apply0().Functor0()),f=OC(e)(n),c=NC(e)(n),s=qC(e)(n),m=o.Applicative0(),l=y(m),_=r(e),p=t(e),i=Ht(m)(fr);return function(d){if(d instanceof ue)return a(d.value0)(lg(d.value1));if(d instanceof ye)return u(f(d.value0));if(d instanceof Xa)return c(d.value0)(d.value1);if(d instanceof be)return s(d.value0)(d.value1);if(d instanceof Ya)return l(void 0);if(d instanceof Mo)return _;if(d instanceof wo)return p;if(d instanceof Xu)return i(d.value0)(GC(n)(e));throw new Error("Failed pattern match at Game.Board.Operation (line 230, column 19 - line 238, column 59): "+[d.constructor.name])}}};var NP=function(n){return function(r){return n(r.value0)(r.value1.value0)(r.value1.value1.value0)}};var OP=function(n){return function(r){return function(t){return new h(n,new h(r,new h(t,void 0)))}}};var pg=typeof module>"u"?void 0:module.require,WP=function(){try{return pg===void 0?void 0:pg("util")}catch{return}}();function $P(n,r){return console.log(WP!==void 0?WP.inspect(n,{depth:null,colors:!0}):n),r({})}var Oxn=function(){var n;if(typeof performance<"u")n=performance;else if(pg)try{n=pg("perf_hooks").performance}catch{}return function(){return(n||Date).now()}}();var qP=function(){return function(n){return function(r){return $P(n,r)}}};var kC=w(Ja),UP=w(Ze),BP=w(yi()()(Iu({reflectSymbol:function(){return"inputDirection"}})(Iu({reflectSymbol:function(){return"location"}})(bi({reflectSymbol:function(){return"outputDirection"}})(Ze))(Ja))(Ze)));var JV=H(Aa),n_=oe(Hr),JP=Vn(Jn),mg=H(jl),GP=x(dp),QV=w(vp),jV=H(b1(Aa)),kP=fu(ln)(jn),KV=df(Ir),XV=pf(_f(pt)),zC=H(Sc),zP=b(Ci),YV=JP(Ci),ZV=Nr(me),nJ=y(me),rJ=Ju(ln),VP=x(rt),tJ=Lu(Pl),eJ=Mr(Il),aJ=qP(),QP=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),VC=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),JC=function(){function n(){}return n.value=new n,n}(),QC=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),jP=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Tm=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),oJ={show:function(n){if(n instanceof QP)return"obstructed by piece at "+kC(n.value0);if(n instanceof VC)return"locations "+(kC(n.value0)+(" and "+(kC(n.value1)+" are not adjacent")));if(n instanceof JC)return"path is empty";if(n instanceof QC)return"expected that "+(UP(n.value0)+(" and "+(UP(n.value1)+" are not equal")));if(n instanceof jP)return"no overlay between "+(BP(n.value0)+(" and "+BP(n.value1)));if(n instanceof Tm)return"patherror: "+n.value0;throw new Error("Failed pattern match at Game.Board.Path (line 54, column 10 - line 60, column 38): "+[n.constructor.name])}},uJ=w(QE(oJ)(Wi(Wy))),iJ={append:function(n){return function(r){return n}}},fJ=JM(iJ);var KP=function(n){return n instanceof F&&n.value1 instanceof F&&n.value1.value1 instanceof F?new F(OP(n.value0)(n.value1.value0)(n.value1.value1.value0),KP(new F(n.value1.value0,new F(n.value1.value1.value0,n.value1.value1.value1)))):P.value};var cJ=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=t.Bind1(),a=b(e),o=t.Applicative0(),u=y(o),f=pr(r),c=JP(e),s=io(o);return function(m){var l=Lr(m);return function(_){return function(p){if(p instanceof D)return a(function(){var S=Ka(_.inputDirection)(_.outputDirection);return S===1?u(n_(tm)):S===2?u(n_(ia)):S===3?u(n_(rm)):f(new QC(_.inputDirection,_.outputDirection))}())(function(S){return u(new F(new ue(_.location,S),new F(new be(_.location,Ka(an.value)(_.inputDirection)),P.value)))});if(p instanceof v){var i=Ka(_.inputDirection)(_.outputDirection),d=new jP(_,p.value0),M=Ka(p.value0.inputDirection)(p.value0.outputDirection),O=c(s(mg(i)(M))(f(new Tm("not a chicken"))))(function(){var S=Ka(_.inputDirection)(an.value);return u(new F(new ye(p.value0.location,"whatever"),new F(new ue(p.value0.location,n_(ug)),new F(new be(p.value0.location,S),P.value))))}),_n=c(s(mg(GP(i)(M))(Wt(0)))(f(new Tm("not a cornercut"+QV(GP(i)(M))))))(function(){return a(function(){var S=Ka(_.inputDirection)(p.value0.inputDirection);return S===1?u(Ka(_.inputDirection)(an.value)):S===3?u(Ka(p.value0.inputDirection)(an.value)):f(d)}())(function(S){return u(new F(new ye(p.value0.location,"whatever"),new F(new ue(p.value0.location,n_(og)),new F(new be(p.value0.location,S),P.value))))})}),Q=c(s(mg(i)(Wt(2))&&mg(M)(Wt(2)))(f(new Tm("not a cross over"))))(function(){return a(function(){var S=Ka(_.inputDirection)(p.value0.inputDirection);return S===1?u(Ka(_.inputDirection)(an.value)):S===3?u(Ka(p.value0.inputDirection)(an.value)):f(d)}())(function(S){return u(new F(new ye(p.value0.location,"whatever"),new F(new ue(p.value0.location,n_(Ks)),new F(new be(p.value0.location,S),P.value))))})}),V=s(jV(kP([_.inputDirection,_.outputDirection,p.value0.inputDirection,p.value0.outputDirection]))(kP(he)))(f(new Tm("all ports not filled")));return c(V)(function(){return l(Q)(l(_n)(O))})}throw new Error("Failed pattern match at Game.Board.Path (line 85, column 1 - line 85, column 103): "+[_.constructor.name,p.constructor.name])}}}},lJ=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=b(t.Bind1()),a=t.Applicative0(),o=Ko(a)(bh),u=y(a),f=pr(r);return function(c){var s=Yt(c);return function(m){return e(s(function(){var l=XV(m)(Ir);return function(_){return KV(l(_))}}()))(function(l){return o(l)(function(_){var p=Eo(an.value)(_.rotation),i=zC(_.piece)(ia);if(i)return u({inputDirection:p,outputDirection:Eo(Ln.value)(_.rotation),location:m});var d=zC(_.piece)(tm);if(d)return u({inputDirection:p,outputDirection:Eo(vn.value)(_.rotation),location:m});var M=zC(_.piece)(rm);return M?u({inputDirection:p,outputDirection:Eo($n.value)(_.rotation),location:m}):f(new QP(m))})})}}},sJ=function(n){var r=nh(n.MonadThrow0());return function(t){return function(e){return function(a){return r(zP(h_(new VC(e,t))(Fy(e)(t)))(function(o){return zP(h_(new VC(e,a))(Fy(e)(a)))(function(u){return YV(ZV(JV(o)(u))(new j(new QC(o,u))))(function(){return nJ({inputDirection:o,outputDirection:u,location:e})})})}))}}}},_J=function(n){var r=b(n.MonadThrow0().Monad0().Bind1()),t=sJ(n),e=lJ(n),a=cJ(n);return function(o){var u=e(o);return function(f){var c=a(f);return function(s){return function(m){return function(l){return r(t(s)(m)(l))(function(_){return r(u(m))(function(p){return c(_)(p)})})}}}}}},pJ=function(n){var r=n.MonadThrow0(),t=r.Monad0(),e=b(t.Bind1()),a=nh(r),o=eJ(t.Applicative0()),u=_J(n);return function(f){var c=u(f);return function(s){var m=g(s.Functor0()),l=c(s);return function(_){return function(p){return function(i){return e(a(h_(JC.value)(tu(p))))(function(d){return e(a(h_(JC.value)(Ll(p))))(function(M){var O=Gl(d)(_),_n=Gl(M)(i),Q=rJ(VP([O])(VP(p)([_n])));return m(tJ)(o(NP(l))(KP(Q)))})})}}}}}},XP=function(n){var r=n.Monad0(),t=r.Bind1(),e=g(t.Apply0().Functor0()),a=b(t),o=pJ(_v(r))(VM(n))(fJ(r)),u=y(r.Applicative0());return function(f){return function(c){return function(s){return e(Jm)(a(vl(o(f)(c)(s)))(function(m){return aJ(uJ(m))(function(l){return u(m)})}))}}}};var vg=L;var dJ=Fe({reflectSymbol:function(){return"isCreatingWire"}})()(),DJ=Fe({reflectSymbol:function(){return"locations"}})()(),gJ=Fe({reflectSymbol:function(){return"boardHistory"}})()(),dr=b(mt),si=g(oa),yx=ql(jn),Tf=Ne(ot),Dg=bl(qa),bx=yP(Dg),Gc=Yt(ot),hJ=FC(Dg),Pr=Vn(Jn)(mt),Cu=de(ot),yJ=ge(Bi),bJ=Xn(jn),TJ=df(Ir),CJ=iu(ap),e0=Zn(Gr),EJ=e0(fr),Tx={reflectSymbol:function(){return"piece"}},YP=Op()(Tx)(pt),MJ=zD()(Tx)(pt),wJ=w(Ja),FJ=$c(Ir),r_=w(Or),dg=Ta(Pe),LJ=rp(Aa),jC=ru(It),SJ=$r(ic),AJ=wC(Dg),KC=b(fe),XC=iu(Qt),ZP=y(Wa),Ef=SP(qa),Mf=AP(qa),IJ=$C(Ef)(Mf),nx=g(In),HJ=ar(Fi)(Dp),PJ=x(rt),xJ=sa(qe),RJ=Co(tg),NJ=xn(oa),OJ=g(ec),WJ=ur(mt),$J=qC(Mf)(Ef),hf=e0(Fi),qJ=NC(Mf)(Ef),rx=OC(Mf)(Ef),YC=oe(Hr),Cx=Ht(Gr),Bc=Cx(Wn),UJ=gC(ot),tx=qs(sf(jn)),ex=Fe({reflectSymbol:function(){return"signal"}})()(),BJ=At(gu),li=y(Gr),GJ=w(Ze),kJ=e0(Wn),ZC=Nr(Gr),zJ=le(Qe(bo)),VJ=Us(ot)(rt),JJ=XP(Dg),QJ=GC(Ef)(Mf),jJ=BC(Mf)(Ef),ax=Cx(ln),ox=Rc(ot),KJ=pf(_f(jn)),XJ=WC(Ef)(Mf),YJ=UC(Ef)(Mf),a0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),o0=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),ZJ=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),u0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),i0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),f0=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),c0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),l0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),Ex=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ux=function(){function n(){}return n.value=new n,n}(),n0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),ix=function(){function n(){}return n.value=new n,n}(),fx=function(){function n(){}return n.value=new n,n}(),cx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),lx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),sx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),_x=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),px=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),mx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),vx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),dx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Dx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),gx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),hx=function(n){return function(r){var t=new h(qt(mm(n))-r.left,qt(vm(n))-r.top),e=t.value0>t.value1,a=t.value0+t.value1<r.width;if(!e&&!a)return $n.value;if(!e&&a)return an.value;if(e&&!a)return Ln.value;if(e&&a)return vn.value;throw new Error("Failed pattern match at Component.Board (line 384, column 29 - line 388, column 31): "+[e.constructor.name,a.constructor.name])}},n7=function(n){var r=n.Strong0(),t=dJ(Tn.value)(r),e=DC(n.Choice1()),a=DJ(Tn.value)(r);return function(o){return t(e(a(o)))}},r7=n7(wA),t0=function(){return Tn.value}(),t7=function(){return Fe({reflectSymbol:function(){return"goalPorts"}})()()(Tn.value)}(),r0=t7(br),e7=function(n){var r=gJ(Tn.value)(n),t=QH(n);return function(e){return r(t(e))}},Cf=e7(Ir),t_=dr(si(yx(function(n){var r=Ia(n.port);return r?new v(n.signal):D.value}))(Tf(function(n){return n.goalPorts})))(function(n){return dr(si(fa(bx(n)))(Gc(Cf)))(function(r){return dr(si(fa(hJ(r)))(Gc(Cf)))(function(t){return Pr(Cu(function(e){var a={};for(var o in e)({}).hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a.lastBoardEvaluation=r,a.goalPorts=yJ(function(u){return function(f){return Un(f)(bJ(u)(t))}})(e.goalPorts),a}))(function(){return dr(Gc(function(){var e=KD(CJ);return function(a){return Cf(TJ(e(a)))}}()))(EJ(function(e){return Pr(YP(t0)(e.value0)(function(a){return new lm(e.value1.piece)}))(function(){var a=ng(e.value0)(r);return YP(t0)(e.value0)(function(o){return new cm(a)})})}))})})})}),yf=function(n){return Pr(Cu(function(r){var t={};for(var e in r)({}).hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t.boardHistory=JH(n)(r.boardHistory),t}))(function(){return Pr(t_)(function(){return aa(new Ex(n))})})},bf=function(n){return si(PP(n))(Gc(Cf))},Mx=function(n){var r=fD(DS(n));return function(t){var e=NH(t),a=wt(t),o=gn(a),u=te(a),f=function(l){var _=function(S){return function(Pn){var xr=ng(Pn)(l.lastBoardEvaluation);return MJ(t0)(Pn)(e)({piece:S,location:Pn,portStates:xr})(n0.create)}},p=function(S){return Cn(wJ(S))},i=bC(l.boardHistory),d=ks(i)(FJ),M="25fr repeat("+(r_(d)+", 100fr) 25fr"),O=function(S){return function(Pn){var xr=d+2|0,Fu=function(){if(S instanceof vn)return new h(1,dg(xr)(2)+1|0);if(S instanceof $n)return new h(xr,dg(xr)(2)+1|0);if(S instanceof an)return new h(dg(xr)(2)+1|0,1);if(S instanceof Ln)return new h(dg(xr)(2)+1|0,xr);throw new Error("Failed pattern match at Component.Board (line 219, column 23 - line 223, column 55): "+[S.constructor.name])}(),Pf=function(){var _i=LJ(S)([vn.value,$n.value]);return _i?am(0)(0)(50)(25):am(12.5)(-12.5)(25)(50)}();return dt([Kt("board-port"),Me(function(_i){return new cx(S)}),Na(qI)(S),Fs(jC("; ")(["grid-area: "+(r_(Fu.value0)+(" / "+r_(Fu.value1)))]))])([fm([Pf])([Ac([Ws([new ff(qt(SJ(S)+2|0)*90,25,12.5)])])([lf(cC(S)({port:Iy(Pn.port),connected:Pn.connected,signal:Pn.signal}))])])])}},_n=function(){var S=fa(AJ(l.lastBoardEvaluation))(ks(l)(Cf));return KC(XC(l.goalPorts))(function(Pn){return ZP(O(Pn.value0)(Pn.value1))})}(),Q=function(S){return function(Pn){var xr=Ar(S)(Pn),Fu=RP(IJ(xr))(i),Pf=nx(function(pi){return pi.piece})(Jm(Fu)),_i=HJ(function(pi){return pi.rotation})(Fu);return dt([Na(LD)(xr),Kt("piece"),Fs(jC("; ")(["transform: rotate("+(r_(_i*90|0)+"deg)"),"grid-area: "+(r_(Pn+2|0)+(" / "+r_(S+2|0)))])),yD(_x.create(xr)),vI(px.create(xr)),bD(mx.create(xr)),DI(vx.create(xr)),yI(dx.create(xr)),hI(Dx.create),bI(gx.create(xr))])([on(p)(_)(Pf)(xr)])}},V=KC(rc(0)(d-1|0))(function(S){return KC(rc(0)(d-1|0))(function(Pn){return ZP(Q(S)(Pn))})});return dt([ua("board-component"),gI(sx.create),Fs(jC("; ")(["grid-template-columns: "+M,"grid-template-rows:    "+M]))])(PJ(V)(_n))},c=function(l){var _=Un(mP)(l),p=xJ(RJ(_))(0);return{boardHistory:VH(_),mouseOverLocation:D.value,goalPorts:Qn,lastBoardEvaluation:fa(bx(p))(_),isCreatingWire:D.value}},s=function(l){if(l instanceof ux)return dr(o($I))(function(_){return Pr(NJ(ji(OJ(lx.create)(_))))(function(){return WJ(aa)(si(Ex.create)(Gc(Cf)))})});if(l instanceof n0&&l.value0 instanceof sm)return dr(bf($J(l.value0.value0)(l.value0.value1)))(hf(function(_){return Pr(r(new $t(new be(l.value0.value0,l.value0.value1))))(function(){return yf(_.value1)})}));if(l instanceof n0&&l.value0 instanceof _m)return dr(Tf(function(_){return _.mouseOverLocation}))(function(_){if(_ instanceof v)return dr(bf(qJ(l.value0.value0)(_.value0)))(hf(function(p){return Pr(r(new $t(new Xa(l.value0.value0,_.value0))))(function(){return yf(p.value1)})}));if(_ instanceof D)return dr(bf(rx(l.value0.value0)))(hf(function(p){return Pr(r(new $t(new ye(l.value0.value0,YC(p.value0)))))(function(){return yf(p.value1)})}));throw new Error("Failed pattern match at Component.Board (line 300, column 7 - line 310, column 30): "+[_.constructor.name])});if(l instanceof ix)return dr(si(yC)(Tf(function(_){return _.boardHistory})))(function(_){return Bc(_)(function(p){return Pr(Cu(function(i){var d={};for(var M in i)({}).hasOwnProperty.call(i,M)&&(d[M]=i[M]);return d.boardHistory=p,d}))(function(){return Pr(r(new $t(Ya.value)))(function(){return t_})})})});if(l instanceof fx)return dr(si(hC)(Tf(function(_){return _.boardHistory})))(function(_){return Bc(_)(function(p){return Pr(Cu(function(i){var d={};for(var M in i)({}).hasOwnProperty.call(i,M)&&(d[M]=i[M]);return d.boardHistory=p,d}))(function(){return Pr(r(new $t(Ya.value)))(function(){return t_})})})});if(l instanceof cx)return Pr(UJ(function(){var _=tx(l.value0)(br)(tf),p=ex(Tn.value)(br);return function(i){return r0(_(p(i)))}}())(BJ))(function(){return dr(t_)(function(){return li(void 0)})});if(l instanceof sx)return Pr(Cu(function(_){var p={};for(var i in _)({}).hasOwnProperty.call(_,i)&&(p[i]=_[i]);return p.isCreatingWire=D.value,p}))(function(){return u("cancel wire creation")});if(l instanceof _x)return Bc(hD(mC(l.value1)))(function(_){return Bc(Rh(_))(function(p){return dr(o(Cl(p)))(function(i){var d=hx(l.value1)(i);return Pr(u(GJ(d)))(function(){return Cu(function(M){var O={};for(var _n in M)({}).hasOwnProperty.call(M,_n)&&(O[_n]=M[_n]);return O.isCreatingWire=new v({initialDirection:d,locations:[l.value0]}),O})})})})});if(l instanceof px)return dr(Tf(function(_){return _.isCreatingWire}))(kJ(function(_){return ZC(zJ(Ll(_.locations))(new v(l.value0)))(Pr(u("modifying state of board"))(function(){return VJ(r7)([l.value0])}))}));if(l instanceof mx)return dr(Tf(function(_){return _.isCreatingWire}))(function(_){return Bc(_)(function(p){return Bc(hD(mC(l.value1)))(function(i){return Bc(Rh(i))(function(d){return dr(o(Cl(d)))(function(M){var O=hx(l.value1)(M);return dr(si(fa(JJ(p.initialDirection)(p.locations)(O)))(Gc(Cf)))(function(_n){if(_n instanceof v){var Q=new Xu(_n.value0);return Pr(dr(bf(QJ(Q)))(hf(function(V){return Pr(r(new $t(Q)))(function(){return yf(V.value1)})})))(function(){return Cu(function(V){var S={};for(var Pn in V)({}).hasOwnProperty.call(V,Pn)&&(S[Pn]=V[Pn]);return S.isCreatingWire=D.value,S})})}if(_n instanceof D)return u("no board events!!");throw new Error("Failed pattern match at Component.Board (line 353, column 13 - line 362, column 40): "+[_n.constructor.name])})})})})})});if(l instanceof vx)return Pr(o(Xp(vg(l.value1))))(function(){return Cu(function(_){var p={};for(var i in _)({}).hasOwnProperty.call(_,i)&&(p[i]=_[i]);return p.mouseOverLocation=new v(l.value0),p})});if(l instanceof dx)return o(Xp(vg(l.value1)));if(l instanceof gx)return Pr(Cu(function(_){var p={};for(var i in _)({}).hasOwnProperty.call(_,i)&&(p[i]=_[i]);return p.mouseOverLocation=new v(l.value0),p}))(function(){return o(Xp(vg(l.value1)))});if(l instanceof Dx)return Cu(function(_){var p={};for(var i in _)({}).hasOwnProperty.call(_,i)&&(p[i]=_[i]);return p.mouseOverLocation=D.value,p});if(l instanceof lx)return Pr(ZC(wD(l.value0)==="z"&&FD(l.value0))(s(ix.value)))(function(){return ZC(wD(l.value0)==="y"&&FD(l.value0))(s(fx.value))});throw new Error("Failed pattern match at Component.Board (line 287, column 18 - line 380, column 26): "+[l.constructor.name])},m=Ft({finalize:D.value,handleAction:s,handleQuery:function(l){if(l instanceof a0)return dr(Gc(Cf))(function(_){return li(new v(l.value0(_)))});if(l instanceof o0)return Pr(dr(bf(jJ(l.value0)(l.value1)))(hf(function(_){return dr(yf(_.value1))(function(){return r(new $t(new ue(l.value0,YC(l.value1))))})})))(function(){return li(D.value)});if(l instanceof ZJ)return Pr(dr(bf(rx(l.value0)))(hf(function(_){return dr(yf(_.value1))(function(){return r(new $t(new ye(l.value0,YC(_.value0))))})})))(function(){return li(D.value)});if(l instanceof u0)return dr(Tf(function(_){return _.mouseOverLocation}))(function(_){return li(nx(l.value0)(_))});if(l instanceof f0)return Pr(ax(XC(l.value0))(function(_){return ox(function(){var p=tx(_.value0)(br)(tf),i=ex(Tn.value)(br);return function(d){return r0(p(i(d)))}}())(_.value1)}))(function(){return dr(t_)(function(){return dr(si(yx(function(_){var p=!Ia(_.port);return p?new v(_.signal):D.value}))(Tf(function(_){return _.goalPorts})))(function(_){return li(v.create(l.value1(_)))})})});if(l instanceof i0)return Pr(ax(XC(l.value0))(function(_){return ox(function(){var p=KJ(_.value0)(br);return function(i){return r0(p(i))}}())(new v({port:_.value1,signal:0,connected:!1}))}))(function(){return dr(t_)(function(){return li(D.value)})});if(l instanceof c0)return Pr(dr(bf(XJ))(hf(function(_){return dr(yf(_.value1))(function(){return r(new $t(Mo.value))})})))(function(){return li(D.value)});if(l instanceof l0)return Pr(dr(bf(YJ))(hf(function(_){return dr(yf(_.value1))(function(){return r(new $t(wo.value))})})))(function(){return li(D.value)});throw new Error("Failed pattern match at Component.Board (line 241, column 20 - line 280, column 23): "+[l.constructor.name])},initialize:new v(ux.value),receive:function(l){return D.value}});return vt({eval:m,initialState:c,render:f})}};var s0=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}};var _0=Sr,p0=Sr;var m0=Sr;var v0={bottom:0,top:59,Ord0:function(){return _0}},d0={bottom:0,top:59,Ord0:function(){return p0}};var D0={bottom:0,top:23,Ord0:function(){return m0}},wf={cardinality:60,toEnum:function(n){if(n>=0&&n<=59)return new v(n);if(kn)return D.value;throw new Error("Failed pattern match at Data.Time.Component (line 90, column 1 - line 95, column 26): "+[n.constructor.name])},fromEnum:function(n){return n},Bounded0:function(){return v0},Enum1:function(){return o7(0)}},o7=s0("enumSecond","Data.Time.Component",function(){return{succ:function(){var n=Jr(wf),r=$r(wf);return function(t){return n(function(e){return e+1|0}(r(t)))}}(),pred:function(){var n=Jr(wf),r=$r(wf);return function(t){return n(function(e){return e-1|0}(r(t)))}}(),Ord0:function(){return _0}}});var Ff={cardinality:60,toEnum:function(n){if(n>=0&&n<=59)return new v(n);if(kn)return D.value;throw new Error("Failed pattern match at Data.Time.Component (line 61, column 1 - line 66, column 26): "+[n.constructor.name])},fromEnum:function(n){return n},Bounded0:function(){return d0},Enum1:function(){return u7(0)}},u7=s0("enumMinute","Data.Time.Component",function(){return{succ:function(){var n=Jr(Ff),r=$r(Ff);return function(t){return n(function(e){return e+1|0}(r(t)))}}(),pred:function(){var n=Jr(Ff),r=$r(Ff);return function(t){return n(function(e){return e-1|0}(r(t)))}}(),Ord0:function(){return p0}}});var Lf={cardinality:24,toEnum:function(n){if(n>=0&&n<=23)return new v(n);if(kn)return D.value;throw new Error("Failed pattern match at Data.Time.Component (line 32, column 1 - line 37, column 24): "+[n.constructor.name])},fromEnum:function(n){return n},Bounded0:function(){return D0},Enum1:function(){return i7(0)}},i7=s0("enumHour","Data.Time.Component",function(){return{succ:function(){var n=Jr(Lf),r=$r(Lf);return function(t){return n(function(e){return e+1|0}(r(t)))}}(),pred:function(){var n=Jr(Lf),r=$r(Lf);return function(t){return n(function(e){return e-1|0}(r(t)))}}(),Ord0:function(){return m0}}});var hg=function(){function n(r,t,e,a){this.value0=r,this.value1=t,this.value2=e,this.value3=a}return n.create=function(r){return function(t){return function(e){return function(a){return new n(r,t,e,a)}}}},n}();var Cm=function(n){return n.value2},Em=function(n){return n.value1};var Mm=function(n){return n.value0};function y0(){return Date.now()}var d7=function(n,r,t){var e=new Date(Date.UTC(n,r,t));return n>=0&&n<100&&e.setUTCFullYear(n),e};function wx(n,r,t,e){var a=d7(r,t-1,e);return n(a.getUTCFullYear())(a.getUTCMonth()+1)(a.getUTCDate())}var g7=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}};var oo=function(){function n(){}return n.value=new n,n}(),Ho=function(){function n(){}return n.value=new n,n}(),Po=function(){function n(){}return n.value=new n,n}(),xo=function(){function n(){}return n.value=new n,n}(),Ro=function(){function n(){}return n.value=new n,n}(),No=function(){function n(){}return n.value=new n,n}(),Oo=function(){function n(){}return n.value=new n,n}(),Wo=function(){function n(){}return n.value=new n,n}(),$o=function(){function n(){}return n.value=new n,n}(),qo=function(){function n(){}return n.value=new n,n}(),Uo=function(){function n(){}return n.value=new n,n}(),Mu=function(){function n(){}return n.value=new n,n}();var Fx={eq:function(n){return function(r){return n instanceof oo&&r instanceof oo||n instanceof Ho&&r instanceof Ho||n instanceof Po&&r instanceof Po||n instanceof xo&&r instanceof xo||n instanceof Ro&&r instanceof Ro||n instanceof No&&r instanceof No||n instanceof Oo&&r instanceof Oo||n instanceof Wo&&r instanceof Wo||n instanceof $o&&r instanceof $o||n instanceof qo&&r instanceof qo||n instanceof Uo&&r instanceof Uo||n instanceof Mu&&r instanceof Mu}}},b0={compare:function(n){return function(r){if(n instanceof oo&&r instanceof oo)return R.value;if(n instanceof oo)return A.value;if(r instanceof oo)return I.value;if(n instanceof Ho&&r instanceof Ho)return R.value;if(n instanceof Ho)return A.value;if(r instanceof Ho)return I.value;if(n instanceof Po&&r instanceof Po)return R.value;if(n instanceof Po)return A.value;if(r instanceof Po)return I.value;if(n instanceof xo&&r instanceof xo)return R.value;if(n instanceof xo)return A.value;if(r instanceof xo)return I.value;if(n instanceof Ro&&r instanceof Ro)return R.value;if(n instanceof Ro)return A.value;if(r instanceof Ro)return I.value;if(n instanceof No&&r instanceof No)return R.value;if(n instanceof No)return A.value;if(r instanceof No)return I.value;if(n instanceof Oo&&r instanceof Oo)return R.value;if(n instanceof Oo)return A.value;if(r instanceof Oo)return I.value;if(n instanceof Wo&&r instanceof Wo)return R.value;if(n instanceof Wo)return A.value;if(r instanceof Wo)return I.value;if(n instanceof $o&&r instanceof $o)return R.value;if(n instanceof $o)return A.value;if(r instanceof $o)return I.value;if(n instanceof qo&&r instanceof qo)return R.value;if(n instanceof qo)return A.value;if(r instanceof qo)return I.value;if(n instanceof Uo&&r instanceof Uo)return R.value;if(n instanceof Uo)return A.value;if(r instanceof Uo)return I.value;if(n instanceof Mu&&r instanceof Mu)return R.value;throw new Error("Failed pattern match at Data.Date.Component (line 0, column 0 - line 0, column 0): "+[n.constructor.name,r.constructor.name])}},Eq0:function(){return Fx}};var Lx=function(){return{bottom:oo.value,top:Mu.value,Ord0:function(){return b0}}}();var Eu={cardinality:12,toEnum:function(n){return n===1?new v(oo.value):n===2?new v(Ho.value):n===3?new v(Po.value):n===4?new v(xo.value):n===5?new v(Ro.value):n===6?new v(No.value):n===7?new v(Oo.value):n===8?new v(Wo.value):n===9?new v($o.value):n===10?new v(qo.value):n===11?new v(Uo.value):n===12?new v(Mu.value):D.value},fromEnum:function(n){if(n instanceof oo)return 1;if(n instanceof Ho)return 2;if(n instanceof Po)return 3;if(n instanceof xo)return 4;if(n instanceof Ro)return 5;if(n instanceof No)return 6;if(n instanceof Oo)return 7;if(n instanceof Wo)return 8;if(n instanceof $o)return 9;if(n instanceof qo)return 10;if(n instanceof Uo)return 11;if(n instanceof Mu)return 12;throw new Error("Failed pattern match at Data.Date.Component (line 87, column 14 - line 99, column 19): "+[n.constructor.name])},Bounded0:function(){return Lx},Enum1:function(){return h7(0)}},h7=g7("enumMonth","Data.Date.Component",function(){return{succ:function(){var n=Jr(Eu),r=$r(Eu);return function(t){return n(function(e){return e+1|0}(r(t)))}}(),pred:function(){var n=Jr(Eu),r=$r(Eu);return function(t){return n(function(e){return e-1|0}(r(t)))}}(),Ord0:function(){return b0}}});var S7=$r(Eu),A7=Nt();var I7=Jr(Eu);var H7=function(){function n(r,t,e){this.value0=r,this.value1=t,this.value2=e}return n.create=function(r){return function(t){return function(e){return new n(r,t,e)}}},n}();var C0=function(n){return function(r){return function(t){var e=function(a){return function(o){return function(u){return new H7(a,A7(I7(o)),u)}}};return wx(e,n,S7(r),t)}}};var xx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var Rx=function(n){return n.value1};function Ox(n){return function(r){var t=new Date(r);return n(t.getUTCFullYear())(t.getUTCMonth()+1)(t.getUTCDate())(t.getUTCHours())(t.getUTCMinutes())(t.getUTCSeconds())(t.getUTCMilliseconds())}}var R7=Nt(),N7=Jr(Eu);var Wx=function(){var n=function(r){return function(t){return function(e){return function(a){return function(o){return function(u){return function(f){return new xx(C0(r)(R7(N7(t)))(e),new hg(a,o,u,f))}}}}}}};return Ox(n)}();var W7=g(bn),$x=W7(function(n){return Rx(Wx(n))})(y0);var q7=w(Or),U7=Bg(It),B7=Ca(ln)(It),G7=g(zn),qx=b(mt),k7=xn(oa),z7=g(ec),V7=Us(ot)(rt),J7=y(Gr),Ux=function(){function n(){}return n.value=new n,n}(),Bx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var Q7=function(){return Fe({reflectSymbol:function(){return"messages"}})()()(Tn.value)}(),j7=Q7(br),Gx=function(n){var r=sl(nD(n));return function(t){var e=gn(wt(t.MonadEffect0())),a=function(m){var l=function(_){var p=$r(_);return function(i){var d=q7(p(i));return U7("0")(2-pD(d)|0)+d}};return B7(":")([l(Lf)(Mm(m)),l(Ff)(Em(m)),l(wf)(Cm(m))])},o=function(m){return kT([jp([Kt("timestamp")])([Cn(a(m.timestamp))]),jp([Na(UI)(m.message.user),Kt("username")])([jt([Cn(m.message.user)])]),jp([Kt("message")])([lf(m.message.message)])])},u=function(m){return dt([ua("chat-component")])([BT(G7(o)(m.messages)),dt([ua("anchor")])([])])},f=function(m){return{messages:[]}},c=function(m){if(m instanceof Ux)return qx(r(function(l){return l.chatServer.emitter}))(function(l){return k7(ji(z7(Bx.create)(l)))});if(m instanceof Bx)return qx(e($x))(function(l){return V7(j7)([{timestamp:l,message:m.value0}])});throw new Error("Failed pattern match at Component.Chat (line 95, column 18 - line 101, column 45): "+[m.constructor.name])},s=Ft({handleQuery:function(m){return J7(D.value)},handleAction:c,initialize:new v(Ux.value),finalize:D.value,receive:function(m){return D.value}});return vt({eval:s,initialState:f,render:u})}};var X7=Qe(C1);var Y7=H(oc(Aa)(As)),Z7=lc(Hr),zx=Ht(me)(ln),n8=Ql(Hr),r8=Ql(tg),t8=Nr(me),e8=le(X7),Vx=pr(AM),a8=io(me),o8=Vn(Jn)(Ci),kx=xu(wi),E0=function(){function n(){}return n.value=new n,n}(),M0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),w0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),F0=function(){function n(){}return n.value=new n,n}(),Jx=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),yg=function(){function n(){}return n.value=new n,n}();var Qx=function(n){var r=b(n.Bind1()),t=y(n.Applicative0());return function(e){return function(a){return function(o){var u=Z7(e)(a);return r(o(a))(function(f){var c=Y7(u)(f);return t(c?new K(void 0):new j({inputs:a,expected:u,recieved:f}))})}}}},u8=function(n){return function(r){return zx(he)(function(t){var e=n8(n.goal)(t),a=r8(r)(t);return t8(e8(e)(a))(Vx({dir:t,expected:e,received:a}))})}},i8=function(n){return function(r){return zx(n.otherRestrictions)(function(t){return a8(t.restriction(r))(Vx({name:t.name,description:t.description}))})}},jx=function(n){return function(r){return jE(F0.value)(o8(kx(M0.create)(u8(n)(r)))(function(){return kx(w0.create)(i8(n)(r))}))}};var bg=oe(Hr),f8=w(fc),c8=Ve(zn),l8=eu(kl),s8=w(Or),L0=Vn(Jn)(mt),S0=y(Gr),Xx=de(ot),Tg=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),A0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),I0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),H0=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),P0=function(){function n(){}return n.value=new n,n}(),x0=function(){function n(){}return n.value=new n,n}(),R0=function(){function n(){}return n.value=new n,n}(),Yx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),Zx=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}(),nR=function(){function n(){}return n.value=new n,n}(),rR=function(){function n(){}return n.value=new n,n}(),tR=function(){function n(){}return n.value=new n,n}(),eR=function(){function n(){}return n.value=new n,n}(),_8=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),aR=function(n){var r=wt(n.MonadEffect0()),t=te(r),e=Es(r),a=function(f){var c=function(){if(f.completionStatus instanceof E0)return jt([]);if(f.completionStatus instanceof M0)return Cn("port mismatch, render later");if(f.completionStatus instanceof w0)return Cn("failed restriction, render later");if(f.completionStatus instanceof F0)return wc([Cn("ports are looking good: "),af([Me(function(m){return eR.value})])([Cn("run tests")])]);if(f.completionStatus instanceof Jx)return Cn("failed test case, render later");if(f.completionStatus instanceof yg)return jt([Cn("game completed!"),af([Me(function(m){return nR.value})])([Cn("new level")])]);throw new Error("Failed pattern match at Component.Sidebar (line 117, column 32 - line 139, column 14): "+[f.completionStatus.constructor.name])}(),s=function(m){var l={piece:m,location:Ar(0)(0),portStates:Qn};return dt([Na(SD)(bg(m)),CD(!0),ED(["available-piece"]),TD(Yx.create(bg(m))),Me(Zx.create(bg(m)))])([lf(OD(_C(m))),Cn(f8(bg(m)))])};return dt([ua("sidebar-component")])([ii([Cn(f.problem.title)]),Qp([Cn(f.problem.description)]),c,Qp([Cn("Available pieces:")]),Du([Kt("pieces")])(c8(l8(f.problem.pieceSet))(s)),Qp([Cn("Board size")]),wc([af([Me(function(m){return tR.value})])([Cn("-")]),Cn(s8(f.boardSize)),af([Me(function(m){return rR.value})])([Cn("+")])])])},o=function(f){return{problem:f.problem,completionStatus:E0.value,boardSize:f.boardSize}},u=Ft({finalize:D.value,handleAction:function(f){if(f instanceof Yx)return L0(t("piece dropped!"))(function(){return aa(new I0(f.value0))});if(f instanceof Zx)return aa(new H0(f.value0));if(f instanceof nR)return e(vu.value);if(f instanceof rR)return aa(P0.value);if(f instanceof tR)return aa(x0.value);if(f instanceof eR)return aa(R0.value);if(f instanceof _8)return S0(void 0);throw new Error("Failed pattern match at Component.Sidebar (line 145, column 21 - line 156, column 35): "+[f.constructor.name])},handleQuery:function(f){if(f instanceof Tg)return L0(Xx(function(c){var s={};for(var m in c)({}).hasOwnProperty.call(c,m)&&(s[m]=c[m]);return s.completionStatus=f.value0,s}))(function(){return S0(D.value)});if(f instanceof A0)return L0(Xx(function(c){var s={};for(var m in c)({}).hasOwnProperty.call(c,m)&&(s[m]=c[m]);return s.boardSize=f.value0,s}))(function(){return S0(D.value)});throw new Error("Failed pattern match at Component.Sidebar (line 157, column 20 - line 168, column 23): "+[f.constructor.name])},initialize:D.value,receive:U(D.value)});return vt({eval:u,initialState:o,render:a})};var m8=x(_w),oR=Ca(ln)(It),uR=g(zn),v8=rr(),iR=dm()(),d8=Fe({reflectSymbol:function(){return"selector"}})()();var D8=Fe({reflectSymbol:function(){return"delayBy"}})()();var g8=function(n){return m8(1.5)(qt(pD(n))*.065)},h8=function(){var n=function(r){if(r instanceof Za)return r.value0;if(r instanceof Lo)return oR(" ")(uR(n)(r.value3));if(r instanceof lu)return oR(" ")(uR(function(t){return n(yr(t))})(r.value3));if(r instanceof su)return p_(r.value0);if(r instanceof ea)return n(Zu(r.value0));throw new Error("Failed pattern match at Game.Message (line 47, column 16 - line 52, column 53): "+[r.constructor.name])};return function(r){return n(v8(r))}}();var N0=function(n){return Du([Kt("red")])([Cn(n)])},e_=function(n){return function(r){return{user:n,message:r,selector:D.value,delayBy:D.value}}},O0=function(n){return function(r){return e_(n)(Cn(r))}},W0=function(n){return Du([Kt("green")])([Cn(n)])},$0=O0("guide"),fR=function(n){var r=iR(n.Profunctor0()),t=d8(Tn.value)(n);return function(e){return r(t(e))}};var y8=function(n){var r=iR(n.Profunctor0()),t=D8(Tn.value)(n);return function(e){return r(t(e))}},b8=y8(br),Cg=function(n){return xc(b8)(new v(g8(h8(n.message))))(n)};var Mg=w(Or),T8=w(Ze),C8=w(tC),E8=Ve(zn),cR=iu(Qt),M8=H(Qe(As)),w8=Xn(jn),F8=ru(It),L8=g(zn),lR=ev(fr)(co),S8=Ta(Pe),DR=Vn(Jn),A8=w(Wl(Ze)(tC)),gR=zD(),B0={reflectSymbol:function(){return"board"}},I8=gR(B0)(Ie),H8=kD()({reflectSymbol:function(){return"chat"}})(Ie),hR={reflectSymbol:function(){return"sidebar"}},P8=gR(hR)(Ie),yR=Op(),sR=yR(B0)(Ie),Sf=b(mt),wm=Ne(ot),a_=DR(mt),x8=Co(Hr),U0=yR(hR)(Ie),R8=DD(vo),N8=$c(Ir),Fm=rT()(B0)(Ie),_R=Ht(Gr)(Wn),O8=Zn(Gr)(Wn),pR=xn(oa),W8=g(oa),$8=Ju(ln),q8=Nr(Gr),U8=y(Gr),mR=function(){function n(){}return n.value=new n,n}(),vR=function(){function n(){}return n.value=new n,n}(),dR=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),o_=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),B8=function(n){return function(r){return wc([W0(Mg(n)+("/"+Mg(r))),Cn(" Sucessful")])}},G8=function(n){return function(r){return function(t){var e=function(u){return T8(u.value0)+(": "+C8(u.value1))},a=wc(oy(Cn(", "))(E8(cR(n.recieved))(function(u){var f=M8(w8(et(u))(n.expected))(new v(yr(u)));return f?W0(e(u)):N0(e(u))}))),o=function(u){return Cn(F8(", ")(L8(e)(cR(u))))};return jt([jt([N0(Mg(r)+("/"+Mg(t))),Cn(" Failed:")]),jt([Cn("  - inputs: "),o(n.inputs)]),jt([Cn("  - expected outputs: "),o(n.expected)]),jt([Cn("  - recieved outputs: "),a])])}}},k8=function(n){var r=n.MonadEffect0(),t=r.Monad0(),e=y(t.Applicative0()),a=t.Bind1(),o=DR(a),u=te(r),f=b(a),c=Qx(t),s=Ye(n);return function(m){var l=ly(m)(r);return function(_){return function(p){return function(i){var d=lR(p),M=qt(S8(2e3)(lR(p))),O=function(_n){return function(Q){if(Q instanceof P)return e(new K(void 0));if(Q instanceof F)return o(u(A8(Q.value0)))(function(){return f(c(_)(Q.value0)(i))(function(V){return o(s($u(M)))(function(){if(V instanceof j)return o(l(e_("/test")(G8(V.value0)(_n)(d))))(function(){return e(new j(V.value0))});if(V instanceof K)return o(l(e_("/test")(B8(_n)(d))))(function(){return O(_n+1|0)(Q.value1)});throw new Error("Failed pattern match at Component.Puzzle (line 176, column 9 - line 182, column 35): "+[V.constructor.name])})})});throw new Error("Failed pattern match at Component.Puzzle (line 169, column 21 - line 182, column 35): "+[Q.constructor.name])}};return O(1)(p)}}}}},Eg=function(){return Tn.value}(),z8=function(){return Tn.value}(),Af=function(){return Tn.value}(),bR=function(n){var r=n.MonadEffect0(),t=aR(n),e=wt(r),a=te(e),o=gn(e),u=k8(rD(n));return function(f){var c=Gx(f)(n),s=nD(f),m=GF(s)(e),l=ly(s)(e),_=u(s);return function(p){var i=Mx(p)(r),d=function(Q){return dt([ua("puzzle-component")])([I8(Af)(void 0)(i)(D.value)(dR.create),H8(z8)(void 0)(c)(void 0),P8(Eg)(void 0)(t)({problem:Q.puzzle.problem,boardSize:3})(o_.create)])},M=function(Q){return function(V){return sR(Af)(void 0)(function(S){return new o0(V,lg(Q))})}},O=function(Q){if(Q instanceof mR)return Sf(wm(function(V){return V.puzzle.conversation}))(function(V){return a_(m(V))(function(){return Sf(wm(function(S){return S.puzzle.problem.goal}))(function(S){return sR(Af)(void 0)(function(Pn){return new i0(x8(S))})})})});if(Q instanceof vR)return a_(a("level complete"))(function(){return a_(U0(Eg)(void 0)(function(V){return new Tg(yg.value)}))(function(){return Sf(wm(function(V){return V.puzzleId}))(function(V){return o(R8(V)(du.value))})})});if(Q instanceof dR)return a_(U0(Eg)(void 0)(function(V){return new A0(ks(Q.value0.value0)(N8))}))(function(){return Sf(wm(function(V){return V.puzzle.problem}))(function(V){var S=jx(V)(Q.value0.value0);return U0(Eg)(void 0)(function(Pn){return new Tg(S)})})});if(Q instanceof o_&&Q.value0 instanceof I0)return Sf(Fm(Af)(void 0)(u0.create))(function(V){return _R(V)(M(Q.value0.value0))});if(Q instanceof o_&&Q.value0 instanceof H0)return Sf(Fm(Af)(void 0)(a0.create))(O8(function(V){return _R(DP(V))(M(Q.value0.value0))}));if(Q instanceof o_&&Q.value0 instanceof P0)return pR(Fm(Af)(void 0)(c0.create));if(Q instanceof o_&&Q.value0 instanceof x0)return pR(Fm(Af)(void 0)(l0.create));if(Q instanceof o_&&Q.value0 instanceof R0)return a_(l(e_("/test")(gD([Cn("Verifying board: running tests...")]))))(function(){var V=function(S){return W8(Un(Qn))(Fm(Af)(void 0)(f0.create(S)))};return Sf(wm(function(S){return S.puzzle.problem}))(function(S){return Sf(_(S.goal)($8(S.testCases))(V))(function(Pn){return q8(KE(Pn))(a_(l(e_("/test")(gD([Cn("Tests completed successfully!")]))))(function(){return O(vR.value)}))})})});throw new Error("Failed pattern match at Component.Puzzle (line 109, column 18 - line 154, column 35): "+[Q.constructor.name])},_n=Ft({finalize:D.value,handleAction:O,handleQuery:function(Q){return U8(D.value)},initialize:new v(mR.value),receive:U(D.value)});return vt({eval:_n,initialState:W(q),render:d})}}};var uo={goal:ia,title:"default title",description:"default description",testCases:[],requiresAutomaticTesting:!1,pieceSet:pd,otherRestrictions:[]};var J8=b(fe),Q8=Mr(Jt)(Wa),j8=ya(gu),K8=ha(gu),X8=y(Wa),Y8=Pt(jn)(ln),Z8={enableBoardSizeChange:!0},ca={problem:uo,boardDeltaRulesEngine:[],conversation:[],settings:Z8},If=function(n){return J8(Q8(function(r){return[j8,K8]})(n))(function(r){return X8(Y8(Zh(n)(r)))})};var TR=fu(ln)(Hs),CR=function(){return Vi()({"Criss(t) cross":{problem:{goal:Ks,title:"Cross over",description:"Propagate the signal on the left to the right, and the top to the bottom",testCases:If([an.value,vn.value]),pieceSet:TR(Xs),otherRestrictions:uo.otherRestrictions,requiresAutomaticTesting:uo.requiresAutomaticTesting},conversation:g(zn)(Cg)([O0("jaco")("criss cross")]),boardDeltaRulesEngine:ca.boardDeltaRulesEngine,settings:ca.settings},"Half Adder":{problem:{goal:LC,title:"Half Adder",description:"",testCases:If([an.value,vn.value]),pieceSet:TR(Xs),otherRestrictions:uo.otherRestrictions,requiresAutomaticTesting:uo.requiresAutomaticTesting},boardDeltaRulesEngine:ca.boardDeltaRulesEngine,conversation:ca.conversation,settings:ca.settings}})}();var z0=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var ER=fu(ln)(Hs),MR=fR(br),wR=function(){return Vi()({"From A to B":{problem:{goal:ia,title:"From A to B",description:"Propagate the signal inputed on the Left to the Right",testCases:If([an.value]),pieceSet:ER([ia]),otherRestrictions:uo.otherRestrictions,requiresAutomaticTesting:uo.requiresAutomaticTesting},boardDeltaRulesEngine:function(){var n=Ar(1)(1),r=Ar(0)(1),t=Ar(2)(1);return[new z0(qy(H1),xc(MR)(new v(KT(LD)(t)))($0("move this piece to location (2,1)"))),new z0(qy(I1(t)),xc(MR)(new v(KT(SD)(oe(Hr)(ia))))($0("add another piece")))]}(),conversation:ge(Fl)(function(n){return function(r){var t=n===0;return t?r:Cg(r)}})([]),settings:ca.settings},Conjunctivitis:{problem:{goal:ig,title:"Conjunctivitis",description:"Recreate an AND piece... without an AND piece",testCases:If([vn.value,an.value]),pieceSet:ER([ia,ag,eg]),otherRestrictions:uo.otherRestrictions,requiresAutomaticTesting:uo.requiresAutomaticTesting},conversation:[],boardDeltaRulesEngine:ca.boardDeltaRulesEngine,settings:ca.settings}})}();var FR=function(){return Vi()({Multiplexer:{problem:{goal:cg,title:"Multiplexer",description:"Use the multiplexer to combine the inputs on the top and left into one 2 bit output on the right",testCases:If([an.value,vn.value]),requiresAutomaticTesting:!1,pieceSet:fu(ln)(Hs)([ia,cg]),otherRestrictions:[]},boardDeltaRulesEngine:ca.boardDeltaRulesEngine,conversation:ca.conversation,settings:ca.settings}})}();var SR=Vi(),aQ=Lu(fe),AR=D_()(Wf(Wf(d_)()({reflectSymbol:function(){return"suiteName"}})(Cr))()({reflectSymbol:function(){return"puzzleName"}})(Cr)),oQ=Pt(AR)(ln),uQ=Ul(AR),LR=Bd(Qt),iQ=SR({}),Lm=SR({"Tutorial Suite":wR,"Identity Suite":iQ,"Intermediate Suite":CR,"Two Bit Suite":FR}),IR=function(n){var r=n.Monad0(),t=g(r.Bind1().Apply0().Functor0()),e=Ko(r.Applicative0())(Jt),a=UA(n);return t(function(o){return uQ(oQ(aQ(o)))})(e(LR(Lm))(function(o){return e(LR(o.value1))(function(u){return t(h.create({suiteName:o.value0,puzzleName:u.value0}))(a({suiteName:o.value0,puzzleName:u.value0}))})}))};var WR={reflectSymbol:function(){return"suiteName"}},$R={reflectSymbol:function(){return"puzzleName"}},fQ=Xn(D_()(Wf(Wf(d_)()(WR)(Cr))()($R)(Cr))),PR=b(fe),xR=Bd(Qt),cQ=b(mt),lQ=IR(vo),RR=Vn(Jn)(mt),sQ=w(Wl(yi()()(Iu($R)(bi(WR)(Da))(Da)))($A)),_Q=de(ot),NR=function(){function n(){}return n.value=new n,n}(),OR=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}(),qR=function(n){var r=wt(n.MonadEffect0()),t=gn(r),e=te(r),a=DD(r),o=Es(r),u=function(s){var m=function(l){return function(_){return Fc([Me(function(p){return new OR({suiteName:l,puzzleName:_})})])([Cn(_),function(){var p=fQ({suiteName:l,puzzleName:_})(s.puzzleProgress);if(p instanceof v&&p.value0 instanceof du)return Du([Na(XT)(du.value)])([Cn("  \u2714")]);if(p instanceof v&&p.value0 instanceof ui)return Du([Na(XT)(ui.value)])([Cn(" \u2736")]);if(p instanceof D)return Cn("");throw new Error("Failed pattern match at Component.PuzzleSelect (line 58, column 11 - line 61, column 34): "+[p.constructor.name])}()])}};return dt([ua("puzzle-select-component")])([Mc([Cn("Puzzle Select")]),jt(PR(xR(Lm))(function(l){return[ii([Cn(l.value0)]),zT(PR(xR(l.value1))(function(_){return[UT([m(l.value0)(_.value0)])]}))]}))])},f=function(s){return{puzzleProgress:Qn}},c=Ft({handleAction:function(s){if(s instanceof NR)return cQ(t(lQ))(function(m){return RR(e(sQ(m)))(function(){return _Q(function(l){var _={};for(var p in l)({}).hasOwnProperty.call(l,p)&&(_[p]=l[p]);return _.puzzleProgress=m,_})})});if(s instanceof OR)return RR(a(s.value0)(ui.value))(function(){return o(new nf(s.value0.suiteName,s.value0.puzzleName))});throw new Error("Failed pattern match at Component.PuzzleSelect (line 66, column 22 - line 73, column 69): "+[s.constructor.name])},handleQuery:Te.handleQuery,receive:Te.receive,initialize:new v(NR.value),finalize:Te.finalize});return vt({eval:c,initialState:f,render:u})};var Sm=kD(),mQ=Sm({reflectSymbol:function(){return"home"}})(Ie),vQ=Sm({reflectSymbol:function(){return"about"}})(Ie),dQ=Sm({reflectSymbol:function(){return"instructions"}})(Ie),DQ=Sm({reflectSymbol:function(){return"puzzleSelect"}})(Ie),UR=b(hr),gQ=y(pe),hQ=Sm({reflectSymbol:function(){return"puzzle"}})(Ie),BR=y(Gr),yQ=b(mt),bQ=Oe(ot),GR=Vn(Jn)(mt),TQ=Nr(Gr),CQ=le(Qe(vD)),EQ=de(ot),kR=function(){function n(r,t){this.value0=r,this.value1=t}return n.create=function(r){return function(t){return new n(r,t)}},n}();var zR=function(n){var r=xI(n),t=LI(n),e=RI(n),a=qR(n),o=bR(n),u=te(wt(n.MonadEffect0()));return function(f){var c=o(f);return function(s){var m=c(s),l=function(i){if(i.route instanceof v){if(i.route.value0 instanceof Cc)return mQ(Tn.value)(void 0)(r)(void 0);if(i.route.value0 instanceof Yi)return vQ(Tn.value)(void 0)(t)(void 0);if(i.route.value0 instanceof Zi)return dQ(Tn.value)(void 0)(e)(void 0);if(i.route.value0 instanceof vu)return DQ(Tn.value)(void 0)(a)(void 0);if(i.route.value0 instanceof nf)return Un(Cn("coublent find tht roblem"))(UR(mc(i.route.value0.value0)(Lm))(function(d){return UR(mc(i.route.value0.value1)(d))(function(M){return gQ(hQ(Tn.value)(void 0)(m)({puzzleId:{suiteName:i.route.value0.value0,puzzleName:i.route.value0.value1},puzzle:M}))})}));throw new Error("Failed pattern match at Component.Routes (line 71, column 15 - line 84, column 59): "+[i.route.value0.constructor.name])}if(i.route instanceof D)return jt([Cn("Oh no! That page wasn't found.")]);throw new Error("Failed pattern match at Component.Routes (line 70, column 22 - line 86, column 59): "+[i.route.constructor.name])},_=function(i){return{route:new v(Cc.value)}},p=Ft({finalize:D.value,handleAction:function(i){return BR(void 0)},handleQuery:function(i){return yQ(bQ)(function(d){return GR(TQ(CQ(d.route)(new v(i.value0)))(GR(u("navigate"))(function(){return EQ(function(M){var O={};for(var _n in M)({}).hasOwnProperty.call(M,_n)&&(O[_n]=M[_n]);return O.route=new v(i.value0),O})})))(function(){return BR(new v(i.value1))})})},initialize:D.value,receive:function(i){return D.value}});return vt({eval:p,initialState:_,render:l})}}};var wQ=b(wr),FQ=gn(st),V0=ur(Ur),LQ=__(Ur),SQ=y(lt),AQ=ur(hr),IQ=y(ir),HQ=g(bn);var VR=function(n){return wQ(FQ(V0(LQ(function(){var r=Bw(n);return function(t){return r(Bv(t))}}())(Zo))(yt)))(function(r){return SQ(AQ(Q_)(r))})},J0=Lv(Wr(Si)(U(IQ(void 0)))),JR=cl(function(n){return function(){var t=V0(_F)(V0(Zo)(yt))();if(t instanceof J_){var e=HQ(zv)(yt)(),a=ti(function(o){return n(new K(void 0))})();return vc(VT)(a)(!1)(e)(),Fv(dc(VT)(a)(!1)(e))}return n(new K(void 0))(),Lw}});var QR=L,Bo=L,jR=function(n){var r=Zn(n)(Wn);return function(t){return Bo(function(e){return r(t)(e.rendering)})}},xQ=L,KR=function(n){return function(r){return Bo(function(t){return xQ(r(t.rendering))})}},RQ=L,wg=function(n){return function(r){return n(r)}},XR=function(n){return function(r){return function(t){return function(e){return function(){var o=or({})(),u=or(Yl)(),f=or(Yl)(),c=or(t)(),s=or(new v(P.value))(),m=or(new v(P.value))(),l=or(D.value)(),_=or(1)(),p=or(new v(Qn))(),i=or(Qn)(),d={component:n,state:n.initialState(r),refs:Qn,children:Yl,childrenIn:u,childrenOut:f,selfRef:o,handlerRef:c,pendingQueries:s,pendingOuts:m,pendingHandlers:l,rendering:D.value,fresh:_,subscriptions:p,forks:i,lifecycleHandlers:e};return Bn(d)(o)(),RQ(o)}}}}};var NQ=Zn(ir)(Wn),OQ=ur(hr),WQ=Xn(Qb),it=b(wr),Tr=gn(st),$Q=Vn(Jn),Go=$Q(wr),eN=Zn(lt),qQ=eN(fr),aN=uD(oD),UQ=N_(Qf)(fr),wu=y(lt),BQ=g(By),YR=Ai(Qf),GQ=g(ka),ZR=gl(Qf),kQ=g(In),zQ=ae(Qb),VQ=xL(Eh),JQ=Va(Zd),QQ=vM(Ou),jQ=ae(Zd),nN=eN(Wn),rN=Xn(Zd),KQ=Xn(Cr),XQ=JL(Sv),YQ=uc(Cr),ZQ=function(n){return function(r){return function(){var e=sn(r)(),a=sn(e.subscriptions)();return NQ(Sl)(OQ(WQ(n))(a))()}}},Fg=function(n){return function(r){return it(Tr(sn(n)))(function(t){if(t instanceof D)return r;if(t instanceof v)return Tr(Bn(new v(new F(r,t.value0)))(n));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 188, column 33 - line 190, column 57): "+[t.constructor.name])})}},Lg=function(n){return function(r){return Go(Tr(Bn({initializers:P.value,finalizers:P.value})(n)))(function(){return it(Tr(r))(function(t){return it(Tr(sn(n)))(function(e){return Go(qQ(aN)(e.finalizers))(function(){return Go(UQ(e.initializers))(function(){return wu(t)})})})})})}},kc=Lv(Wr(Si)(U(y(ir)(void 0)))),tN=function(n){return function(r){return it(Tr(sn(r)))(function(t){return Tr(eh(function(e){return{state:e+1|0,value:n(e)}})(t.fresh))})}},j0=function(n){return function(r){return function(t){return it(Tr(sn(r)))(function(e){return Hf(n)(r)(e.component.eval(new vs(BQ(v.create)($1(t)),U(D.value))))})}}},Hf=function(n){return function(r){return function(t){var e=function(o){return function(u){return it(Tr(sn(o)))(function(f){return QL(function(c){var s=function(m){return YR(it(Tr(sn(m)))(function(l){return Bo(function(_){return j0(n)(_.selfRef)(c.value1)})(l)}))};return GQ(c.value2)(ZR(c.value0(Eh)(s)(f.children)))})(u)})}},a=function(o){return function(u){if(u instanceof Dc)return it(Tr(sn(o)))(function(f){var c=u.value0(f.state);if(tc(f.state)(c.value1))return wu(c.value0);if(kn)return Go(Tr(Bn({component:f.component,state:c.value1,refs:f.refs,children:f.children,childrenIn:f.childrenIn,childrenOut:f.childrenOut,selfRef:f.selfRef,handlerRef:f.handlerRef,pendingQueries:f.pendingQueries,pendingOuts:f.pendingOuts,pendingHandlers:f.pendingHandlers,rendering:f.rendering,fresh:f.fresh,subscriptions:f.subscriptions,forks:f.forks,lifecycleHandlers:f.lifecycleHandlers})(o)))(function(){return Go(Lg(f.lifecycleHandlers)(n(f.lifecycleHandlers)(o)))(function(){return wu(c.value0)})});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): "+[c.constructor.name])});if(u instanceof gc)return it(tN(jL)(o))(function(f){return it(Tr(Zv(u.value0(f))(function(c){return kc(K0(n)(o)(new Yu(c)))})))(function(c){return it(Tr(sn(o)))(function(s){return Go(Tr(Ea(kQ(zQ(f)(c)))(s.subscriptions)))(function(){return wu(u.value1(f))})})})});if(u instanceof as)return Go(Tr(ZQ(u.value0)(o)))(function(){return wu(u.value1)});if(u instanceof mu)return u.value0;if(u instanceof hc)return e(o)(u.value0);if(u instanceof yc)return it(Tr(sn(o)))(function(f){return it(Tr(sn(f.handlerRef)))(function(c){return Go(Fg(f.pendingOuts)(c(u.value0)))(function(){return wu(u.value1)})})});if(u instanceof os)return ZR(VQ(Vd(function(){var f=Hf(n)(o);return function(c){return YR(f(c))}}())(u.value0)));if(u instanceof us)return it(tN(KL)(o))(function(f){return it(Tr(sn(o)))(function(c){return it(Tr(or(!1)))(function(s){return it(aN(Ew(Tr(function(){return Ea(JQ(f))(c.forks)(),Bn(!0)(s)()}))(Hf(n)(o)(u.value0))))(function(m){return Go(Tr(QQ(sn(s))(Ea(jQ(f)(m))(c.forks))))(function(){return wu(u.value1(f))})})})})});if(u instanceof is)return it(Tr(sn(o)))(function(f){return it(Tr(sn(f.forks)))(function(c){return Go(nN(W_)(rN(u.value0)(c)))(function(){return wu(u.value1)})})});if(u instanceof fs)return it(Tr(sn(o)))(function(f){return it(Tr(sn(f.forks)))(function(c){return Go(nN($_($a("Cancelled")))(rN(u.value0)(c)))(function(){return wu(u.value1)})})});if(u instanceof bc)return it(Tr(sn(o)))(function(f){return wu(u.value1(KQ(u.value0)(f.refs)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 139, column 33): "+[u.constructor.name])}};return XQ(a(r))(t)}}},K0=function(n){return function(r){return function(t){if(t instanceof ns)return Tr(rn(Ea)(r)(wg(function(e){return{component:e.component,state:e.state,refs:YQ(U(t.value1))(t.value0)(e.refs),children:e.children,childrenIn:e.childrenIn,childrenOut:e.childrenOut,selfRef:e.selfRef,handlerRef:e.handlerRef,pendingQueries:e.pendingQueries,pendingOuts:e.pendingOuts,pendingHandlers:e.pendingHandlers,rendering:e.rendering,fresh:e.fresh,subscriptions:e.subscriptions,forks:e.forks,lifecycleHandlers:e.lifecycleHandlers}})));if(t instanceof Yu)return it(Tr(sn(r)))(function(e){return Hf(n)(r)(e.component.eval(new ms(t.value0,void 0)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): "+[t.constructor.name])}}};var r9=b(Ur),t9=Vn(Jn),sN=Ht(ir)(Wn),_N=Zn(lt)(fr),pN=uD(oD),Im=ur(Ur),mN=Zn(ir),vN=mN(Wn),oN=mN(jr),uN=t9(wr),e9=N_(Qf)(fr),Am=gn(st),iN=y(ir),X0=g(bn),Y0=y(lt),Z0=Nr(ir),a9=KR(bn),o9=xn(ka),fN=G1(ir),u9=jR(ir),i9=Xe(RM),f9=sa(bn),nE=b(wr),c9=gn(vo),cN=function(){return or({initializers:P.value,finalizers:P.value})}(),lN=function(n){return function(){var t=sn(n)();return Bn(D.value)(n)(),sN(t)(function(){var e=_N(pN);return function(a){return kc(e(Vu(a)))}}())()}},l9=function(n){return function(){return Im(vN(oN(Sl)))(sn(n.subscriptions))(),Bn(D.value)(n.subscriptions)(),Im(oN(function(){var t=$_($a("finalized"));return function(e){return kc(t(e))}}()))(sn(n.forks))(),Bn(Qn)(n.forks)()}},dN=function(n){return function(r){return function(t){var e=function(m){return function(l){return Bo(function(_){var p=Hf(u)(_.selfRef)(_.component.eval(new ss(void 0)));return Ea(function(i){return{initializers:new F(uN(e9(Vu(i.initializers)))(function(){return uN(p)(function(){return Am(function(){return lN(_.pendingQueries)(),lN(_.pendingOuts)()})})}),l),finalizers:i.finalizers}})(m)})}},a=function(m){return function(l){return function(_){return aD(function(p){return function(){var d=cN(),M=XR(p)(_)(l)(d)(),O=sn(m)();return Bn({initializers:P.value,finalizers:O.finalizers})(m)(),Im(Bo(function(){var _n=u(m);return function(Q){return _n(function(V){return V.selfRef}(Q))}}()))(sn(M))(),Im(e(m)(O.initializers))(sn(M))(),M}})}}},o=function(m){return function(l){return function(_){return function(p){return eD(function(i){return function(){var M=X0(i.pop)(sn(_))(),O=function(){if(M instanceof v){Bn(M.value0.value1)(_)();var Q=sn(M.value0.value0)();return Bo(function(V){return function(){return rn(Bn)(V.handlerRef)(function(){var Pn=on(Y0(void 0))(l);return function(xr){return Pn(i.output(xr))}}())(),kc(Hf(u)(V.selfRef)(V.component.eval(new ps(i.input,void 0))))()}})(Q)(),M.value0.value0}if(M instanceof D)return a(m)(function(){var V=on(Y0(void 0))(l);return function(S){return V(i.output(S))}}())(i.input)(i.component)();throw new Error("Failed pattern match at Halogen.Aff.Driver (line 213, column 14 - line 222, column 98): "+[M.constructor.name])}(),_n=X0(function(Q){return so(i.get(Q))})(sn(p))();return Z0(_n)(B_("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(),Ea(i.set(O))(p)(),r9(sn(O))(a9(function(Q){if(Q instanceof D)return uv("Halogen internal error: child was not initialized in renderChild");if(Q instanceof v)return iN(n.renderChild(Q.value0));throw new Error("Failed pattern match at Halogen.Aff.Driver (line 227, column 37 - line 229, column 50): "+[Q.constructor.name])}))()}})}}}},u=function(m){return function(l){return function(){var p=sn(l)(),i=X0(Je)(sn(p.pendingHandlers))();Z0(i)(Bn(new v(P.value))(p.pendingHandlers))(),Bn(Yl)(p.childrenOut)(),Bn(p.children)(p.childrenIn)();var d=function(){var V=Fg(p.pendingHandlers),S=K0(u)(p.selfRef);return function(Pn){return V(o9(S(Pn)))}}(),M=function(){var V=Fg(p.pendingQueries);return function(S){return V(d(Yu.create(S)))}}(),O=n.render(function(V){return kc(d(V))})(o(m)(M)(p.childrenIn)(p.childrenOut))(p.component.render(p.state))(p.rendering)(),_n=sn(p.childrenOut)(),Q=sn(p.childrenIn)();return fN(Q)(function(V){return function(){var Pn=sn(V)();return u9(n.removeChild)(Pn)(),f(m)(Pn)()}})(),rn(Ea)(p.selfRef)(wg(function(V){return{component:V.component,state:V.state,refs:V.refs,children:_n,childrenIn:V.childrenIn,childrenOut:V.childrenOut,selfRef:V.selfRef,handlerRef:V.handlerRef,pendingQueries:V.pendingQueries,pendingOuts:V.pendingOuts,pendingHandlers:V.pendingHandlers,rendering:new v(O),fresh:V.fresh,subscriptions:V.subscriptions,forks:V.forks,lifecycleHandlers:V.lifecycleHandlers}}))(),Z0(i)(rn(i9)(void 0)(function(V){return function(){var Pn=sn(p.pendingHandlers)();Bn(new v(P.value))(p.pendingHandlers)(),vN(function(){var Pf=_N(pN);return function(_i){return kc(Pf(Vu(_i)))}}())(Pn)();var xr=sn(p.pendingHandlers)(),Fu=on(!1)(r1)(xr);return Fu?f9(Bn(D.value)(p.pendingHandlers))(new gt(void 0))():new ht(void 0)}}))()}}},f=function(m){return Bo(function(l){return function(){l9(l)();var p=Hf(u)(l.selfRef)(l.component.eval(new _s(void 0)));return Ea(function(i){return{initializers:i.initializers,finalizers:new F(p,i.finalizers)}})(m)(),fN(l.children)(function(i){return function(){var M=sn(i)();return f(m)(M)()}})()}})},c=function(m){return function(l){return function(_){return nE(Am(sn(m)))(function(p){return p?Y0(D.value):j0(u)(l)(_)})}}},s=function(m){return function(l){return function(_){return Lg(l)(function(){var i=sn(m)();return i?void 0:(Bn(!0)(m)(),f(l)(_)(),Bo(function(d){return function(){var O=c9(sn(d.selfRef))();return sN(O.rendering)(n.dispose)()}})(_)())})}}};return nE(Am(cN))(function(m){return nE(Am(or(!1)))(function(l){return Lg(m)(function(){var p=Oi(),i=Im(sn)(a(m)(function(){var d=Gu(p.listener);return function(M){return Am(d(M))}}())(t)(r))();return Bo(function(d){return iN({query:c(l)(d.selfRef),messages:p.emitter,dispose:s(l)(m)(i)})})(i)()})})})}}};var rE=function(n,r,t){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return e=1,a=t(),e=2,a}},tE=xn(bn),_9=y(ir),p9=Zn(ir)(Wn),m9=rr(),v9=Nr(ir),d9=At(Ei(Ei(tt))),D9=W(q),g9=b(wr),h9=gn(st),y9=g(bn),b9=ur(Ur);var T9=function(n){return function(r){return function(t){return r instanceof v&&t instanceof v?tE(Oh(n)(r.value0)(t.value0)):r instanceof D&&t instanceof v?tE(Uv(n)(t.value0)):_9(void 0)}}},DN=function(n){return function(){var t=Bh(n.node)();return p9(function(e){return Wh(n.node)(e)})(t)()}},C9=function(n){return function(r){return function(t){var e=QR(function(f){return f.node}),a=function(f){return f instanceof v?ta(f.value0):void 0},o=function(f){var c=rS(m9)(f),s=rE("patch","Halogen.VDom.Driver",function(){return function(d,M){if(d instanceof v){if(M instanceof Ki)return ta(d.value0),l(100)(M.value0);if(M instanceof ds){var O=ra(d.value0,M.value0);return Xr(new Kr(ie(O),new v(O),s(103),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 97, column 22 - line 103, column 79): "+[M.constructor.name])}return m(104)(M)}}),m=rE("render","Halogen.VDom.Driver",function(){return function(d){if(d instanceof Ki)return l(86)(d.value0);if(d instanceof ds){var M=c(d.value0);return Xr(new Kr(ie(M),new v(M),s(89),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 84, column 7 - line 89, column 75): "+[d.constructor.name])}}),l=rE("renderComponentSlot","Halogen.VDom.Driver",function(){return function(d){var M=sn(r)(),O=M(d)(),_n=e(O);return Xr(new Kr(_n,D.value,s(117),a))}}),_=s(91),p=m(82),i=l(109);return p},u=yL(n);return{buildWidget:o,buildAttributes:u,document:t}}}},E9=function(n){return function(r){var t=function(e){return function(a){return function(o){return function(u){if(u instanceof D)return function(){var c=or(a)(),s=C9(e)(c)(n),m=Ip(s)(o),l=ie(m);return tE(Uv(l)(mF(r)))(),{machine:m,node:l,renderChildRef:c}};if(u instanceof v)return function(){Bn(a)(u.value0.renderChildRef)();var c=Bh(u.value0.node)(),s=oF(u.value0.node)(),m=ra(u.value0.machine,o),l=ie(m);return v9(d9(tc)(u.value0.node)(l))(T9(l)(s)(c))(),{machine:m,node:l,renderChildRef:u.value0.renderChildRef}};throw new Error("Failed pattern match at Halogen.VDom.Driver (line 157, column 5 - line 173, column 80): "+[u.constructor.name])}}}};return{render:t,renderChild:D9,removeChild:DN,dispose:DN}}},gN=function(n){return function(r){return function(t){return g9(h9(y9(sF)(b9(Zo)(yt))))(function(e){return dN(E9(e)(t))(n)(r)})}}};var eE=b(wr),w9=xn(bn),F9=CA(Fi),L9=Nr(ir),S9=le(Qe(vD)),A9=zR(CS)(TS)(bS),I9=ur(wr),H9=gn(st),P9=eE(VR("#abed"))(on(pr(q_)($a("Could not find element #abed")))(y(lt))),x9=function(n){return w9(F9(iA(HT))(function(r){return function(t){return L9(S9(r)(new v(t)))(n(t))}}))},hN=J0(Vn(Jn)(wr)(JR)(function(){return eE(ES(A9))(function(n){return eE(I9(gN(n)(void 0))(P9))(function(r){return H9(x9(function(t){return J0(r.query(new kR(t,void 0)))}))})})}));hN();})();
