@content-width: 750px;
@port-height: 13%;

#content {
    max-width: @content-width;
    margin: 0 auto;
    background-color: rgba(255, 73, 231, 0.466);
}

@glow-duration: 1s;

@keyframes blink {
    0% { 
        box-shadow: 0 0 10px 10px #e74747;
    }
    50% { 
        box-shadow: none;
    }
    66% { 
        box-shadow: 0 0 10px 10px #e74747;
    }
}

#abed {
    user-select: none;
    & .spotlight {
        animation-name: blink;
        animation-duration: 1s;
        animation-direction: normal;
        animation-iteration-count: 1;
        animation-timing-function: linear;

    }
}

#puzzle-select-component {
    & span[data-puzzle-progress="completed"] {
        color: green;
    }
    & span[data-puzzle-progress="incomplete"] {
        color: yellow;
    }
}


#board-component table {
    @board-port-margin: 30px;

    background-color:yellowgreen;
    width: 100%;
    height: 100%;
    aspect-ratio: 1 / 1;
    border-spacing: 0px;

    & tr > td:first-child { max-width: @board-port-margin; }
    & tr > td:last-child { max-width: @board-port-margin; }

    & > tr:first-child > td { max-height: @board-port-margin; }
    & > tr:last-child  > td { max-height: @board-port-margin; }

    & .piece {
        display: block;
        aspect-ratio: 1 / 1;
        height: 100%;
        width: 100%;
        background-color: beige;
        z-index: 0;
    }

}

#board-component .board-port {
    position: relative;
    background-color: coral;
    width: 100%;
    height: 100%;

    & div {
        display: flex;
        justify-content: center;
        background-color: aqua;
    }

    & img {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: contain;
        //display: none;
    }


    &.Up {
        //height: 100%;
        //padding-top: @port-height;
        transform: rotate(180deg);
    } 
    &.Right {
        img {
            transform: rotate(-90deg) translateX(-100%);
            transform-origin: top left;
        }
        //height: @port-height;
        //width: auto;
        ////aspect-ratio: unit(@port-height) / 100;
        ////padding-right: @port-height;
        //transform: rotate(-90deg);
    }
    &.Down {
        //transform: rotate(180deg);
        ///width: 100%;
        ///padding-bottom: @port-height;
    } 
    &.Left {
        ///height: 100%;
        ///aspect-ratio: unit(@port-height) / 100;
        //padding-left: @port-height;
        transform: rotate(90deg);
    } 
}

.piece-component {
    background-image: linear-gradient(45deg, transparent 50%, rgba(0, 0, 0, 0.5) 50%);
    //display: flex;
    //justify-content: center;
    //align-items: center;
    user-select: none;
    aspect-ratio: 1 / 1;
    z-index: 1;
    position: relative;


    & > div {
        position: absolute;
    }

    & .port {
        display: flex;
        justify-content: center;
        background-color: aqua;
        width: 100% - 2 * @port-height;
        height: @port-height;

        & .port-icon {
            object-fit: cover;
            max-height: 100%;
            max-width: 100%;
        }
    }

    & .Up {
        top: 0;
        left: @port-height;
    }

    & .Down {
        top: 100% - @port-height;
        left: @port-height;
        transform: rotate(180deg);
        transform-origin: center center;
    }

    & .Left {
        top: 100% - 2 * @port-height;
        left: @port-height;
        transform-origin: 0% 100%;
        transform: rotate(-90deg);
    }

    & .Right {
        top: 0;
        left: 100% - @port-height;
        transform-origin: 0% 100%;
        transform: rotate(90deg);
    }

    & .piece-name {
        top: @port-height;
        left: @port-height;
        font-size: 50px;
    }
}


.chat-component {
    font-family: 'Courier New', Courier, monospace;
    vertical-align: top;
    font-size: small;
    overflow-y: scroll;
    height: 200px;

    & #anchor {
    overflow-anchor: auto;
    height: 1px;
    }

    & table {
        overflow-anchor: none;

        & td {
            padding-left: 10px;
            padding-right: 10px;
            vertical-align: top;
        }

        & td, table td * {
            vertical-align: top;
        }

        & .username {
            text-align: right;
            width: 70px;

            [data-username="guide"] {
                color:blue;
            }
        }

        & .message {
            border-left: 1px solid black;
        }

    }
}

.sidebar-component {
    width: 400px;
    top: 0;
    right: 0;
    position: fixed;

    & .port { color:red; }
    & .direction { color:darkgoldenrod; }
}
